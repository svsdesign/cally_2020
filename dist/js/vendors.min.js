!function(s){var o=window.MutationObserver||window.WebKitMutationObserver;s.fn.attrchange=function(e,t){if("object"!=typeof e)return"string"==typeof e&&s.fn.attrchange.hasOwnProperty("extensions")&&s.fn.attrchange.extensions.hasOwnProperty(e)?s.fn.attrchange.extensions[e].call(this,t):void 0;var r={trackValues:!1,callback:s.noop};if("function"==typeof e?r.callback=e:s.extend(r,e),r.trackValues&&this.each(function(e,t){for(var r,n={},e=0,i=t.attributes,o=i.length;e<o;e++)n[(r=i.item(e)).nodeName]=r.value;s(this).data("attr-old-value",n)}),o){var n={subtree:!1,attributes:!0,attributeOldValue:r.trackValues},i=new o(function(e){e.forEach(function(e){var t=e.target;r.trackValues&&(e.newValue=s(t).attr(e.attributeName)),void 0===s(this).data("attrchange-tdisconnect")&&r.callback.call(t,e)})});return this.data("attrchange-method","Mutation Observer").data("attrchange-obs",i).each(function(){i.observe(this,n)})}return function(){var e=document.createElement("p"),t=!1;if(e.addEventListener)e.addEventListener("DOMAttrModified",function(){t=!0},!1);else{if(!e.attachEvent)return;e.attachEvent("onDOMAttrModified",function(){t=!0})}return e.setAttribute("id","target"),t}()?this.data("attrchange-method","DOMAttrModified").on("DOMAttrModified",function(e){e.originalEvent&&(e=e.originalEvent),e.attributeName=e.attrName,e.oldValue=e.prevValue,void 0===s(this).data("attrchange-tdisconnect")&&r.callback.call(this,e)}):"onpropertychange"in document.body?this.data("attrchange-method","propertychange").on("propertychange",function(e){e.attributeName=window.event.propertyName,function(e,t){var r,n;e&&(r=this.data("attr-old-value"),0<=t.attributeName.indexOf("style")?(r.style||(r.style={}),n=t.attributeName.split("."),t.attributeName=n[0],t.oldValue=r.style[n[1]],t.newValue=n[1]+":"+this.prop("style")[s.camelCase(n[1])],r.style[n[1]]=t.newValue):(t.oldValue=r[t.attributeName],t.newValue=this.attr(t.attributeName),r[t.attributeName]=t.newValue),this.data("attr-old-value",r))}.call(s(this),r.trackValues,e),void 0===s(this).data("attrchange-tdisconnect")&&r.callback.call(this,e)}):this}}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).barba=t()}(this,function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function e(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t,r){return(a=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&s(i,r.prototype),i}).apply(null,arguments)}function t(e){var r="function"==typeof Map?new Map:void 0;return(t=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,o(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s(t,e)})(e)}function h(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var l,r;(r=l=l||{})[r.off=0]="off",r[r.error=1]="error",r[r.warning=2]="warning",r[r.info=3]="info",r[r.debug=4]="debug";var A=l.off,B=function(){function n(e){this.t=e}n.getLevel=function(){return A},n.setLevel=function(e){return A=l[e]};var e=n.prototype;return e.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.i(console.error,l.error,t)},e.warn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.i(console.warn,l.warning,t)},e.info=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.i(console.info,l.info,t)},e.debug=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.i(console.log,l.debug,t)},e.i=function(e,t,r){t<=n.getLevel()&&e.apply(console,["["+this.t+"] "].concat(r))},n}(),u=E,c=m,p=g,d=y,f=_,w="/",C=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function g(e,t){for(var r,n=[],i=0,o=0,s="",a=t&&t.delimiter||w,l=t&&t.whitelist||void 0,A=!1;null!==(r=C.exec(e));){var u,h,c,p,d,f,g,m,y,v=r[0],_=r[1],E=r.index;s+=e.slice(o,E),o=E+v.length,_?(s+=_[1],A=!0):(u="",h=r[2],c=r[3],p=r[4],d=r[5],!A&&s.length&&(g=s[f=s.length-1],(!l||-1<l.indexOf(g))&&(u=g,s=s.slice(0,f))),s&&(n.push(s),s="",A=!1),m=c||p,y=u||a,n.push({name:h||i++,prefix:u,delimiter:y,optional:"?"===d||"*"===d,repeat:"+"===d||"*"===d,pattern:m?m.replace(/([=!:$/()])/g,"\\$1"):"[^"+S(y===a?y:y+a)+"]+?"}))}return(s||o<e.length)&&n.push(s+e.substr(o)),n}function m(A,u){return function(e,t){var r=A.exec(e);if(!r)return!1;for(var n,i=r[0],o=r.index,s={},a=t&&t.decode||decodeURIComponent,l=1;l<r.length;l++){void 0!==r[l]&&(s[(n=u[l-1]).name]=n.repeat?r[l].split(n.delimiter).map(function(e){return a(e,n)}):a(r[l],n))}return{path:i,index:o,params:s}}}function y(u,e){for(var h=new Array(u.length),t=0;t<u.length;t++)"object"==typeof u[t]&&(h[t]=new RegExp("^(?:"+u[t].pattern+")$",v(e)));return function(e,t){for(var r="",n=t&&t.encode||encodeURIComponent,i=!t||!1!==t.validate,o=0;o<u.length;o++){var s=u[o];if("string"!=typeof s){var a,l=e?e[s.name]:void 0;if(Array.isArray(l)){if(!s.repeat)throw new TypeError('Expected "'+s.name+'" to not repeat, but got array');if(0===l.length){if(s.optional)continue;throw new TypeError('Expected "'+s.name+'" to not be empty')}for(var A=0;A<l.length;A++){if(a=n(l[A],s),i&&!h[o].test(a))throw new TypeError('Expected all "'+s.name+'" to match "'+s.pattern+'"');r+=(0===A?s.prefix:s.delimiter)+a}}else if("string"!=typeof l&&"number"!=typeof l&&"boolean"!=typeof l){if(!s.optional)throw new TypeError('Expected "'+s.name+'" to be '+(s.repeat?"an array":"a string"))}else{if(a=n(String(l),s),i&&!h[o].test(a))throw new TypeError('Expected "'+s.name+'" to match "'+s.pattern+'", but got "'+a+'"');r+=s.prefix+a}}else r+=s}return r}}function S(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function v(e){return e&&e.sensitive?"":"i"}function _(e,t,r){for(var n,i,o=(r=r||{}).strict,s=!1!==r.start,a=!1!==r.end,l=r.delimiter||w,A=[].concat(r.endsWith||[]).map(S).concat("$").join("|"),u=s?"^":"",h=0;h<e.length;h++){var c,p=e[h];"string"==typeof p?u+=S(p):(c=p.repeat?"(?:"+p.pattern+")(?:"+S(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern,t&&t.push(p),u+=p.optional?p.prefix?"(?:"+S(p.prefix)+"("+c+"))?":"("+c+")?":S(p.prefix)+"("+c+")")}return a?(o||(u+="(?:"+S(l)+")?"),u+="$"===A?"$":"(?="+A+")"):(i="string"==typeof(n=e[e.length-1])?n[n.length-1]===l:void 0===n,o||(u+="(?:"+S(l)+"(?="+A+"))?"),i||(u+="(?="+S(l)+"|"+A+")")),new RegExp(u,v(r))}function E(e,t,r){return e instanceof RegExp?function(e,t){if(!t)return e;var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(E(e[i],t,r).source);return new RegExp("(?:"+n.join("|")+")",v(r))}(e,t,r):(n=t,_(g(e,i=r),n,i));var n,i}u.match=function(e,t){var r=[];return m(E(e,r,t),r)},u.regexpToFunction=c,u.parse=p,u.compile=function(e,t){return y(g(e,t),t)},u.tokensToFunction=d,u.tokensToRegExp=f;function P(e,i){try{var t=function(){if(!i.next.html)return Promise.resolve(e).then(function(e){var t,r,n=i.next;e&&(t=M.toElement(e),n.namespace=M.getNamespace(t),n.container=M.getContainer(t),n.html=e,I.update({ns:n.namespace}),r=M.toDocument(e),document.title=r.title)})}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}function F(){return window.location.origin}function x(e){return void 0===e&&(e=window.location.href),N(e).port}function T(e){return void 0===e&&(e=window.location.href),e.replace(/(\/#.*|\/|#.*)$/,"")}var U,Q,D={container:"container",history:"history",namespace:"namespace",prefix:"data-barba",prevent:"prevent",wrapper:"wrapper"},M=((Q=z.prototype).toString=function(e){return e.outerHTML},Q.toDocument=function(e){return this.u.parseFromString(e,"text/html")},Q.toElement=function(e){var t=document.createElement("div");return t.innerHTML=e,t},Q.getHtml=function(e){return void 0===e&&(e=document),this.toString(e.documentElement)},Q.getWrapper=function(e){return void 0===e&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.wrapper+'"]')},Q.getContainer=function(e){return void 0===e&&(e=document),e.querySelector("["+this.o.prefix+'="'+this.o.container+'"]')},Q.removeContainer=function(e){document.body.contains(e)&&e.parentNode.removeChild(e)},Q.addContainer=function(e,t){var r=this.getContainer();r?this.s(e,r):t.appendChild(e)},Q.getNamespace=function(e){void 0===e&&(e=document);var t=e.querySelector("["+this.o.prefix+"-"+this.o.namespace+"]");return t?t.getAttribute(this.o.prefix+"-"+this.o.namespace):null},Q.getHref=function(e){if(e.tagName&&"a"===e.tagName.toLowerCase()){if("string"==typeof e.href)return e.href;var t=e.getAttribute("href")||e.getAttribute("xlink:href");if(t)return this.resolveUrl(t.baseVal||t)}return null},Q.resolveUrl=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.length;if(0===n)throw new Error("resolveUrl requires at least one argument; got none.");var i=document.createElement("base");if(i.href=arguments[0],1===n)return i.href;var o=document.getElementsByTagName("head")[0];o.insertBefore(i,o.firstChild);for(var s,a=document.createElement("a"),l=1;l<n;l++)a.href=arguments[l],i.href=s=a.href;return o.removeChild(i),s},Q.s=function(e,t){t.parentNode.insertBefore(e,t.nextSibling)},new z),I=((U=L.prototype).init=function(e,t){this.l="barba";var r={ns:t,scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(r),this.v=0;var n={from:this.l,index:0,states:[].concat(this.h)};window.history&&window.history.replaceState(n,"",e)},U.change=function(e,t,r){var n,i;return r&&r.state?(i=(n=r.state).index,t=this.m(this.v-i),this.replace(n.states),this.v=i):this.add(e,t),t},U.add=function(e,t){var r=this.size,n=this.p(t),i={ns:"tmp",scroll:{x:window.scrollX,y:window.scrollY},url:e};this.h.push(i),this.v=r;var o={from:this.l,index:r,states:[].concat(this.h)};switch(n){case"push":window.history&&window.history.pushState(o,"",e);break;case"replace":window.history&&window.history.replaceState(o,"",e)}},U.update=function(e,t){var r=t||this.v,n=b({},this.get(r),{},e);this.set(r,n)},U.remove=function(e){e?this.h.splice(e,1):this.h.pop(),this.v--},U.clear=function(){this.h=[],this.v=-1},U.replace=function(e){this.h=e},U.get=function(e){return this.h[e]},U.set=function(e,t){return this.h[e]=t},U.p=function(e){var t="push",r=e,n=D.prefix+"-"+D.history;return r.hasAttribute&&r.hasAttribute(n)&&(t=r.getAttribute(n)),t},U.m=function(e){return 1<Math.abs(e)?0<e?"forward":"back":0===e?"popstate":0<e?"back":"forward"},e(L,[{key:"current",get:function(){return this.h[this.v]}},{key:"state",get:function(){return this.h[this.h.length-1]}},{key:"previous",get:function(){return this.v<1?null:this.h[this.v-1]}},{key:"size",get:function(){return this.h.length}}]),new L),R=u,k={__proto__:null,update:P,nextTick:function(){return new Promise(function(e){window.requestAnimationFrame(e)})},pathToRegexp:R},N=function(e){var t,r,n=e.match(/:\d+/);null===n?(/^http/.test(e)&&(r=80),/^https/.test(e)&&(r=443)):(t=n[0].substring(1),r=parseInt(t,10));var i,o=e.replace(F(),""),s={},a=o.indexOf("#");0<=a&&(i=o.slice(a+1),o=o.slice(0,a));var l=o.indexOf("?");return 0<=l&&(s=O(o.slice(l+1)),o=o.slice(0,l)),{hash:i,path:o,port:r,query:s}},O=function(e){return e.split("&").reduce(function(e,t){var r=t.split("=");return e[r[0]]=r[1],e},{})},H={__proto__:null,getHref:function(){return window.location.href},getOrigin:F,getPort:x,getPath:function(e){return void 0===e&&(e=window.location.href),N(e).path},parse:N,parseQuery:O,clean:T};function L(){this.h=[],this.v=-1}function z(){this.o=D,this.u=new DOMParser}function K(i,o,s){return void 0===o&&(o=2e3),new Promise(function(t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){var e;n.readyState===XMLHttpRequest.DONE&&(200===n.status?t(n.responseText):n.status&&(e={status:n.status,statusText:n.statusText},s(i,e),r(e)))},n.ontimeout=function(){var e=new Error("Timeout error ["+o+"]");s(i,e),r(e)},n.onerror=function(){var e=new Error("Fetch error");s(i,e),r(e)},n.open("GET",i),n.timeout=o,n.setRequestHeader("Accept","text/html,application/xhtml+xml,application/xml"),n.setRequestHeader("x-barba","yes"),n.send()})}function V(s,a){return void 0===a&&(a={}),function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var o=!1;return new Promise(function(r,n){a.async=function(){return o=!0,function(e,t){e?n(e):r(t)}};var e,t=s.apply(a,i);o||(!(e=t)||"object"!=typeof e&&"function"!=typeof e||"function"!=typeof e.then?r(t):t.then(r,n))})}}function j(){return!window.history.pushState}function G(e){return!e.el||!e.href}function q(e){var t=e.event;return 1<t.which||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey}function W(e){var t=e.el;return t.hasAttribute("target")&&"_blank"===t.target}function X(e){var t=e.el;return void 0!==t.protocol&&window.location.protocol!==t.protocol||void 0!==t.hostname&&window.location.hostname!==t.hostname}function J(e){var t=e.el;return void 0!==t.port&&x()!==x(t.href)}function Y(e){var t=e.el;return t.getAttribute&&"string"==typeof t.getAttribute("download")}function Z(e){return e.el.hasAttribute(D.prefix+"-"+D.prevent)}function $(e){return Boolean(e.el.closest("["+D.prefix+"-"+D.prevent+'="all"]'))}function ee(e){var t=e.href;return T(t)===T()&&x(t)===x()}var te,re,ne,ie=new(function(t){function e(){var e;return(e=t.call(this)||this).logger=new B("@barba/core"),e.all=["ready","page","reset","currentAdded","currentRemoved","nextAdded","nextRemoved","beforeOnce","once","afterOnce","before","beforeLeave","leave","afterLeave","beforeEnter","enter","afterEnter","after"],e.registered=new Map,e.init(),e}i(e,t);var r=e.prototype;return r.init=function(){var n=this;this.registered.clear(),this.all.forEach(function(r){n[r]||(n[r]=function(e,t){n.registered.has(r)||n.registered.set(r,new Set),n.registered.get(r).add({ctx:t||{},fn:e})})})},r.do=function(t){for(var r=this,e=arguments.length,n=new Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(this.registered.has(t)){var o=Promise.resolve();return this.registered.get(t).forEach(function(e){o=o.then(function(){return V(e.fn,e.ctx).apply(void 0,n)})}),o.catch(function(e){r.logger.debug("Hook error ["+t+"]"),r.logger.error(e)})}return Promise.resolve()},r.clear=function(){var t=this;this.all.forEach(function(e){delete t[e]}),this.init()},r.help=function(){this.logger.info("Available hooks: "+this.all.join(","));var r=[];this.registered.forEach(function(e,t){return r.push(t)}),this.logger.info("Registered hooks: "+r.join(","))},e}(function(){})),oe=(ge.prototype.checkHref=function(e){if("boolean"==typeof this.g)return this.g;var t=N(e).path;return this.P.some(function(e){return null!==e.exec(t)})},ge),se=function(r){function e(e){var t;return(t=r.call(this,e)||this).k=new Map,t}i(e,r);var t=e.prototype;return t.set=function(e,t,r){return this.k.set(e,{action:r,request:t}),{action:r,request:t}},t.get=function(e){return this.k.get(e)},t.getRequest=function(e){return this.k.get(e).request},t.getAction=function(e){return this.k.get(e).action},t.has=function(e){return!this.checkHref(e)&&this.k.has(e)},t.delete=function(e){return this.k.delete(e)},t.update=function(e,t){var r=b({},this.k.get(e),{},t);return this.k.set(e,r),r},e}(oe),ae=function(r){function e(e){var t;return(t=r.call(this,e)||this).suite=[],t.tests=new Map,t.init(),t}i(e,r);var t=e.prototype;return t.init=function(){this.add("pushState",j),this.add("exists",G),this.add("newTab",q),this.add("blank",W),this.add("corsDomain",X),this.add("corsPort",J),this.add("download",Y),this.add("preventSelf",Z),this.add("preventAll",$),this.add("sameUrl",ee,!1)},t.add=function(e,t,r){void 0===r&&(r=!0),this.tests.set(e,t),r&&this.suite.push(e)},t.run=function(e,t,r,n){return this.tests.get(e)({el:t,event:r,href:n})},t.checkLink=function(t,r,n){var i=this;return this.suite.some(function(e){return i.run(e,t,r,n)})},e}(oe),le=(i(fe,ne=t(Error)),fe),Ae=((re=de.prototype).add=function(e,t){switch(e){case"rule":this.A.splice(t.position||0,0,t.value);break;case"transition":default:this.all.push(t)}this.update()},re.resolve=function(i,e){var o=this;void 0===e&&(e={});var t,r,n=(n=e.once?this.once:this.page).filter(e.self?function(e){return e.name&&"self"===e.name}:function(e){return!e.name||"self"!==e.name}),s=new Map,a=n.find(function(t){var r=!0,n={};return!(!e.self||"self"!==t.name)||(o.A.reverse().forEach(function(e){r&&(r=o.R(t,e,i,n),t.from&&t.to&&(r=o.R(t,e,i,n,"from")&&o.R(t,e,i,n,"to")),t.from&&!t.to&&(r=o.R(t,e,i,n,"from")),!t.from&&t.to&&(r=o.R(t,e,i,n,"to")))}),s.set(t,n),r)}),l=s.get(a),A=[];return A.push(e.once?"once":"page"),e.self&&A.push("self"),l?(r=[a],0<Object.keys(l).length&&r.push(l),(t=this.logger).info.apply(t,["Transition found ["+A.join(",")+"]"].concat(r))):this.logger.info("No transition found ["+A.join(",")+"]"),a},re.update=function(){var t=this;this.all=this.all.map(function(e){return t.T(e)}).sort(function(e,t){return e.priority-t.priority}).reverse().map(function(e){return delete e.priority,e}),this.page=this.all.filter(function(e){return void 0!==e.leave||void 0!==e.enter}),this.once=this.all.filter(function(e){return void 0!==e.once})},re.R=function(e,t,r,n,i){var o=!0,s=!1,a=e,l=t.name,A=l,u=l,h=l,c=i?a[i]:a,p="to"===i?r.next:r.current;if((!i||c)&&c[l]){switch(t.type){case"strings":default:var d=Array.isArray(c[A])?c[A]:[c[A]];p[A]&&-1!==d.indexOf(p[A])&&(s=!0),-1===d.indexOf(p[A])&&(o=!1);break;case"object":var f=Array.isArray(c[u])?c[u]:[c[u]];p[u]?(p[u].name&&-1!==f.indexOf(p[u].name)&&(s=!0),-1===f.indexOf(p[u].name)&&(o=!1)):o=!1;break;case"function":c[h](r)?s=!0:o=!1}s&&(i?(n[i]=n[i]||{},n[i][l]=a[i][l]):n[l]=a[l])}return o},re.O=function(e,t,r){var n=0;return(e[t]||e.from&&e.from[t]||e.to&&e.to[t])&&(n+=Math.pow(10,r),e.from&&e.from[t]&&(n+=1),e.to&&e.to[t]&&(n+=2)),n},re.T=function(r){var n=this,i=r.priority=0;return this.A.forEach(function(e,t){i+=n.O(r,e.name,t+1)}),r.priority=i,r},de),ue=((te=pe.prototype).get=function(e,t){return this.store.resolve(e,t)},te.doOnce=function(e){var t=e.data,r=e.transition;try{function n(){i.S=!1}var i=this,o=r||{};i.S=!0;var s=h(function(){return Promise.resolve(i.j("beforeOnce",t,o)).then(function(){return Promise.resolve(i.once(t,o)).then(function(){return Promise.resolve(i.j("afterOnce",t,o)).then(function(){})})})},function(e){i.S=!1,i.logger.debug("Transition error [before/after/once]"),i.logger.error(e)});return Promise.resolve(s&&s.then?s.then(n):n())}catch(e){return Promise.reject(e)}},te.doPage=function(e){var n=e.data,t=e.transition,i=e.page,o=e.wrapper;try{function r(e){if(s)return e;a.S=!1}var s=!1,a=this,l=t||{},A=!0===l.sync||!1;a.S=!0;var u=h(function(){function e(){return Promise.resolve(a.j("before",n,l)).then(function(){function e(e){return Promise.resolve(a.remove(n)).then(function(){return Promise.resolve(a.j("after",n,l)).then(function(){})})}var t=function(){if(A)return h(function(){return Promise.resolve(a.add(n,o)).then(function(){return Promise.resolve(a.j("beforeLeave",n,l)).then(function(){return Promise.resolve(a.j("beforeEnter",n,l)).then(function(){return Promise.resolve(Promise.all([a.leave(n,l),a.enter(n,l)])).then(function(){return Promise.resolve(a.j("afterLeave",n,l)).then(function(){return Promise.resolve(a.j("afterEnter",n,l)).then(function(){})})})})})})},function(e){if(a.M(e))throw new le(e,"Transition error [sync]")});function e(e){return h(function(){var e=function(){if(!1!==t)return Promise.resolve(a.add(n,o)).then(function(){return Promise.resolve(a.j("beforeEnter",n,l)).then(function(){return Promise.resolve(a.enter(n,l,t)).then(function(){return Promise.resolve(a.j("afterEnter",n,l)).then(function(){})})})})}();if(e&&e.then)return e.then(function(){})},function(e){if(a.M(e))throw new le(e,"Transition error [before/after/enter]")})}var t=!1,r=h(function(){return Promise.resolve(a.j("beforeLeave",n,l)).then(function(){return Promise.resolve(Promise.all([a.leave(n,l),P(i,n)]).then(function(e){return e[0]})).then(function(e){return t=e,Promise.resolve(a.j("afterLeave",n,l)).then(function(){})})})},function(e){if(a.M(e))throw new le(e,"Transition error [before/after/leave]")});return r&&r.then?r.then(e):e()}();return t&&t.then?t.then(e):e()})}var t=function(){if(A)return Promise.resolve(P(i,n)).then(function(){})}();return t&&t.then?t.then(e):e()},function(e){if(a.S=!1,e.name&&"BarbaError"===e.name)throw a.logger.debug(e.label),a.logger.error(e.error),e;throw a.logger.debug("Transition error [page]"),a.logger.error(e),e});return Promise.resolve(u&&u.then?u.then(r):r(u))}catch(e){return Promise.reject(e)}},te.once=function(e,t){try{return Promise.resolve(ie.do("once",e,t)).then(function(){return t.once?V(t.once,t)(e):Promise.resolve()})}catch(e){return Promise.reject(e)}},te.leave=function(e,t){try{return Promise.resolve(ie.do("leave",e,t)).then(function(){return t.leave?V(t.leave,t)(e):Promise.resolve()})}catch(e){return Promise.reject(e)}},te.enter=function(e,t,r){try{return Promise.resolve(ie.do("enter",e,t)).then(function(){return t.enter?V(t.enter,t)(e,r):Promise.resolve()})}catch(e){return Promise.reject(e)}},te.add=function(e,t){try{return M.addContainer(e.next.container,t),ie.do("nextAdded",e),Promise.resolve()}catch(e){return Promise.reject(e)}},te.remove=function(e){try{return M.removeContainer(e.current.container),ie.do("currentRemoved",e),Promise.resolve()}catch(e){return Promise.reject(e)}},te.M=function(e){return e.message?!/Timeout error|Fetch error/.test(e.message):!e.status},te.j=function(e,t,r){try{return Promise.resolve(ie.do(e,t,r)).then(function(){return r[e]?V(r[e],r)(t):Promise.resolve()})}catch(e){return Promise.reject(e)}},e(pe,[{key:"isRunning",get:function(){return this.S},set:function(e){this.S=e}},{key:"hasOnce",get:function(){return 0<this.store.once.length}},{key:"hasSelf",get:function(){return this.store.all.some(function(e){return"self"===e.name})}},{key:"shouldWait",get:function(){return this.store.all.some(function(e){return e.to&&!e.to.route||e.sync})}}]),pe),he=(ce.prototype.L=function(n){var i=this;return function(e){var t=n.match(/enter/i)?e.next:e.current,r=i.byNamespace.get(t.namespace);return r&&r[n]?V(r[n],r)(e):Promise.resolve()}},ce);function ce(e){var t=this;this.names=["beforeLeave","afterLeave","beforeEnter","afterEnter"],this.byNamespace=new Map,0!==e.length&&(e.forEach(function(e){t.byNamespace.set(e.namespace,e)}),this.names.forEach(function(e){ie[e](t.L(e))}))}function pe(e){void 0===e&&(e=[]),this.logger=new B("@barba/core"),this.S=!1,this.store=new Ae(e)}function de(e){void 0===e&&(e=[]),this.logger=new B("@barba/core"),this.all=[],this.page=[],this.once=[],this.A=[{name:"namespace",type:"strings"},{name:"custom",type:"function"}],e&&(this.all=this.all.concat(e)),this.update()}function fe(e,t){var r;void 0===t&&(t="Barba error");for(var n=arguments.length,i=new Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return(r=ne.call.apply(ne,[this].concat(i))||this).error=e,r.label=t,Error.captureStackTrace&&Error.captureStackTrace(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r),fe),r.name="BarbaError",r}function ge(e){var t;this.P=[],"boolean"==typeof e?this.g=e:(t=Array.isArray(e)?e:[e],this.P=t.map(function(e){return R(e)}))}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var me,ye={container:null,html:"",namespace:"",url:{hash:"",href:"",path:"",port:null,query:{}}};return(me=ve.prototype).use=function(e,t){var r=this.plugins;-1<r.indexOf(e)?this.logger.warn("Plugin ["+e.name+"] already installed."):"function"==typeof e.install?(e.install(this,t),r.push(e)):this.logger.warn("Plugin ["+e.name+'] has no "install" method.')},me.init=function(e){var t=void 0===e?{}:e,r=t.transitions,n=void 0===r?[]:r,i=t.views,o=void 0===i?[]:i,s=t.schema,a=void 0===s?D:s,l=t.requestError,A=t.timeout,u=void 0===A?2e3:A,h=t.cacheIgnore,c=void 0!==h&&h,p=t.prefetchIgnore,d=void 0!==p&&p,f=t.preventRunning,g=void 0!==f&&f,m=t.prevent,y=void 0===m?null:m,v=t.debug,_=t.logLevel;if(B.setLevel(!0===(void 0!==v&&v)?"debug":void 0===_?"off":_),this.logger.info(this.version),Object.keys(a).forEach(function(e){D[e]&&(D[e]=a[e])}),this.$=l,this.timeout=u,this.cacheIgnore=c,this.prefetchIgnore=d,this.preventRunning=g,this._=this.dom.getWrapper(),!this._)throw new Error("[@barba/core] No Barba wrapper found");this._.setAttribute("aria-live","polite"),this.q();var E=this.data.current;if(!E.container)throw new Error("[@barba/core] No Barba container found");if(this.cache=new se(c),this.prevent=new ae(d),this.transitions=new ue(n),this.views=new he(o),null!==y){if("function"!=typeof y)throw new Error("[@barba/core] Prevent should be a function");this.prevent.add("preventCustom",y)}this.history.init(E.url.href,E.namespace),this.B=this.B.bind(this),this.U=this.U.bind(this),this.D=this.D.bind(this),this.F(),this.plugins.forEach(function(e){return e.init()});var w=this.data;w.trigger="barba",w.next=w.current,w.current=b({},this.schemaPage),this.hooks.do("ready",w),this.once(w),this.q()},me.destroy=function(){this.q(),this.H(),this.history.clear(),this.hooks.clear(),this.plugins=[]},me.force=function(e){window.location.assign(e)},me.go=function(e,t,r){var n;if(void 0===t&&(t="barba"),this.transitions.isRunning)this.force(e);else if(!(n="popstate"===t?this.history.current&&this.url.getPath(this.history.current.url)===this.url.getPath(e):this.prevent.run("sameUrl",null,null,e))||this.transitions.hasSelf)return t=this.history.change(e,t,r),r&&(r.stopPropagation(),r.preventDefault()),this.page(e,t,n)},me.once=function(r){try{var n=this;return Promise.resolve(n.hooks.do("beforeEnter",r)).then(function(){function e(){return Promise.resolve(n.hooks.do("afterEnter",r)).then(function(){})}var t=function(){if(n.transitions.hasOnce){var e=n.transitions.get(r,{once:!0});return Promise.resolve(n.transitions.doOnce({transition:e,data:r})).then(function(){})}}();return t&&t.then?t.then(e):e()})}catch(r){return Promise.reject(r)}},me.page=function(e,t,r){try{function n(){var t=i.data;return Promise.resolve(i.hooks.do("page",t)).then(function(){var e=h(function(){var e=i.transitions.get(t,{once:!1,self:r});return Promise.resolve(i.transitions.doPage({data:t,page:o,transition:e,wrapper:i._})).then(function(){i.q()})},function(){0===B.getLevel()&&i.force(t.current.url.href)});if(e&&e.then)return e.then(function(){})})}var i=this;i.data.next.url=b({href:e},i.url.parse(e)),i.data.trigger=t;var o=i.cache.has(e)?i.cache.update(e,{action:"click"}).request:i.cache.set(e,i.request(e,i.timeout,i.onRequestError.bind(i,t)),"click").request,s=function(){if(i.transitions.shouldWait)return Promise.resolve(P(o,i.data)).then(function(){})}();return Promise.resolve(s&&s.then?s.then(n):n())}catch(e){return Promise.reject(e)}},me.onRequestError=function(e){this.transitions.isRunning=!1;for(var t=arguments.length,r=new Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=r[0],o=r[1],s=this.cache.getAction(i);return this.cache.delete(i),!(this.$&&!1===this.$(e,s,i,o)||("click"===s&&this.force(i),1))},me.prefetch=function(e){var t=this;this.cache.has(e)||this.cache.set(e,this.request(e,this.timeout,this.onRequestError.bind(this,"barba")).catch(function(e){t.logger.error(e)}),"prefetch")},me.F=function(){!0!==this.prefetchIgnore&&(document.addEventListener("mouseover",this.B),document.addEventListener("touchstart",this.B)),document.addEventListener("click",this.U),window.addEventListener("popstate",this.D)},me.H=function(){!0!==this.prefetchIgnore&&(document.removeEventListener("mouseover",this.B),document.removeEventListener("touchstart",this.B)),document.removeEventListener("click",this.U),window.removeEventListener("popstate",this.D)},me.B=function(e){var t,r=this,n=this.I(e);n&&(t=this.dom.getHref(n),this.prevent.checkHref(t)||this.cache.has(t)||this.cache.set(t,this.request(t,this.timeout,this.onRequestError.bind(this,n)).catch(function(e){r.logger.error(e)}),"enter"))},me.U=function(e){var t=this.I(e);if(t)return this.transitions.isRunning&&this.preventRunning?(e.preventDefault(),void e.stopPropagation()):void this.go(this.dom.getHref(t),t,e)},me.D=function(e){this.go(this.url.getHref(),"popstate",e)},me.I=function(e){for(var t=e.target;t&&!this.dom.getHref(t);)t=t.parentNode;if(t&&!this.prevent.checkLink(t,e,this.dom.getHref(t)))return t},me.q=function(){var e=this.url.getHref(),t={container:this.dom.getContainer(),html:this.dom.getHtml(),namespace:this.dom.getNamespace(),url:b({href:e},this.url.parse(e))};this.C={current:t,next:b({},this.schemaPage),trigger:void 0},this.hooks.do("reset",this.data)},e(ve,[{key:"data",get:function(){return this.C}},{key:"wrapper",get:function(){return this._}}]),new ve;function ve(){this.version="2.9.7",this.schemaPage=ye,this.Logger=B,this.logger=new B("@barba/core"),this.plugins=[],this.hooks=ie,this.dom=M,this.helpers=k,this.history=I,this.request=K,this.url=H}}),function(e,t,r){var n=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=r(n):"function"==typeof define&&define.amd?define(function(){return t[e]=r(n)}):t[e]=r(n)}("enquire",this,function(n){"use strict";function s(e,t){for(var r=0,n=e.length;r<n&&!1!==t(e[r],r);r++);}function a(e){return"function"==typeof e}function r(e){(this.options=e).deferSetup||this.setup()}function l(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=n(e);var r=this;this.listener=function(e){r.mql=e,r.assess()},this.mql.addListener(this.listener)}function e(){if(!n)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!n("only all").matches}return r.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){this.initialised||this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},l.prototype={addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(r){var n=this.handlers;s(n,function(e,t){return e.equals(r)?(e.destroy(),!n.splice(t,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){s(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var t=this.matches()?"on":"off";s(this.handlers,function(e){e[t]()})}},e.prototype={register:function(t,e,r){var n,i=this.queries,o=r&&this.browserIsIncapable;return i[t]||(i[t]=new l(t,o)),a(e)&&(e={match:e}),n=e,"[object Array]"===Object.prototype.toString.apply(n)||(e=[e]),s(e,function(e){a(e)&&(e={match:e}),i[t].addHandler(e)}),this},unregister:function(e,t){var r=this.queries[e];return r&&(t?r.removeHandler(t):(r.clear(),delete this.queries[e])),this}},new e}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var r=this._events=this._events||{},n=r[e]=r[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var r=this._onceEvents=this._onceEvents||{};return(r[e]=r[e]||{})[t]=!0,this}},t.off=function(e,t){var r=this._events&&this._events[e];if(r&&r.length){var n=r.indexOf(t);return-1!=n&&r.splice(n,1),this}},t.emitEvent=function(e,t){var r=this._events&&this._events[e];if(r&&r.length){r=r.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],i=0;i<r.length;i++){var o=r[i];n&&n[o]&&(this.off(e,o),delete n[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(t,r){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("ev-emitter")):t.imagesLoaded=r(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){var o=t.jQuery,s=t.console;function a(e,t){for(var r in t)e[r]=t[r];return e}var l=Array.prototype.slice;function A(e,t,r){if(!(this instanceof A))return new A(e,t,r);var n,i=e;"string"==typeof e&&(i=document.querySelectorAll(e)),i?(this.elements=(n=i,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?l.call(n):[n]),this.options=a({},this.options),"function"==typeof t?r=t:a(this.options,t),r&&this.on("always",r),this.getImages(),o&&(this.jqDeferred=new o.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(i||e))}(A.prototype=Object.create(e.prototype)).options={},A.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},A.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var r=e.querySelectorAll("img"),n=0;n<r.length;n++){var i=r[n];this.addImage(i)}if("string"==typeof this.options.background)for(var o=e.querySelectorAll(this.options.background),n=0;n<o.length;n++){var s=o[n];this.addElementBackgroundImages(s)}}};var u={1:!0,9:!0,11:!0};function r(e){this.img=e}function n(e,t){this.url=e,this.element=t,this.img=new Image}return A.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var r=/url\((['"])?(.*?)\1\)/gi,n=r.exec(t.backgroundImage);null!==n;){var i=n&&n[2];i&&this.addBackground(i,e),n=r.exec(t.backgroundImage)}},A.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},A.prototype.addBackground=function(e,t){var r=new n(e,t);this.images.push(r)},A.prototype.check=function(){var n=this;function t(e,t,r){setTimeout(function(){n.progress(e,t,r)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},A.prototype.progress=function(e,t,r){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+r,e,t)},A.prototype.complete=function(){var e,t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(r.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(r.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(A.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((o=e).fn.imagesLoaded=function(e,t){return new A(this,e,t).jqDeferred.promise(o(this))})})(),A}),function(e){function p(e,t){return e-t}function d(){for(var e=0,t=this.length;e<t;e++)if(void 0!==this[e])return this[e]}function f(){for(var e=this.length;--e;)if(void 0!==this[e])return this[e]}var g,m,y="hasOwnProperty",v=/[\.\/]/,_=/\s*,\s*/,E={n:{}},t=Object.prototype.toString,w=String,b=Array.isArray||function(e){return e instanceof Array||"[object Array]"==t.call(e)};eve=function(e,t){var r,n=m,i=Array.prototype.slice.call(arguments,2),o=eve.listeners(e),s=0,a=[],l={},A=[],u=g;A.firstDefined=d,A.lastDefined=f,g=e;for(var h=m=0,c=o.length;h<c;h++)"zIndex"in o[h]&&(a.push(o[h].zIndex),o[h].zIndex<0&&(l[o[h].zIndex]=o[h]));for(a.sort(p);a[s]<0;)if(r=l[a[s++]],A.push(r.apply(t,i)),m)return m=n,A;for(h=0;h<c;h++)if("zIndex"in(r=o[h]))if(r.zIndex==a[s]){if(A.push(r.apply(t,i)),m)break;do{if((r=l[a[++s]])&&A.push(r.apply(t,i)),m)break}while(r)}else l[r.zIndex]=r;else if(A.push(r.apply(t,i)),m)break;return m=n,g=u,A},eve._events=E,eve.listeners=function(e){for(var t,r,n,i,o,s,a=b(e)?e:e.split(v),l=E,A=[l],u=[],h=0,c=a.length;h<c;h++){for(s=[],i=0,o=A.length;i<o;i++)for(r=[(l=A[i].n)[a[h]],l["*"]],n=2;n--;)(t=r[n])&&(s.push(t),u=u.concat(t.f||[]));A=s}return u},eve.separator=function(e){v=e?(e="["+(e=w(e).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",new RegExp(e)):/[\.\/]/},eve.on=function(e,s){if("function"!=typeof s)return function(){};for(var t=b(e)?b(e[0])?e:[e]:w(e).split(_),r=0,n=t.length;r<n;r++)!function(e){for(var t,r=b(e)?e:w(e).split(v),n=E,i=0,o=r.length;i<o;i++)n=(n=n.n).hasOwnProperty(r[i])&&n[r[i]]||(n[r[i]]={n:{}});for(n.f=n.f||[],i=0,o=n.f.length;i<o;i++)if(n.f[i]==s){t=!0;break}t||n.f.push(s)}(t[r]);return function(e){+e==+e&&(s.zIndex=+e)}},eve.f=function(e){var t=[].slice.call(arguments,1);return function(){eve.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},eve.stop=function(){m=1},eve.nt=function(e){var t=b(g)?g.join("."):g;return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},eve.nts=function(){return b(g)?g:g.split(v)},eve.off=eve.unbind=function(e,t){if(e){var r=b(e)?b(e[0])?e:[e]:w(e).split(_);if(1<r.length)for(var n=0,i=r.length;n<i;n++)eve.off(r[n],t);else{r=b(e)?e:w(e).split(v);var o,s,a,l=[E],A=[];for(n=0,i=r.length;n<i;n++)for(h=0;h<l.length;h+=a.length-2){if(a=[h,1],o=l[h].n,"*"!=r[n])o[r[n]]&&(a.push(o[r[n]]),A.unshift({n:o,name:r[n]}));else for(s in o)o[y](s)&&(a.push(o[s]),A.unshift({n:o,name:s}));l.splice.apply(l,a)}for(n=0,i=l.length;n<i;n++)for(o=l[n];o.n;){if(t){if(o.f){for(h=0,c=o.f.length;h<c;h++)if(o.f[h]==t){o.f.splice(h,1);break}o.f.length||delete o.f}for(s in o.n)if(o.n[y](s)&&o.n[s].f){for(var u=o.n[s].f,h=0,c=u.length;h<c;h++)if(u[h]==t){u.splice(h,1);break}u.length||delete o.n[s].f}}else for(s in delete o.f,o.n)o.n[y](s)&&o.n[s].f&&delete o.n[s].f;o=o.n}e:for(n=0,i=A.length;n<i;n++){for(s in(o=A[n]).n[o.name].f)continue e;for(s in o.n[o.name].n)continue e;delete o.n[o.name]}}}else eve._events=E={n:{}}},eve.once=function(e,t){var r=function(){return eve.off(e,r),t.apply(this,arguments)};return eve.on(e,r)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},"undefined"!=typeof module&&module.exports?module.exports=eve:"function"==typeof define&&define.amd?define("eve",[],function(){return eve}):e.eve=eve}(this),function(t,r){var e;"function"==typeof define&&define.amd?define(["eve"],function(e){return r(t,e)}):"undefined"!=typeof exports?(e=require("eve"),module.exports=r(t,e)):r(t,t.eve)}(window||this,function(y,q){var o,s,u,a,i,h,c,e,p,d,_=(o=void 0===q?function(){}:q,u={},a=y.requestAnimationFrame||y.webkitRequestAnimationFrame||y.mozRequestAnimationFrame||y.oRequestAnimationFrame||y.msRequestAnimationFrame||function(e){return setTimeout(e,16,(new Date).getTime()),!0},i=Array.isArray||function(e){return e instanceof Array||"[object Array]"==Object.prototype.toString.call(e)},h=0,c="M"+(+new Date).toString(36),e=Date.now||function(){return+new Date},p=function(e){if(e){var t,r,n=0;for(var i in u){u.hasOwnProperty(i)&&(r=(t=u[i]).get(),n++,t.s=(r-t.b)/(t.dur/t.spd),1<=t.s&&(delete u[i],t.s=1,n--,function(e){setTimeout(function(){o("mina.finish."+e.id,e)})}(t)),t.update())}s=!!n&&a(p)}else s=s||a(p)},(d=function(e,t,r,n,i,o,s){var a={id:c+(h++).toString(36),start:e,end:t,b:r,s:0,dur:n-r,spd:1,get:i,set:o,easing:s||d.linear,status:f,speed:m,duration:v,stop:E,pause:w,resume:b,update:B};u[a.id]=a;var l,A=0;for(l in u)if(u.hasOwnProperty(l)&&2==++A)break;return 1==A&&p(),a}).time=e,d.getById=function(e){return u[e]||null},d.linear=function(e){return e},d.easeout=function(e){return Math.pow(e,1.7)},d.easein=function(e){return Math.pow(e,.48)},d.easeinout=function(e){if(1==e)return 1;if(0==e)return 0;var t=.48-e/1.04,r=Math.sqrt(.1734+t*t),n=r-t,i=-r-t,o=Math.pow(Math.abs(n),1/3)*(n<0?-1:1)+Math.pow(Math.abs(i),1/3)*(i<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},d.backin=function(e){if(1==e)return 1;return e*e*(2.70158*e-1.70158)},d.backout=function(e){if(0==e)return 0;return--e*e*(2.70158*e+1.70158)+1},d.elastic=function(e){return e==!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1},d.bounce=function(e){var t=7.5625,r=2.75,n=e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375;return n},y.mina=d),t=function(e){function m(e,t){if(e){if(e.nodeType)return d(e);if(u(e,"array")&&m.set)return m.set.apply(m,e);if(e instanceof l)return e;if(null==t)return d(e=f.doc.querySelector(String(e)))}return new p(e=null==e?"100%":e,t=null==t?"100%":t)}function A(e,t){if(t){if("#text"==e&&(e=f.doc.createTextNode(t.text||t["#text"]||"")),"#comment"==e&&(e=f.doc.createComment(t.text||t["#text"]||"")),"string"==typeof e&&(e=A(e)),"string"==typeof t)return 1==e.nodeType?"xlink:"==t.substring(0,6)?e.getAttributeNS(R,t.substring(6)):"xml:"==t.substring(0,4)?e.getAttributeNS(k,t.substring(4)):e.getAttribute(t):"text"==t?e.nodeValue:null;if(1==e.nodeType)for(var r in t){var n;t[y](r)&&((n=v(t[r]))?"xlink:"==r.substring(0,6)?e.setAttributeNS(R,r.substring(6),n):"xml:"==r.substring(0,4)?e.setAttributeNS(k,r.substring(4),n):e.setAttribute(r,n):e.removeAttribute(r))}else"text"in t&&(e.nodeValue=t.text)}else e=f.doc.createElementNS(k,e);return e}function u(e,t){return"finite"==(t=v.prototype.toLowerCase.call(t))?isFinite(e):!("array"!=t||!(e instanceof Array||Array.isArray&&Array.isArray(e)))||("null"==t&&null===e||t==typeof e&&null!==e||"object"==t&&e===Object(e)||n.call(e).slice(8,-1).toLowerCase()==t)}function t(i,o,s){function a(){var e=Array.prototype.slice.call(arguments,0),t=e.join("␀"),r=a.cache=a.cache||{},n=a.count=a.count||[];return r[y](t)?function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return e.push(e.splice(r,1)[0])}(n,t):(1e3<=n.length&&delete r[n.shift()],n.push(t),r[t]=i.apply(o,e)),s?s(r[t]):r[t]}return a}function i(e){return e%360*S/180}function h(e){return e.node.ownerSVGElement&&d(e.node.ownerSVGElement)||m.select("svg")}function o(e){u(e,"array")||(e=Array.prototype.slice.call(arguments,0));for(var t=0,r=0,n=this.node;this[t];)delete this[t++];for(t=0;t<e.length;t++)"set"==e[t].type?e[t].forEach(function(e){n.appendChild(e.node)}):n.appendChild(e[t].node);for(var i=n.childNodes,t=0;t<i.length;t++)this[r++]=d(i[t]);return this}function l(e){if(e.snap in N)return N[e.snap];var t;try{t=e.ownerSVGElement}catch(e){}this.node=e,t&&(this.paper=new p(t)),this.type=e.tagName||e.nodeName;var r=this.id=I(this);if(this.anims={},this._={transform:[]},e.snap=r,"g"==(N[r]=this).type&&(this.add=o),this.type in{g:1,mask:1,pattern:1,symbol:1})for(var n in p.prototype)p.prototype[y](n)&&(this[n]=p.prototype[n])}function s(e){this.node=e}function c(e,t){var r=A(e);return t.appendChild(r),d(r)}function p(e,t){var r=p.prototype;if(e&&e.tagName&&"svg"==e.tagName.toLowerCase()){if(e.snap in N)return N[e.snap];var n=e.ownerDocument,i=new l(e),o=e.getElementsByTagName("desc")[0],s=e.getElementsByTagName("defs")[0];for(var a in o||((o=A("desc")).appendChild(n.createTextNode("Created with Snap")),i.node.appendChild(o)),s||(s=A("defs"),i.node.appendChild(s)),i.defs=s,r)r[y](a)&&(i[a]=r[a]);i.paper=i.root=i}else A((i=c("svg",f.doc.body)).node,{height:t,version:1.1,width:e,xmlns:k});return i}function d(e){return!e||e instanceof l||e instanceof s?e:e.tagName&&"svg"==e.tagName.toLowerCase()?new p(e):e.tagName&&"object"==e.tagName.toLowerCase()&&"image/svg+xml"==e.type?new p(e.contentDocument.getElementsByTagName("svg")[0]):new l(e)}m.version="0.5.1",m.toString=function(){return"Snap v"+this.version},m._={};var f={win:e.window,doc:e.window.document};m._.glob=f;var r,a,y="hasOwnProperty",v=String,_=parseFloat,E=parseInt,w=Math,b=w.max,B=w.min,C=w.abs,S=(w.pow,w.PI),n=(w.round,Object.prototype.toString),P=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,F=(m._.separator=/[,\s]+/,/[\s]*,[\s]*/),x={hs:1,rg:1},T=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,U=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,Q=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\s]*,?[\s]*/gi,D=0,M="S"+(+new Date).toString(36),I=function(e){return(e&&e.type?e.type:"")+M+(D++).toString(36)},R="http://www.w3.org/1999/xlink",k="http://www.w3.org/2000/svg",N={};m.url=function(e){return"url('#"+e+"')"},m._.$=A,m._.id=I,m.format=(r=/\{([^\}]+)\}/g,a=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(e,i){return v(e).replace(r,function(e,t){return r=e,o=n=i,t.replace(a,function(e,t,r,n,i){t=t||n,o&&(t in o&&(o=o[t]),"function"==typeof o&&i&&(o=o()))}),o=(null==o||o==n?r:o)+"";var r,n,o})}),m._.clone=function e(t){if("function"==typeof t||Object(t)!==t)return t;var r=new t.constructor;for(var n in t)t[y](n)&&(r[n]=e(t[n]));return r},m._.cacher=t,m.rad=i,m.deg=function(e){return 180*e/S%360},m.sin=function(e){return w.sin(m.rad(e))},m.tan=function(e){return w.tan(m.rad(e))},m.cos=function(e){return w.cos(m.rad(e))},m.asin=function(e){return m.deg(w.asin(e))},m.acos=function(e){return m.deg(w.acos(e))},m.atan=function(e){return m.deg(w.atan(e))},m.atan2=function(e){return m.deg(w.atan2(e))},m.angle=function e(t,r,n,i,o,s){if(null!=o)return e(t,r,o,s)-e(n,i,o,s);var a=t-n,l=r-i;return a||l?(180+180*w.atan2(-l,-a)/S+360)%360:0},m.len=function(e,t,r,n){return Math.sqrt(m.len2(e,t,r,n))},m.len2=function(e,t,r,n){return(e-r)*(e-r)+(t-n)*(t-n)},m.closestPoint=function(e,n,i){function t(e){var t=e.x-n,r=e.y-i;return t*t+r*r}for(var r,o,s,a,l,A,u,h,c,p,d=e.node,f=d.getTotalLength(),g=f/d.pathSegList.numberOfItems*.125,m=1/0,y=0;y<=f;y+=g)(a=t(s=d.getPointAtLength(y)))<m&&(r=s,o=y,m=a);for(g*=.5;.5<g;){0<=(u=o-g)&&(c=t(l=d.getPointAtLength(u)))<m?(r=l,o=u,m=c):(h=o+g)<=f&&(p=t(A=d.getPointAtLength(h)))<m?(r=A,o=h,m=p):g*=.5}return{x:r.x,y:r.y,length:o,distance:Math.sqrt(m)}},m.is=u,m.snapTo=function(e,t,r){if(r=u(r,"finite")?r:10,u(e,"array")){for(var n=e.length;n--;)if(C(e[n]-t)<=r)return e[n]}else{var i=t%(e=+e);if(i<r)return t-i;if(e-r<i)return t-i+e}return t},m.getRGB=t(function(e){if(!e||(e=v(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:V};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:V};if(x[y](e.toLowerCase().substring(0,2))||"#"==e.charAt()||(e=K(e)),!e)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:V};var t,r,n,i,o,s,a=e.match(P);return a?(a[2]&&(n=E(a[2].substring(5),16),r=E(a[2].substring(3,5),16),t=E(a[2].substring(1,3),16)),a[3]&&(n=E((o=a[3].charAt(3))+o,16),r=E((o=a[3].charAt(2))+o,16),t=E((o=a[3].charAt(1))+o,16)),a[4]&&(s=a[4].split(F),t=_(s[0]),"%"==s[0].slice(-1)&&(t*=2.55),r=_(s[1]),"%"==s[1].slice(-1)&&(r*=2.55),n=_(s[2]),"%"==s[2].slice(-1)&&(n*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(i=_(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100)),a[5]?(s=a[5].split(F),t=_(s[0]),"%"==s[0].slice(-1)&&(t/=100),r=_(s[1]),"%"==s[1].slice(-1)&&(r/=100),n=_(s[2]),"%"==s[2].slice(-1)&&(n/=100),"deg"!=s[0].slice(-3)&&"°"!=s[0].slice(-1)||(t/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(i=_(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),m.hsb2rgb(t,r,n,i)):a[6]?(s=a[6].split(F),t=_(s[0]),"%"==s[0].slice(-1)&&(t/=100),r=_(s[1]),"%"==s[1].slice(-1)&&(r/=100),n=_(s[2]),"%"==s[2].slice(-1)&&(n/=100),"deg"!=s[0].slice(-3)&&"°"!=s[0].slice(-1)||(t/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(i=_(s[3])),s[3]&&"%"==s[3].slice(-1)&&(i/=100),m.hsl2rgb(t,r,n,i)):(t=B(w.round(t),255),r=B(w.round(r),255),n=B(w.round(n),255),i=B(b(i,0),1),(a={r:t,g:r,b:n,toString:V}).hex="#"+(16777216|n|r<<8|t<<16).toString(16).slice(1),a.opacity=u(i,"finite")?i:1,a)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:V}},m),m.hsb=t(function(e,t,r){return m.hsb2rgb(e,t,r).hex}),m.hsl=t(function(e,t,r){return m.hsl2rgb(e,t,r).hex}),m.rgb=t(function(e,t,r,n){if(u(n,"finite")){var i=w.round;return"rgba("+[i(e),i(t),i(r),+n.toFixed(2)]+")"}return"#"+(16777216|r|t<<8|e<<16).toString(16).slice(1)});function O(){return"hsb("+[this.h,this.s,this.b]+")"}function H(){return"hsl("+[this.h,this.s,this.l]+")"}function L(e,t,r){var n;return null==t&&u(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,t=e.g,e=e.r),null==t&&u(e,string)&&(e=(n=m.getRGB(e)).r,t=n.g,r=n.b),(1<e||1<t||1<r)&&(e/=255,t/=255,r/=255),[e,t,r]}function z(e,t,r,n){var i={r:e=w.round(255*e),g:t=w.round(255*t),b:r=w.round(255*r),opacity:u(n,"finite")?n:1,hex:m.rgb(e,t,r),toString:V};return u(n,"finite")&&(i.opacity=n),i}var K=function(e){var r=f.doc.getElementsByTagName("head")[0]||f.doc.getElementsByTagName("svg")[0],n="rgb(255, 0, 0)";return(K=t(function(e){if("red"==e.toLowerCase())return n;r.style.color=n,r.style.color=e;var t=f.doc.defaultView.getComputedStyle(r,"").getPropertyValue("color");return t==n?null:t}))(e)},V=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"};m.color=function(e){var t;return u(e,"object")&&"h"in e&&"s"in e&&"b"in e?(t=m.hsb2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):u(e,"object")&&"h"in e&&"s"in e&&"l"in e?(t=m.hsl2rgb(e),e.r=t.r,e.g=t.g,e.b=t.b,e.opacity=1,e.hex=t.hex):(u(e,"string")&&(e=m.getRGB(e)),u(e,"object")&&"r"in e&&"g"in e&&"b"in e&&!("error"in e)?(t=m.rgb2hsl(e),e.h=t.h,e.s=t.s,e.l=t.l,t=m.rgb2hsb(e),e.v=t.b):((e={hex:"none"}).r=e.g=e.b=e.h=e.s=e.v=e.l=-1,e.error=1)),e.toString=V,e},m.hsb2rgb=function(e,t,r,n){var i,o,s,a,l;return u(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(r=e.b,t=e.s,n=e.o,e=e.h),a=(l=r*t)*(1-C((e=(e*=360)%360/60)%2-1)),i=o=s=r-l,z(i+=[l,a,0,0,a,l][e=~~e],o+=[a,l,l,a,0,0][e],s+=[0,0,a,l,l,a][e],n)},m.hsl2rgb=function(e,t,r,n){var i,o,s,a,l;return u(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(r=e.l,t=e.s,e=e.h),(1<e||1<t||1<r)&&(e/=360,t/=100,r/=100),a=(l=2*t*(r<.5?r:1-r))*(1-C((e=(e*=360)%360/60)%2-1)),i=o=s=r-l/2,z(i+=[l,a,0,0,a,l][e=~~e],o+=[a,l,l,a,0,0][e],s+=[0,0,a,l,l,a][e],n)},m.rgb2hsb=function(e,t,r){var n,i;return e=(r=L(e,t,r))[0],t=r[1],r=r[2],{h:((0==(i=(n=b(e,t,r))-B(e,t,r))?null:n==e?(t-r)/i:n==t?(r-e)/i+2:(e-t)/i+4)+360)%6*60/360,s:0==i?0:i/n,b:n,toString:O}},m.rgb2hsl=function(e,t,r){var n,i,o,s;return e=(r=L(e,t,r))[0],t=r[1],r=r[2],n=((i=b(e,t,r))+(o=B(e,t,r)))/2,{h:((0==(s=i-o)?null:i==e?(t-r)/s:i==t?(r-e)/s+2:(e-t)/s+4)+360)%6*60/360,s:0==s?0:n<.5?s/(2*n):s/(2-2*n),l:n,toString:H}},m.parsePathString=function(e){if(!e)return null;var t=m.path(e);if(t.arr)return m.path.clone(t.arr);var o={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},s=[];return u(e,"array")&&u(e[0],"array")&&(s=m.path.clone(e)),s.length||v(e).replace(T,function(e,t,r){var n=[],i=t.toLowerCase();if(r.replace(Q,function(e,t){t&&n.push(+t)}),"m"==i&&2<n.length&&(s.push([t].concat(n.splice(0,2))),i="l",t="m"==t?"l":"L"),"o"==i&&1==n.length&&s.push([t,n[0]]),"r"==i)s.push([t].concat(n));else for(;n.length>=o[i]&&(s.push([t].concat(n.splice(0,o[i]))),o[i]););}),s.toString=m.path.toString,t.arr=m.path.clone(s),s};var j=m.parseTransformString=function(e){if(!e)return null;var i=[];return u(e,"array")&&u(e[0],"array")&&(i=m.path.clone(e)),i.length||v(e).replace(U,function(e,t,r){var n=[];t.toLowerCase(),r.replace(Q,function(e,t){t&&n.push(+t)}),i.push([t].concat(n))}),i.toString=m.path.toString,i};m._.svgTransform2string=function(e){var n=[];return e=e.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(e,t,r){return r=r.split(/\s*,\s*|\s+/),"rotate"==t&&1==r.length&&r.push(0,0),"scale"==t&&(2<r.length?r=r.slice(0,2):2==r.length&&r.push(0,0),1==r.length&&r.push(r[0],0,0)),"skewX"==t?n.push(["m",1,0,w.tan(i(r[0])),1,0,0]):"skewY"==t?n.push(["m",1,w.tan(i(r[0])),0,1,0,0]):n.push([t.charAt(0)].concat(r)),e}),n},m._.rgTransform=/^[a-z][\s]*-?\.?\d/i,m._.transform2matrix=function(e,t){var r=j(e),n=new m.Matrix;if(r)for(var i=0,o=r.length;i<o;i++){var s,a,l,A,u,h=r[i],c=h.length,p=v(h[0]).toLowerCase(),d=h[0]!=p,f=d?n.invert():0;"t"==p&&2==c?n.translate(h[1],0):"t"==p&&3==c?d?(s=f.x(0,0),a=f.y(0,0),l=f.x(h[1],h[2]),A=f.y(h[1],h[2]),n.translate(l-s,A-a)):n.translate(h[1],h[2]):"r"==p?2==c?(u=u||t,n.rotate(h[1],u.x+u.width/2,u.y+u.height/2)):4==c&&(d?(l=f.x(h[2],h[3]),A=f.y(h[2],h[3]),n.rotate(h[1],l,A)):n.rotate(h[1],h[2],h[3])):"s"==p?2==c||3==c?(u=u||t,n.scale(h[1],h[c-1],u.x+u.width/2,u.y+u.height/2)):4==c?d?(l=f.x(h[2],h[3]),A=f.y(h[2],h[3]),n.scale(h[1],h[1],l,A)):n.scale(h[1],h[1],h[2],h[3]):5==c&&(d?(l=f.x(h[3],h[4]),A=f.y(h[3],h[4]),n.scale(h[1],h[2],l,A)):n.scale(h[1],h[2],h[3],h[4])):"m"==p&&7==c&&n.add(h[1],h[2],h[3],h[4],h[5],h[6])}return n},m._unit2px=function(r,n,i){function e(e){if(null==e)return"";if(e==+e)return e;A(l,{width:e});try{return l.getBBox().width}catch(e){return 0}}function t(e){if(null==e)return"";if(e==+e)return e;A(l,{height:e});try{return l.getBBox().height}catch(e){return 0}}function o(e,t){null==n?a[e]=t(r.attr(e)||0):e==n&&(a=t(null==i?r.attr(e)||0:i))}var s=h(r).node,a={},l=s.querySelector(".svg---mgr");switch(l||(l=A("rect"),A(l,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),s.appendChild(l)),r.type){case"rect":o("rx",e),o("ry",t);case"image":o("width",e),o("height",t);case"text":o("x",e),o("y",t);break;case"circle":o("cx",e),o("cy",t),o("r",e);break;case"ellipse":o("cx",e),o("cy",t),o("rx",e),o("ry",t);break;case"line":o("x1",e),o("x2",e),o("y1",t),o("y2",t);break;case"marker":o("refX",e),o("markerWidth",e),o("refY",t),o("markerHeight",t);break;case"radialGradient":o("fx",e),o("fy",t);break;case"tspan":o("dx",e),o("dy",t);break;default:o(n,e)}return s.removeChild(l),a},f.doc.contains||f.doc.compareDocumentPosition,m._.getSomeDefs=function(e){var t=e.node.ownerSVGElement&&d(e.node.ownerSVGElement)||e.node.parentNode&&d(e.node.parentNode)||m.select("svg")||m(0,0),r=t.select("defs");return null!=r&&r.node||c("defs",t.node).node},m._.getSomeSVG=h,m.select=function(e){return e=v(e).replace(/([^\\]):/g,"$1\\:"),d(f.doc.querySelector(e))},m.selectAll=function(e){for(var t=f.doc.querySelectorAll(e),r=(m.set||Array)(),n=0;n<t.length;n++)r.push(d(t[n]));return r},setInterval(function(){for(var e in N){var t,r;N[y](e)&&(r=(t=N[e]).node,("svg"!=t.type&&!r.ownerSVGElement||"svg"==t.type&&(!r.parentNode||"ownerSVGElement"in r.parentNode&&!r.ownerSVGElement))&&delete N[e])}},1e4),l.prototype.attr=function(e,t){var r=this.node;if(!e){if(1!=r.nodeType)return{text:r.nodeValue};for(var n=r.attributes,i={},o=0,s=n.length;o<s;o++)i[n[o].nodeName]=n[o].nodeValue;return i}if(u(e,"string")){if(!(1<arguments.length))return q("snap.util.getattr."+e,this).firstDefined();var a={};a[e]=t,e=a}for(var l in e)e[y](l)&&q("snap.util.attr."+l,this,e[l]);return this},m.parse=function(e){var t=f.doc.createDocumentFragment(),r=!0,n=f.doc.createElement("div");if((e=v(e)).match(/^\s*<\s*svg(?:\s|>)/)||(e="<svg>"+e+"</svg>",r=!1),n.innerHTML=e,e=n.getElementsByTagName("svg")[0])if(r)t=e;else for(;e.firstChild;)t.appendChild(e.firstChild);return new s(t)},m.fragment=function(){for(var e=Array.prototype.slice.call(arguments,0),t=f.doc.createDocumentFragment(),r=0,n=e.length;r<n;r++){var i=e[r];i.node&&i.node.nodeType&&t.appendChild(i.node),i.nodeType&&t.appendChild(i),"string"==typeof i&&t.appendChild(m.parse(i).node)}return new s(t)},m._.make=c,m._.wrap=d,p.prototype.el=function(e,t){var r=c(e,this.node);return t&&r.attr(t),r},l.prototype.children=function(){for(var e=[],t=this.node.childNodes,r=0,n=t.length;r<n;r++)e[r]=m(t[r]);return e},l.prototype.toJSON=function(){var e=[];return function e(t,r){for(var n=0,i=t.length;n<i;n++){var o={type:t[n].type,attr:t[n].attr()},s=t[n].children();r.push(o),s.length&&e(s,o.childNodes=[])}}([this],e),e[0]},q.on("snap.util.getattr",function(){var e=q.nt(),t=(e=e.substring(e.lastIndexOf(".")+1)).replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});return G[y](t)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(t):A(this.node,e)});var G={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};q.on("snap.util.attr",function(e){var t=q.nt(),r={};r[t=t.substring(t.lastIndexOf(".")+1)]=e;var n=t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()}),i=t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});G[y](i)?this.node.style[n]=null==e?"":e:A(this.node,r)}),m.ajax=function(e,t,r,n){var i=new XMLHttpRequest,o=I();if(i){if(u(t,"function"))n=r,r=t,t=null;else if(u(t,"object")){var s=[];for(var a in t)t.hasOwnProperty(a)&&s.push(encodeURIComponent(a)+"="+encodeURIComponent(t[a]));t=s.join("&")}return i.open(t?"POST":"GET",e,!0),t&&(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded")),r&&(q.once("snap.ajax."+o+".0",r),q.once("snap.ajax."+o+".200",r),q.once("snap.ajax."+o+".304",r)),i.onreadystatechange=function(){4==i.readyState&&q("snap.ajax."+o+"."+i.status,n,i)},4==i.readyState||i.send(t),i}},m.load=function(e,r,n){m.ajax(e,function(e){var t=m.parse(e.responseText);n?r.call(n,t):r(t)})};return m.getElementByPoint=function(e,t){var r,n,i,o,s,a,l,A,u,h,c=(this.canvas,f.doc.elementFromPoint(e,t));return f.win.opera&&"svg"==c.tagName&&(s=(o=c).getBoundingClientRect(),a=o.ownerDocument,l=a.body,A=a.documentElement,u=A.clientTop||l.clientTop||0,h=A.clientLeft||l.clientLeft||0,r={y:s.top+(g.win.pageYOffset||A.scrollTop||l.scrollTop)-u,x:s.left+(g.win.pageXOffset||A.scrollLeft||l.scrollLeft)-h},(n=c.createSVGRect()).x=e-r.x,n.y=t-r.y,n.width=n.height=1,(i=c.getIntersectionList(n,null)).length&&(c=i[i.length-1])),c?d(c):null},m.plugin=function(e){e(m,l,p,f,s)},f.win.Snap=m}(y||this);function f(e){var t=this;if(null==e)return t.s;var r=t.s-e;t.b+=t.dur*r,t.B+=t.dur*r,t.s=e}function m(e){return null==e?this.spd:void(this.spd=e)}function v(e){var t=this;return null==e?t.dur:(t.s=t.s*e/t.dur,void(t.dur=e))}function E(){delete u[this.id],this.update(),o("mina.stop."+this.id,this)}function w(){var e=this;e.pdif||(delete u[e.id],e.update(),e.pdif=e.get()-e.b)}function b(){var e=this;e.pdif&&(e.b=e.get()-e.pdif,delete e.pdif,u[e.id]=e,p())}function B(){var e,t=this;if(i(t.start)){e=[];for(var r=0,n=t.start.length;r<n;r++)e[r]=+t.start[r]+(t.end[r]-t.start[r])*t.easing(t.s)}else e=+t.start+(t.end-t.start)*t.easing(t.s);t.set(e)}return t.plugin(function(p,e,t,r,n){function u(e,t){if(null==t){var r=!0;if(!(t="linearGradient"==e.type||"radialGradient"==e.type?e.node.getAttribute("gradientTransform"):"pattern"==e.type?e.node.getAttribute("patternTransform"):e.node.getAttribute("transform")))return new p.Matrix;t=p._.svgTransform2string(t)}else t=p._.rgTransform.test(t)?h(t).replace(/\.{3}|\u2026/g,e._.transform||""):p._.svgTransform2string(t),a(t,"array")&&(t=p.path?p.path.toString.call(t):h(t)),e._.transform=t;var n=p._.transform2matrix(t,e.getBBox(1));return r?n:void(e.matrix=n)}function i(e){function t(r,n){var e=d(r.node,n);!(e=(e=e&&e.match(i))&&e[2])||"#"!=e.charAt()||(e=e.substring(1))&&(s[e]=(s[e]||[]).concat(function(e){var t={};t[n]=p.url(e),d(r.node,t)}))}for(var r,n=e.selectAll("*"),i=/^\s*url\(("|'|)(.*)\1\)\s*$/,o=[],s={},a=0,l=n.length;a<l;a++){t(r=n[a],"fill"),t(r,"stroke"),t(r,"filter"),t(r,"mask"),t(r,"clip-path"),function(t){var e=d(t.node,"xlink:href");!e||"#"!=e.charAt()||(e=e.substring(1))&&(s[e]=(s[e]||[]).concat(function(e){t.attr("xlink:href","#"+e)}))}(r);var A=d(r.node,"id");A&&(d(r.node,{id:r.id}),o.push({old:A,id:r.id}))}for(a=0,l=o.length;a<l;a++){var u=s[o[a].old];if(u)for(var h=0,c=u.length;h<c;h++)u[h](o[a].id)}}function o(o){return function(){var e=o?"<"+this.type:"",t=this.node.attributes,r=this.node.childNodes;if(o)for(var n=0,i=t.length;n<i;n++)e+=" "+t[n].name+'="'+t[n].value.replace(/"/g,'\\"')+'"';if(r.length){for(o&&(e+=">"),n=0,i=r.length;n<i;n++)3==r[n].nodeType?e+=r[n].nodeValue:1==r[n].nodeType&&(e+=f(r[n]).toString());o&&(e+="</"+this.type+">")}else o&&(e+="/>");return e}}var s=e.prototype,a=p.is,h=String,l=p._unit2px,d=p._.$,A=p._.make,c=p._.getSomeDefs,f=p._.wrap;s.getBBox=function(e){if("tspan"==this.type)return p._.box(this.node.getClientRects().item(0));if(!p.Matrix||!p.path)return this.node.getBBox();var t,r=this,n=new p.Matrix;if(r.removed)return p._.box();for(;"use"==r.type;){e||(n=n.add(r.transform().localMatrix.translate(r.attr("x")||0,r.attr("y")||0))),r=r.original?r.original:(t=r.attr("xlink:href"),r.original=r.node.ownerDocument.getElementById(t.substring(t.indexOf("#")+1)))}var i=r._,o=p.path.get[r.type]||p.path.get.deflt;try{return e?(i.bboxwt=o?p.path.getBBox(r.realPath=o(r)):p._.box(r.node.getBBox()),p._.box(i.bboxwt)):(r.realPath=o(r),r.matrix=r.transform().localMatrix,i.bbox=p.path.getBBox(p.path.map(r.realPath,n.add(r.matrix))),p._.box(i.bbox))}catch(e){return p._.box()}};function g(){return this.string}s.transform=function(e){var t=this._;if(null!=e)return e instanceof p.Matrix?(this.matrix=e,this._.transform=e.toTransformString()):u(this,e),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?d(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?d(this.node,{patternTransform:this.matrix}):d(this.node,{transform:this.matrix})),this;for(var r,n=this,i=new p.Matrix(this.node.getCTM()),o=u(this),s=[o],a=new p.Matrix,l=o.toTransformString(),A=h(o)==h(this.matrix)?h(t.transform):l;"svg"!=n.type&&(n=n.parent());)s.push(u(n));for(r=s.length;r--;)a.add(s[r]);return{string:A,globalMatrix:i,totalMatrix:a,localMatrix:o,diffMatrix:i.clone().add(o.invert()),global:i.toTransformString(),total:a.toTransformString(),local:l,toString:g}},s.parent=function(){return f(this.node.parentNode)},s.append=s.add=function(e){if(e){if("set"==e.type){var t=this;return e.forEach(function(e){t.add(e)}),this}e=f(e),this.node.appendChild(e.node),e.paper=this.paper}return this},s.appendTo=function(e){return e&&(e=f(e)).append(this),this},s.prepend=function(e){if(e){if("set"==e.type){var t,r=this;return e.forEach(function(e){t?t.after(e):r.prepend(e),t=e}),this}var n=(e=f(e)).parent();this.node.insertBefore(e.node,this.node.firstChild),this.add&&this.add(),e.paper=this.paper,this.parent()&&this.parent().add(),n&&n.add()}return this},s.prependTo=function(e){return(e=f(e)).prepend(this),this},s.before=function(e){if("set"==e.type){var r=this;return e.forEach(function(e){var t=e.parent();r.node.parentNode.insertBefore(e.node,r.node),t&&t.add()}),this.parent().add(),this}var t=(e=f(e)).parent();return this.node.parentNode.insertBefore(e.node,this.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},s.after=function(e){var t=(e=f(e)).parent();return this.node.nextSibling?this.node.parentNode.insertBefore(e.node,this.node.nextSibling):this.node.parentNode.appendChild(e.node),this.parent()&&this.parent().add(),t&&t.add(),e.paper=this.paper,this},s.insertBefore=function(e){e=f(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},s.insertAfter=function(e){e=f(e);var t=this.parent();return e.node.parentNode.insertBefore(this.node,e.node.nextSibling),this.paper=e.paper,t&&t.add(),e.parent()&&e.parent().add(),this},s.remove=function(){var e=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,e&&e.add(),this},s.select=function(e){return f(this.node.querySelector(e))},s.selectAll=function(e){for(var t=this.node.querySelectorAll(e),r=(p.set||Array)(),n=0;n<t.length;n++)r.push(f(t[n]));return r},s.asPX=function(e,t){return null==t&&(t=this.attr(e)),+l(this,e,t)},s.use=function(){var e,t=this.node.id;return t||(t=this.id,d(this.node,{id:t})),e="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?A(this.type,this.node.parentNode):A("use",this.node.parentNode),d(e.node,{"xlink:href":"#"+t}),e.original=this,e},s.clone=function(){var e=f(this.node.cloneNode(!0));return d(e.node,"id")&&d(e.node,{id:e.id}),i(e),e.insertAfter(this),e},s.toDefs=function(){return c(this).appendChild(this.node),this},s.pattern=s.toPattern=function(e,t,r,n){var i=A("pattern",c(this));return null==e&&(e=this.getBBox()),a(e,"object")&&"x"in e&&(t=e.y,r=e.width,n=e.height,e=e.x),d(i.node,{x:e,y:t,width:r,height:n,patternUnits:"userSpaceOnUse",id:i.id,viewBox:[e,t,r,n].join(" ")}),i.node.appendChild(this.node),i},s.marker=function(e,t,r,n,i,o){var s=A("marker",c(this));return null==e&&(e=this.getBBox()),a(e,"object")&&"x"in e&&(t=e.y,r=e.width,n=e.height,i=e.refX||e.cx,o=e.refY||e.cy,e=e.x),d(s.node,{viewBox:[e,t,r,n].join(" "),markerWidth:r,markerHeight:n,orient:"auto",refX:i||0,refY:o||0,id:s.id}),s.node.appendChild(this.node),s};var m={};s.data=function(e,t){var r=m[this.id]=m[this.id]||{};if(0==arguments.length)return q("snap.data.get."+this.id,this,r,null),r;if(1!=arguments.length)return r[e]=t,q("snap.data.set."+this.id,this,t,e),this;if(p.is(e,"object")){for(var n in e)e.hasOwnProperty(n)&&this.data(n,e[n]);return this}return q("snap.data.get."+this.id,this,r[e],e),r[e]},s.removeData=function(e){return null==e?m[this.id]={}:m[this.id]&&delete m[this.id][e],this},s.outerSVG=s.toString=o(1),s.innerSVG=o(),s.toDataURL=function(){if(y&&y.btoa){var e=this.getBBox(),t=p.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+e.x.toFixed(3),y:+e.y.toFixed(3),width:+e.width.toFixed(3),height:+e.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t)))}},n.prototype.select=s.select,n.prototype.selectAll=s.selectAll}),t.plugin(function(e,t,r,n,i){function g(e,t,r,n){"function"!=typeof r||r.length||(n=r,r=_.linear),this.attr=e,this.dur=t,r&&(this.easing=r),n&&(this.callback=n)}var o=t.prototype,m=e.is,y=String,v="hasOwnProperty";e._.Animation=g,e.animation=function(e,t,r,n){return new g(e,t,r,n)},o.inAnim=function(){var e=[];for(var t in this.anims)this.anims[v](t)&&function(t){e.push({anim:new g(t._attrs,t.dur,t.easing,t._callback),mina:t,curStatus:t.status(),status:function(e){return t.status(e)},stop:function(){t.stop()}})}(this.anims[t]);return e},e.animate=function(e,t,r,n,i,o){"function"!=typeof i||i.length||(o=i,i=_.linear);var s=_.time(),a=_(e,t,s,s+n,_.time,r,i);return o&&q.once("mina.finish."+a.id,o),a},o.stop=function(){for(var e=this.inAnim(),t=0,r=e.length;t<r;t++)e[t].stop();return this},o.animate=function(e,t,r,n){"function"!=typeof r||r.length||(n=r,r=_.linear),e instanceof g&&(n=e.callback,r=e.easing,t=e.dur,e=e.attr);var i,o,s,a,l,A=[],u=[],h={},c=this;for(var p in e){e[v](p)&&(c.equal?(i=(a=c.equal(p,y(e[p]))).from,o=a.to,s=a.f):(i=+c.attr(p),o=+e[p]),l=m(i,"array")?i.length:1,h[p]=function(r,n,i){return function(e){var t=e.slice(r,n);return 1==t.length&&(t=t[0]),i?i(t):t}}(A.length,A.length+l,s),A=A.concat(i),u=u.concat(o))}var d=_.time(),f=_(A,u,d,d+t,_.time,function(e){var t={};for(var r in h)h[v](r)&&(t[r]=h[r](e));c.attr(t)},r);return(c.anims[f.id]=f)._attrs=e,f._callback=n,q("snap.animcreated."+c.id,f),q.once("mina.finish."+f.id,function(){q.off("mina.*."+f.id),delete c.anims[f.id],n&&n.call(c)}),q.once("mina.stop."+f.id,function(){q.off("mina.*."+f.id),delete c.anims[f.id]}),c}}),t.plugin(function(o,e,t,r,n){function A(e,t,r,n,i,o){return null==t&&"[object SVGMatrix]"==s.call(e)?(this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.e=e.e,void(this.f=e.f)):void(null!=e?(this.a=+e,this.b=+t,this.c=+r,this.d=+n,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var i,s=Object.prototype.toString,a=String,l=Math;function u(e){return e[0]*e[0]+e[1]*e[1]}function h(e){var t=l.sqrt(u(e));e[0]&&(e[0]/=t),e[1]&&(e[1]/=t)}(i=A.prototype).add=function(e,t,r,n,i,o){if(e&&e instanceof A)return this.add(e.a,e.b,e.c,e.d,e.e,e.f);var s=e*this.a+t*this.c,a=e*this.b+t*this.d;return this.e+=i*this.a+o*this.c,this.f+=i*this.b+o*this.d,this.c=r*this.a+n*this.c,this.d=r*this.b+n*this.d,this.a=s,this.b=a,this},A.prototype.multLeft=function(e,t,r,n,i,o){if(e&&e instanceof A)return this.multLeft(e.a,e.b,e.c,e.d,e.e,e.f);var s=e*this.a+r*this.b,a=e*this.c+r*this.d,l=e*this.e+r*this.f+i;return this.b=t*this.a+n*this.b,this.d=t*this.c+n*this.d,this.f=t*this.e+n*this.f+o,this.a=s,this.c=a,this.e=l,this},i.invert=function(){var e=this,t=e.a*e.d-e.b*e.c;return new A(e.d/t,-e.b/t,-e.c/t,e.a/t,(e.c*e.f-e.d*e.e)/t,(e.b*e.e-e.a*e.f)/t)},i.clone=function(){return new A(this.a,this.b,this.c,this.d,this.e,this.f)},i.translate=function(e,t){return this.e+=e*this.a+t*this.c,this.f+=e*this.b+t*this.d,this},i.scale=function(e,t,r,n){return null==t&&(t=e),(r||n)&&this.translate(r,n),this.a*=e,this.b*=e,this.c*=t,this.d*=t,(r||n)&&this.translate(-r,-n),this},i.rotate=function(e,t,r){e=o.rad(e),t=t||0,r=r||0;var n=+l.cos(e).toFixed(9),i=+l.sin(e).toFixed(9);return this.add(n,i,-i,n,t,r),this.add(1,0,0,1,-t,-r)},i.skewX=function(e){return this.skew(e,0)},i.skewY=function(e){return this.skew(0,e)},i.skew=function(e,t){e=e||0,t=t||0,e=o.rad(e),t=o.rad(t);var r=l.tan(e).toFixed(9),n=l.tan(t).toFixed(9);return this.add(1,n,r,1,0,0)},i.x=function(e,t){return e*this.a+t*this.c+this.e},i.y=function(e,t){return e*this.b+t*this.d+this.f},i.get=function(e){return+this[a.fromCharCode(97+e)].toFixed(4)},i.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},i.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},i.determinant=function(){return this.a*this.d-this.b*this.c},i.split=function(){var e={};e.dx=this.e,e.dy=this.f;var t=[[this.a,this.b],[this.c,this.d]];e.scalex=l.sqrt(u(t[0])),h(t[0]),e.shear=t[0][0]*t[1][0]+t[0][1]*t[1][1],t[1]=[t[1][0]-t[0][0]*e.shear,t[1][1]-t[0][1]*e.shear],e.scaley=l.sqrt(u(t[1])),h(t[1]),e.shear/=e.scaley,this.determinant()<0&&(e.scalex=-e.scalex);var r=t[0][1],n=t[1][1];return n<0?(e.rotate=o.deg(l.acos(n)),r<0&&(e.rotate=360-e.rotate)):e.rotate=o.deg(l.asin(r)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},i.toTransformString=function(e){var t=e||this.split();return+t.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[+t.dx.toFixed(4),+t.dy.toFixed(4)]:"")+(t.rotate?"r"+[+t.rotate.toFixed(4),0,0]:"")+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:""))},o.Matrix=A,o.matrix=function(e,t,r,n,i,o){return new A(e,t,r,n,i,o)}}),t.plugin(function(o,s,e,i,a){function t(i){return function(e){var t,r;q.stop(),e instanceof a&&1==e.node.childNodes.length&&("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,c(this).appendChild(e),e=u(e)),r=e instanceof s?"radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type?(e.node.id||d(e.node,{id:e.id}),f(e.node.id)):e.attr(i):(r=o.color(e)).error?(t=o(c(this).ownerSVGElement).gradient(e))?(t.node.id||d(t.node,{id:t.id}),f(t.node.id)):e:g(r);var n={};n[i]=r,d(this.node,n),this.node.style[i]=""}}function r(e){q.stop(),e==+e&&(e+="px"),this.node.style.fontSize=e}function n(){return q.stop(),this.node.style.fontSize}var l,A=o._.make,u=o._.wrap,h=o.is,c=o._.getSomeDefs,p=/^url\((['"]?)([^)]+)\1\)$/,d=o._.$,f=o.url,g=String,m=o._.separator;o.deurl=function(e){var t=String(e).match(p);return t?t[2]:e},q.on("snap.util.attr.mask",function(e){var t;(e instanceof s||e instanceof a)&&(q.stop(),e instanceof a&&1==e.node.childNodes.length&&(e=e.node.firstChild,c(this).appendChild(e),e=u(e)),"mask"==e.type?t=e:(t=A("mask",c(this))).node.appendChild(e.node),t.node.id||d(t.node,{id:t.id}),d(this.node,{mask:f(t.id)}))}),l=function(e){if(e instanceof s||e instanceof a){q.stop();for(var t,r=e.node;r;){if("clipPath"===r.nodeName){t=new s(r);break}if("svg"===r.nodeName){t=void 0;break}r=r.parentNode}t||((t=A("clipPath",c(this))).node.appendChild(e.node),t.node.id||d(t.node,{id:t.id})),d(this.node,{"clip-path":f(t.node.id||t.id)})}},q.on("snap.util.attr.clip",l),q.on("snap.util.attr.clip-path",l),q.on("snap.util.attr.clipPath",l),q.on("snap.util.attr.fill",t("fill")),q.on("snap.util.attr.stroke",t("stroke"));var y=/^([lr])(?:\(([^)]*)\))?(.*)$/i;function v(t){return function(){q.stop();var e=i.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+t);return"none"==e?e:o(i.doc.getElementById(e.match(p)[1]))}}function _(n){return function(e){q.stop();var t="marker"+n.charAt(0).toUpperCase()+n.substring(1);if(""!=e&&e){if("marker"==e.type){var r=e.node.id;return r||d(e.node,{id:e.id}),void(this.node.style[t]=f(r))}}else this.node.style[t]="none"}}q.on("snap.util.grad.parse",function(e){function t(e,t){for(var r=(t-a)/(e-l),n=l;n<e;n++)o[n].offset=+(+a+r*(n-l)).toFixed(2);l=e,a=t}var r=(e=g(e)).match(y);if(!r)return null;var n=r[1],i=r[2],o=r[3];1==(i=i.split(/\s*,\s*/).map(function(e){return+e==e?+e:e})).length&&0==i[0]&&(i=[]);var s=(o=(o=o.split("-")).map(function(e){var t={color:(e=e.split(":"))[0]};return e[1]&&(t.offset=parseFloat(e[1])),t})).length,a=0,l=0;s--;for(var A=0;A<s;A++)"offset"in o[A]&&t(A,o[A].offset);return o[s].offset=o[s].offset||100,t(s,o[s].offset),{type:n,params:i,stops:o}}),q.on("snap.util.attr.d",function(e){q.stop(),h(e,"array")&&h(e[0],"array")&&(e=o.path.toString.call(e)),(e=g(e)).match(/[ruo]/i)&&(e=o.path.toAbsolute(e)),d(this.node,{d:e})})(-1),q.on("snap.util.attr.#text",function(e){q.stop(),e=g(e);for(var t=i.doc.createTextNode(e);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(t)})(-1),q.on("snap.util.attr.path",function(e){q.stop(),this.attr({d:e})})(-1),q.on("snap.util.attr.class",function(e){q.stop(),this.node.className.baseVal=e})(-1),q.on("snap.util.attr.viewBox",function(e){var t=h(e,"object")&&"x"in e?[e.x,e.y,e.width,e.height].join(" "):h(e,"array")?e.join(" "):e;d(this.node,{viewBox:t}),q.stop()})(-1),q.on("snap.util.attr.transform",function(e){this.transform(e),q.stop()})(-1),q.on("snap.util.attr.r",function(e){"rect"==this.type&&(q.stop(),d(this.node,{rx:e,ry:e}))})(-1),q.on("snap.util.attr.textpath",function(e){if(q.stop(),"text"==this.type){var t,r,n,i,o;if(!e&&this.textPath){for(r=this.textPath;r.node.firstChild;)this.node.appendChild(r.node.firstChild);return r.remove(),void delete this.textPath}if(h(e,"string")?(i=c(this),o=u(i.parentNode).path(e),i.appendChild(o.node),t=o.id,o.attr({id:t})):(e=u(e))instanceof s&&((t=e.attr("id"))||(t=e.id,e.attr({id:t}))),t)if(r=this.textPath,n=this.node,r)r.attr({"xlink:href":"#"+t});else{for(r=d("textPath",{"xlink:href":"#"+t});n.firstChild;)r.appendChild(n.firstChild);n.appendChild(r),this.textPath=u(r)}}})(-1),q.on("snap.util.attr.text",function(e){if("text"==this.type){for(var t=this.node,n=function(e){var t=d("tspan");if(h(e,"array"))for(var r=0;r<e.length;r++)t.appendChild(n(e[r]));else t.appendChild(i.doc.createTextNode(e));return t.normalize&&t.normalize(),t};t.firstChild;)t.removeChild(t.firstChild);for(var r=n(e);r.firstChild;)t.appendChild(r.firstChild)}q.stop()})(-1),q.on("snap.util.attr.fontSize",r)(-1),q.on("snap.util.attr.font-size",r)(-1),q.on("snap.util.getattr.transform",function(){return q.stop(),this.transform()})(-1),q.on("snap.util.getattr.textpath",function(){return q.stop(),this.textPath})(-1),q.on("snap.util.getattr.marker-end",v("end"))(-1),q.on("snap.util.getattr.markerEnd",v("end"))(-1),q.on("snap.util.getattr.marker-start",v("start"))(-1),q.on("snap.util.getattr.markerStart",v("start"))(-1),q.on("snap.util.getattr.marker-mid",v("mid"))(-1),q.on("snap.util.getattr.markerMid",v("mid"))(-1),q.on("snap.util.attr.marker-end",_("end"))(-1),q.on("snap.util.attr.markerEnd",_("end"))(-1),q.on("snap.util.attr.marker-start",_("start"))(-1),q.on("snap.util.attr.markerStart",_("start"))(-1),q.on("snap.util.attr.marker-mid",_("mid"))(-1),q.on("snap.util.attr.markerMid",_("mid"))(-1),q.on("snap.util.getattr.r",function(){return"rect"==this.type&&d(this.node,"rx")==d(this.node,"ry")?(q.stop(),d(this.node,"rx")):void 0})(-1),q.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){q.stop();var e=function e(t){for(var r=[],n=t.childNodes,i=0,o=n.length;i<o;i++){var s=n[i];3==s.nodeType&&r.push(s.nodeValue),"tspan"==s.tagName&&(1==s.childNodes.length&&3==s.firstChild.nodeType?r.push(s.firstChild.nodeValue):r.push(e(s)))}return r}(this.node);return 1==e.length?e[0]:e}})(-1),q.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),q.on("snap.util.getattr.fill",function(e){if(!e){q.stop();var t=q("snap.util.getattr.fill",this,!0).firstDefined();return o(o.deurl(t))||t}})(-1),q.on("snap.util.getattr.stroke",function(e){if(!e){q.stop();var t=q("snap.util.getattr.stroke",this,!0).firstDefined();return o(o.deurl(t))||t}})(-1),q.on("snap.util.getattr.viewBox",function(){q.stop();var e=d(this.node,"viewBox");return e?(e=e.split(m),o._.box(+e[0],+e[1],+e[2],+e[3])):void 0})(-1),q.on("snap.util.getattr.points",function(){var e=d(this.node,"points");return q.stop(),e?e.split(m):void 0})(-1),q.on("snap.util.getattr.path",function(){var e=d(this.node,"d");return q.stop(),e})(-1),q.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),q.on("snap.util.getattr.fontSize",n)(-1),q.on("snap.util.getattr.font-size",n)(-1)}),t.plugin(function(e,t,r,n,i){var u=/\S+/g,A=String,o=t.prototype;o.addClass=function(e){var t,r,n,i=A(e||"").match(u)||[],o=this.node,s=o.className.baseVal,a=s.match(u)||[];if(i.length){for(t=0;r=i[t++];)~a.indexOf(r)||a.push(r);s!=(n=a.join(" "))&&(o.className.baseVal=n)}return this},o.removeClass=function(e){var t,r,n,i,o=A(e||"").match(u)||[],s=this.node,a=s.className.baseVal,l=a.match(u)||[];if(l.length){for(t=0;n=o[t++];)~(r=l.indexOf(n))&&l.splice(r,1);a!=(i=l.join(" "))&&(s.className.baseVal=i)}return this},o.hasClass=function(e){return!!~(this.node.className.baseVal.match(u)||[]).indexOf(e)},o.toggleClass=function(e,t){if(null!=t)return t?this.addClass(e):this.removeClass(e);for(var r,n,i,o=(e||"").match(u)||[],s=this.node,a=s.className.baseVal,l=a.match(u)||[],A=0;n=o[A++];)~(r=l.indexOf(n))?l.splice(r,1):l.push(n);return a!=(i=l.join(" "))&&(s.className.baseVal=i),this}}),t.plugin(function(e,t,r,n,i){function l(e){return e}var A={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"/":function(e,t){return e/t},"*":function(e,t){return e*t}},u=String,h=/[a-z]+$/i,c=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;q.on("snap.util.attr",function(e){var t=u(e).match(c);if(t){var r=q.nt(),n=r.substring(r.lastIndexOf(".")+1),i=this.attr(n),o={};q.stop();var s=t[3]||"",a=i.match(h),l=A[t[1]];if(e=a&&a==s?l(parseFloat(i),+t[2]):(i=this.asPX(n),l(this.asPX(n),this.asPX(n,t[2]+s))),isNaN(i)||isNaN(e))return;o[n]=e,this.attr(o)}})(-10),q.on("snap.util.equal",function(e,t){var r,n=u(this.attr(e)||""),i=u(t).match(c);if(i){q.stop();var o=i[3]||"",s=n.match(h),a=A[i[1]];return s&&s==o?{from:parseFloat(n),to:a(parseFloat(n),+i[2]),f:(r=s,function(e){return+e.toFixed(3)+r})}:{from:n=this.asPX(e),to:a(n,this.asPX(e,i[2]+o)),f:l}}})(-10)}),t.plugin(function(a,t,e,i,r){var n=e.prototype,A=a.is;n.rect=function(e,t,r,n,i,o){var s;return null==o&&(o=i),A(e,"object")&&"[object Object]"==e?s=e:null!=e&&(s={x:e,y:t,width:r,height:n},null!=i&&(s.rx=i,s.ry=o)),this.el("rect",s)},n.circle=function(e,t,r){var n;return A(e,"object")&&"[object Object]"==e?n=e:null!=e&&(n={cx:e,cy:t,r:r}),this.el("circle",n)};var l,u=function(e,t){var r=i.doc.createElement("img"),n=i.doc.body;r.style.cssText="position:absolute;left:-9999em;top:-9999em",r.onload=function(){t.call(r),r.onload=r.onerror=null,n.removeChild(r)},r.onerror=o,n.appendChild(r),r.src=e};function o(){this.parentNode.removeChild(this)}function h(){return this.selectAll("stop")}function c(e,t){var r=l("stop"),n={offset:+t+"%"};e=a.color(e),n["stop-color"]=e.hex,e.opacity<1&&(n["stop-opacity"]=e.opacity),l(r,n);for(var i,o=this.stops(),s=0;s<o.length;s++){if(t<parseFloat(o[s].attr("offset"))){this.node.insertBefore(r,o[s].node),i=!0;break}}return i||this.node.appendChild(r),this}function p(){if("linearGradient"==this.type){var e=l(this.node,"x1")||0,t=l(this.node,"x2")||1,r=l(this.node,"y1")||0,n=l(this.node,"y2")||0;return a._.box(e,r,math.abs(t-e),math.abs(n-r))}var i=this.node.cx||.5,o=this.node.cy||.5,s=this.node.r||0;return a._.box(i-s,o-s,2*s,2*s)}function s(e){var t=e,r=this.stops();if("string"==typeof e&&(t=q("snap.util.grad.parse",null,"l(0,0,0,1)"+e).firstDefined().stops),a.is(t,"array")){for(var n,i,o=0;o<r.length;o++){t[o]?(n=a.color(t[o].color),(i={offset:t[o].offset+"%"})["stop-color"]=n.hex,n.opacity<1&&(i["stop-opacity"]=n.opacity),r[o].attr(i)):r[o].remove()}for(o=r.length;o<t.length;o++)this.addStop(t[o].color,t[o].offset);return this}}function d(e,t,r,n,i){var o=a._.make("linearGradient",e);return o.stops=h,o.addStop=c,o.getBBox=p,o.setStops=s,null!=t&&l(o.node,{x1:t,y1:r,x2:n,y2:i}),o}function f(e,t,r,n,i,o){var s=a._.make("radialGradient",e);return s.stops=h,s.addStop=c,s.getBBox=p,null!=t&&l(s.node,{cx:t,cy:r,r:n}),null!=i&&null!=o&&l(s.node,{fx:i,fy:o}),s}n.image=function(e,t,r,n,i){var o,s=this.el("image");return A(e,"object")&&"src"in e?s.attr(e):null!=e&&(o={"xlink:href":e,preserveAspectRatio:"none"},null!=t&&null!=r&&(o.x=t,o.y=r),null!=n&&null!=i?(o.width=n,o.height=i):u(e,function(){a._.$(s.node,{width:this.offsetWidth,height:this.offsetHeight})}),a._.$(s.node,o)),s},n.ellipse=function(e,t,r,n){var i;return A(e,"object")&&"[object Object]"==e?i=e:null!=e&&(i={cx:e,cy:t,rx:r,ry:n}),this.el("ellipse",i)},n.path=function(e){var t;return A(e,"object")&&!A(e,"array")?t=e:e&&(t={d:e}),this.el("path",t)},n.group=n.g=function(e){var t=this.el("g");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},n.svg=function(e,t,r,n,i,o,s,a){var l={};return A(e,"object")&&null==t?l=e:(null!=e&&(l.x=e),null!=t&&(l.y=t),null!=r&&(l.width=r),null!=n&&(l.height=n),null!=i&&null!=o&&null!=s&&null!=a&&(l.viewBox=[i,o,s,a])),this.el("svg",l)},n.mask=function(e){var t=this.el("mask");return 1==arguments.length&&e&&!e.type?t.attr(e):arguments.length&&t.add(Array.prototype.slice.call(arguments,0)),t},n.ptrn=function(e,t,r,n,i,o,s,a){var l;return A(e,"object")?l=e:(l={patternUnits:"userSpaceOnUse"},e&&(l.x=e),t&&(l.y=t),null!=r&&(l.width=r),null!=n&&(l.height=n),l.viewBox=null!=i&&null!=o&&null!=s&&null!=a?[i,o,s,a]:[e||0,t||0,r||0,n||0]),this.el("pattern",l)},n.use=function(e){return null!=e?(e instanceof t&&(e.attr("id")||e.attr({id:a._.id(e)}),e=e.attr("id")),"#"==String(e).charAt()&&(e=e.substring(1)),this.el("use",{"xlink:href":"#"+e})):t.prototype.use.call(this)},n.symbol=function(e,t,r,n){var i={};return null!=e&&null!=t&&null!=r&&null!=n&&(i.viewBox=[e,t,r,n]),this.el("symbol",i)},n.text=function(e,t,r){var n={};return A(e,"object")?n=e:null!=e&&(n={x:e,y:t,text:r||""}),this.el("text",n)},n.line=function(e,t,r,n){var i={};return A(e,"object")?i=e:null!=e&&(i={x1:e,x2:r,y1:t,y2:n}),this.el("line",i)},n.polyline=function(e){1<arguments.length&&(e=Array.prototype.slice.call(arguments,0));var t={};return A(e,"object")&&!A(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polyline",t)},n.polygon=function(e){1<arguments.length&&(e=Array.prototype.slice.call(arguments,0));var t={};return A(e,"object")&&!A(e,"array")?t=e:null!=e&&(t={points:e}),this.el("polygon",t)},l=a._.$,n.gradient=function(e){return function(e,t){var r,n=q("snap.util.grad.parse",null,t).firstDefined();if(!n)return null;n.params.unshift(e),r="l"==n.type.toLowerCase()?d.apply(0,n.params):f.apply(0,n.params),n.type!=n.type.toLowerCase()&&l(r.node,{gradientUnits:"userSpaceOnUse"});for(var i=n.stops,o=i.length,s=0;s<o;s++){var a=i[s];r.addStop(a.color,a.offset)}return r}(this.defs,e)},n.gradientLinear=function(e,t,r,n){return d(this.defs,e,t,r,n)},n.gradientRadial=function(e,t,r,n,i){return f(this.defs,e,t,r,n,i)},n.toString=function(){var e,t=this.node.ownerDocument,r=t.createDocumentFragment(),n=t.createElement("div"),i=this.node.cloneNode(!0);return r.appendChild(n),n.appendChild(i),a._.$(i,{xmlns:"http://www.w3.org/2000/svg"}),e=n.innerHTML,r.removeChild(r.firstChild),e},n.toDataURL=function(){return y&&y.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0},n.clear=function(){for(var e,t=this.node.firstChild;t;)e=t.nextSibling,"defs"!=t.tagName?t.parentNode.removeChild(t):n.clear.call({node:t}),t=e}}),t.plugin(function(V,g,e,t){function _(t){var r=_.ps=_.ps||{};return r[t]?r[t].sleep=100:r[t]={sleep:100},setTimeout(function(){for(var e in r)r[a](e)&&e!=t&&(r[e].sleep--,r[e].sleep||delete r[e])}),r[t]}function f(e,t,r,n){return null==e&&(e=t=r=n=0),null==t&&(t=e.y,r=e.width,n=e.height,e=e.x),{x:e,y:t,width:r,w:r,height:n,h:n,x2:e+r,y2:t+n,cx:e+r/2,cy:t+n/2,r1:j.min(r,n)/2,r2:j.max(r,n)/2,r0:j.sqrt(r*r+n*n)/2,path:s(e,t,r,n),vb:[e,t,r,n].join(" ")}}function v(){return this.join(",").replace(l,"$1")}function E(e){var t=d(e);return t.toString=v,t}function m(e,t,r,n,i,o,s,a,l){return null==l?S(e,t,r,n,i,o,s,a):w(e,t,r,n,i,o,s,a,function(e,t,r,n,i,o,s,a,l){if(!(l<0||S(e,t,r,n,i,o,s,a)<l)){var A,u=.5,h=1-u;for(A=S(e,t,r,n,i,o,s,a,h);.01<q(A-l);)A=S(e,t,r,n,i,o,s,a,h+=(A<l?1:-1)*(u/=2));return h}}(e,t,r,n,i,o,s,a,l))}function r(p,d){function f(e){return+(+e).toFixed(3)}return V._.cacher(function(e,t,r){e instanceof g&&(e=e.attr("d"));for(var n,i,o,s,a,l="",A={},u=0,h=0,c=(e=Q(e)).length;h<c;h++){if("M"==(o=e[h])[0])n=+o[1],i=+o[2];else{if(t<u+(s=m(n,i,o[1],o[2],o[3],o[4],o[5],o[6]))){if(d&&!A.start){if(l+=["C"+f((a=m(n,i,o[1],o[2],o[3],o[4],o[5],o[6],t-u)).start.x),f(a.start.y),f(a.m.x),f(a.m.y),f(a.x),f(a.y)],r)return l;A.start=l,l=["M"+f(a.x),f(a.y)+"C"+f(a.n.x),f(a.n.y),f(a.end.x),f(a.end.y),f(o[5]),f(o[6])].join(),u+=s,n=+o[5],i=+o[6];continue}if(!p&&!d)return m(n,i,o[1],o[2],o[3],o[4],o[5],o[6],t-u)}u+=s,n=+o[5],i=+o[6]}l+=o.shift()+o}return A.end=l,p?u:d?A:w(n,i,o[0],o[1],o[2],o[3],o[4],o[5],1)},null,V._.clone)}function w(e,t,r,n,i,o,s,a,l){var A=1-l,u=N(A,3),h=N(A,2),c=l*l,p=c*l,d=e+2*l*(r-e)+c*(i-2*r+e),f=t+2*l*(n-t)+c*(o-2*n+t),g=r+2*l*(i-r)+c*(s-2*i+r),m=n+2*l*(o-n)+c*(a-2*o+n);return{x:u*e+3*h*l*r+3*A*l*l*i+p*s,y:u*t+3*h*l*n+3*A*l*l*o+p*a,m:{x:d,y:f},n:{x:g,y:m},start:{x:A*e+l*r,y:A*t+l*n},end:{x:A*i+l*s,y:A*o+l*a},alpha:90-180*j.atan2(d-g,f-m)/G}}function b(e,t,r,n,i,o,s,a){V.is(e,"array")||(e=[e,t,r,n,i,o,s,a]);var l=p.apply(null,e);return f(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)}function y(e,t,r){return t>=e.x&&t<=e.x+e.width&&r>=e.y&&r<=e.y+e.height}function B(e,t){return e=f(e),y(t=f(t),e.x,e.y)||y(t,e.x2,e.y)||y(t,e.x,e.y2)||y(t,e.x2,e.y2)||y(e,t.x,t.y)||y(e,t.x2,t.y)||y(e,t.x,t.y2)||y(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function C(e,t,r,n,i){return e*(e*(-3*t+9*r-9*n+3*i)+6*t-12*r+6*n)-3*t+3*r}function S(e,t,r,n,i,o,s,a,l){null==l&&(l=1);for(var A=(l=1<l?1:l<0?0:l)/2,u=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],c=0,p=0;p<12;p++){var d=A*u[p]+A,f=C(d,e,r,i,s),g=C(d,t,n,o,a),m=f*f+g*g;c+=h[p]*j.sqrt(m)}return A*c}function P(e,t,r){if(!B(b(e),b(t)))return r?0:[];for(var n=~~(S.apply(0,e)/8),i=~~(S.apply(0,t)/8),o=[],s=[],a={},l=r?0:[],A=0;A<1+n;A++){var u=w.apply(0,e.concat(A/n));o.push({x:u.x,y:u.y,t:A/n})}for(A=0;A<1+i;A++)u=w.apply(0,t.concat(A/i)),s.push({x:u.x,y:u.y,t:A/i});for(A=0;A<n;A++)for(var h=0;h<i;h++){var c=o[A],p=o[A+1],d=s[h],f=s[h+1],g=q(p.x-c.x)<.001?"y":"x",m=q(f.x-d.x)<.001?"y":"x",y=function(e,t,r,n,i,o,s,a){if(!(k(e,r)<R(i,s)||R(e,r)>k(i,s)||k(t,n)<R(o,a)||R(t,n)>k(o,a))){var l=(e-r)*(o-a)-(t-n)*(i-s);if(l){var A=((e*n-t*r)*(i-s)-(e-r)*(i*a-o*s))/l,u=((e*n-t*r)*(o-a)-(t-n)*(i*a-o*s))/l,h=+A.toFixed(2),c=+u.toFixed(2);if(!(h<+R(e,r).toFixed(2)||h>+k(e,r).toFixed(2)||h<+R(i,s).toFixed(2)||h>+k(i,s).toFixed(2)||c<+R(t,n).toFixed(2)||c>+k(t,n).toFixed(2)||c<+R(o,a).toFixed(2)||c>+k(o,a).toFixed(2)))return{x:A,y:u}}}}(c.x,c.y,p.x,p.y,d.x,d.y,f.x,f.y);if(y){if(a[y.x.toFixed(4)]==y.y.toFixed(4))continue;a[y.x.toFixed(4)]=y.y.toFixed(4);var v=c.t+q((y[g]-c[g])/(p[g]-c[g]))*(p.t-c.t),_=d.t+q((y[m]-d[m])/(f[m]-d[m]))*(f.t-d.t);0<=v&&v<=1&&0<=_&&_<=1&&(r?l++:l.push({x:y.x,y:y.y,t1:v,t2:_}))}}return l}function i(e,t,r){e=Q(e),t=Q(t);for(var n,i,o,s,a,l,A,u,h,c,p=r?0:[],d=0,f=e.length;d<f;d++){var g=e[d];if("M"==g[0])n=a=g[1],i=l=g[2];else{i="C"==g[0]?(n=(h=[n,i].concat(g.slice(1)))[6],h[7]):(h=[n,i,n,i,a,l,a,l],n=a,l);for(var m=0,y=t.length;m<y;m++){var v=t[m];if("M"==v[0])o=A=v[1],s=u=v[2];else{s="C"==v[0]?(o=(c=[o,s].concat(v.slice(1)))[6],c[7]):(c=[o,s,o,s,A,u,A,u],o=A,u);var _=P(h,c,r);if(r)p+=_;else{for(var E=0,w=_.length;E<w;E++)_[E].segment1=d,_[E].segment2=m,_[E].bez1=h,_[E].bez2=c;p=p.concat(_)}}}}}return p}function o(e){var t=_(e);if(t.bbox)return d(t.bbox);if(!e)return f();for(var r,n,i=0,o=0,s=[],a=[],l=0,A=(e=Q(e)).length;l<A;l++){"M"==(r=e[l])[0]?(i=r[1],o=r[2],s.push(i),a.push(o)):(n=p(i,o,r[1],r[2],r[3],r[4],r[5],r[6]),s=s.concat(n.min.x,n.max.x),a=a.concat(n.min.y,n.max.y),i=r[5],o=r[6])}var u=R.apply(0,s),h=R.apply(0,a),c=f(u,h,k.apply(0,s)-u,k.apply(0,a)-h);return t.bbox=d(c),c}function s(e,t,r,n,i){if(i)return[["M",+e+ +i,t],["l",r-2*i,0],["a",i,i,0,0,1,i,i],["l",0,n-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-r,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-n],["a",i,i,0,0,1,i,-i],["z"]];var o=[["M",e,t],["l",r,0],["l",0,n],["l",-r,0],["z"]];return o.toString=v,o}function F(e,t,r,n,i){var o,s,a,l;return null==i&&null==n&&(n=r),e=+e,t=+t,r=+r,n=+n,(l=null!=i?(o=Math.PI/180,s=e+r*Math.cos(-n*o),a=e+r*Math.cos(-i*o),[["M",s,t+r*Math.sin(-n*o)],["A",r,r,0,+(180<i-n),0,a,t+r*Math.sin(-i*o)]]):[["M",e,t],["m",0,-n],["a",r,n,0,1,1,0,2*n],["a",r,n,0,1,1,0,-2*n],["z"]]).toString=v,l}function x(e){var t=_(e);if(t.abs)return E(t.abs);if(M(e,"array")&&M(e&&e[0],"array")||(e=V.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r,n=[],i=0,o=0,s=0,a=0,l=0;"M"==e[0][0]&&(s=i=+e[0][1],a=o=+e[0][2],l++,n[0]=["M",i,o]);for(var A,u,h=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),c=l,p=e.length;c<p;c++){if(n.push(A=[]),(r=(u=e[c])[0])!=r.toUpperCase())switch(A[0]=r.toUpperCase(),A[0]){case"A":A[1]=u[1],A[2]=u[2],A[3]=u[3],A[4]=u[4],A[5]=u[5],A[6]=+u[6]+i,A[7]=+u[7]+o;break;case"V":A[1]=+u[1]+o;break;case"H":A[1]=+u[1]+i;break;case"R":for(var d=[i,o].concat(u.slice(1)),f=2,g=d.length;f<g;f++)d[f]=+d[f]+i,d[++f]=+d[f]+o;n.pop(),n=n.concat(D(d,h));break;case"O":n.pop(),(d=F(i,o,u[1],u[2])).push(d[0]),n=n.concat(d);break;case"U":n.pop(),n=n.concat(F(i,o,u[1],u[2],u[3])),A=["U"].concat(n[n.length-1].slice(-2));break;case"M":s=+u[1]+i,a=+u[2]+o;default:for(f=1,g=u.length;f<g;f++)A[f]=+u[f]+(f%2?i:o)}else if("R"==r)d=[i,o].concat(u.slice(1)),n.pop(),n=n.concat(D(d,h)),A=["R"].concat(u.slice(-2));else if("O"==r)n.pop(),(d=F(i,o,u[1],u[2])).push(d[0]),n=n.concat(d);else if("U"==r)n.pop(),n=n.concat(F(i,o,u[1],u[2],u[3])),A=["U"].concat(n[n.length-1].slice(-2));else for(var m=0,y=u.length;m<y;m++)A[m]=u[m];if("O"!=(r=r.toUpperCase()))switch(A[0]){case"Z":i=+s,o=+a;break;case"H":i=A[1];break;case"V":o=A[1];break;case"M":s=A[A.length-2],a=A[A.length-1];default:i=A[A.length-2],o=A[A.length-1]}}return n.toString=v,t.abs=E(n),n}function T(e,t,r,n){return[e,t,r,n,r,n]}function U(e,t,r,n,i,o){return[1/3*e+2/3*r,1/3*t+2/3*n,1/3*i+2/3*r,1/3*o+2/3*n,i,o]}function p(e,t,r,n,i,o,s,a){for(var l,A,u,h,c,p,d,f,g=[],m=[[],[]],y=0;y<2;++y)if(u=0==y?(A=6*e-12*r+6*i,l=-3*e+9*r-9*i+3*s,3*r-3*e):(A=6*t-12*n+6*o,l=-3*t+9*n-9*o+3*a,3*n-3*t),q(l)<1e-12){if(q(A)<1e-12)continue;0<(h=-u/A)&&h<1&&g.push(h)}else d=A*A-4*u*l,f=j.sqrt(d),d<0||(0<(c=(-A+f)/(2*l))&&c<1&&g.push(c),0<(p=(-A-f)/(2*l))&&p<1&&g.push(p));for(var v,_=g.length,E=_;_--;)v=1-(h=g[_]),m[0][_]=v*v*v*e+3*v*v*h*r+3*v*h*h*i+h*h*h*s,m[1][_]=v*v*v*t+3*v*v*h*n+3*v*h*h*o+h*h*h*a;return m[0][E]=e,m[1][E]=t,m[0][E+1]=s,m[1][E+1]=a,m[0].length=m[1].length=E+2,{min:{x:R.apply(0,m[0]),y:R.apply(0,m[1])},max:{x:k.apply(0,m[0]),y:k.apply(0,m[1])}}}function Q(e,t){var r=!t&&_(e);if(!t&&r.curve)return E(r.curve);function n(e,t,r){var n,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(function e(t,r,n,i,o,s,a,l,A,u){var h,c,p,d,f,g,m,y,v,_,E,w=120*G/180,b=G/180*(+o||0),B=[],C=V._.cacher(function(e,t,r){return{x:e*j.cos(r)-t*j.sin(r),y:e*j.sin(r)+t*j.cos(r)}});if(!n||!i)return[t,r,l,A,l,A];u?(_=u[0],E=u[1],y=u[2],v=u[3]):(t=(h=C(t,r,-b)).x,r=h.y,l=(h=C(l,A,-b)).x,A=h.y,1<(j.cos(G/180*o),j.sin(G/180*o),d=(c=(t-l)/2)*c/(n*n)+(p=(r-A)/2)*p/(i*i))&&(n*=d=j.sqrt(d),i*=d),f=n*n,g=i*i,y=(m=(s==a?-1:1)*j.sqrt(q((f*g-f*p*p-g*c*c)/(f*p*p+g*c*c))))*n*p/i+(t+l)/2,v=m*-i*c/n+(r+A)/2,_=j.asin(((r-v)/i).toFixed(9)),E=j.asin(((A-v)/i).toFixed(9)),(_=t<y?G-_:_)<0&&(_=2*G+_),(E=l<y?G-E:E)<0&&(E=2*G+E),a&&E<_&&(_-=2*G),!a&&_<E&&(E-=2*G));var S,P,F,x=E-_;q(x)>w&&(S=E,P=l,F=A,E=_+w*(a&&_<E?1:-1),B=e(l=y+n*j.cos(E),A=v+i*j.sin(E),n,i,o,0,a,P,F,[E,S,y,v])),x=E-_;var T=j.cos(_),U=j.sin(_),Q=j.cos(E),D=j.sin(E),M=j.tan(x/4),I=4/3*n*M,R=4/3*i*M,k=[t,r],N=[t+I*U,r-R*T],O=[l+I*D,A-R*Q],H=[l,A];if(N[0]=2*k[0]-N[0],N[1]=2*k[1]-N[1],u)return[N,O,H].concat(B);for(var L=[],z=0,K=(B=[N,O,H].concat(B).join().split(",")).length;z<K;z++)L[z]=z%2?C(B[z-1],B[z],b).y:C(B[z],B[z+1],b).x;return L}.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":i="C"==r||"S"==r?(n=2*t.x-t.bx,2*t.y-t.by):(n=t.x,t.y),e=["C",n,i].concat(e.slice(1));break;case"T":"Q"==r||"T"==r?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(U(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(U(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(T(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(T(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(T(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(T(t.x,t.y,t.X,t.Y))}return e}function i(e,t){if(7<e[t].length){e[t].shift();for(var r=e[t];r.length;)u[t]="A",a&&(h[t]="A"),e.splice(t++,0,["C"].concat(r.splice(0,6)));e.splice(t,1),f=k(s.length,a&&a.length||0)}}function o(e,t,r,n,i){e&&t&&"M"==e[i][0]&&"M"!=t[i][0]&&(t.splice(i,0,["M",n.x,n.y]),r.bx=0,r.by=0,r.x=e[i][1],r.y=e[i][2],f=k(s.length,a&&a.length||0))}for(var s=x(e),a=t&&x(t),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},A={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=[],h=[],c="",p="",d=0,f=k(s.length,a&&a.length||0);d<f;d++){s[d]&&(c=s[d][0]),"C"!=c&&(u[d]=c,d&&(p=u[d-1])),s[d]=n(s[d],l,p),"A"!=u[d]&&"C"==c&&(u[d]="C"),i(s,d),a&&(a[d]&&(c=a[d][0]),"C"!=c&&(h[d]=c,d&&(p=h[d-1])),a[d]=n(a[d],A,p),"A"!=h[d]&&"C"==c&&(h[d]="C"),i(a,d)),o(s,a,l,A,d),o(a,s,A,l,d);var g=s[d],m=a&&a[d],y=g.length,v=a&&m.length;l.x=g[y-2],l.y=g[y-1],l.bx=I(g[y-4])||l.x,l.by=I(g[y-3])||l.y,A.bx=a&&(I(m[v-4])||A.x),A.by=a&&(I(m[v-3])||A.y),A.x=a&&m[v-2],A.y=a&&m[v-1]}return a||(r.curve=E(s)),a?[s,a]:s}function D(e,t){for(var r=[],n=0,i=e.length;n<i-2*!t;n+=2){var o=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?i-4==n?o[3]={x:+e[0],y:+e[1]}:i-2==n&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4==n?o[3]=o[2]:n||(o[0]={x:+e[n],y:+e[n+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r}var n=g.prototype,M=V.is,d=V._.clone,a="hasOwnProperty",l=/,?([a-z]),?/gi,I=parseFloat,j=Math,G=j.PI,R=j.min,k=j.max,N=j.pow,q=j.abs,A=r(1),u=r(),h=r(0,1),c=V._unit2px,O={path:function(e){return e.attr("path")},circle:function(e){var t=c(e);return F(t.cx,t.cy,t.r)},ellipse:function(e){var t=c(e);return F(t.cx||0,t.cy||0,t.rx,t.ry)},rect:function(e){var t=c(e);return s(t.x||0,t.y||0,t.width,t.height,t.rx,t.ry)},image:function(e){var t=c(e);return s(t.x||0,t.y||0,t.width,t.height)},line:function(e){return"M"+[e.attr("x1")||0,e.attr("y1")||0,e.attr("x2"),e.attr("y2")]},polyline:function(e){return"M"+e.attr("points")},polygon:function(e){return"M"+e.attr("points")+"z"},deflt:function(e){var t=e.node.getBBox();return s(t.x,t.y,t.width,t.height)}};V.path=_,V.path.getTotalLength=A,V.path.getPointAtLength=u,V.path.getSubpath=function(e,t,r){if(this.getTotalLength(e)-r<1e-6)return h(e,t).end;var n=h(e,r,1);return t?h(n,t).end:n},n.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},n.getPointAtLength=function(e){return u(this.attr("d"),e)},n.getSubpath=function(e,t){return V.path.getSubpath(this.attr("d"),e,t)},V._.box=f,V.path.findDotsAtSegment=w,V.path.bezierBBox=b,V.path.isPointInsideBBox=y,V.closest=function(e,t,r,n){for(var i=100,o=f(e-i/2,t-i/2,i,i),s=[],a=r[0].hasOwnProperty("x")?function(e){return{x:r[e].x,y:r[e].y}}:function(e){return{x:r[e],y:n[e]}},l=0;i<=1e6&&!l;){for(var A=0,u=r.length;A<u;A++){var h=a(A);if(y(o,h.x,h.y)){l++,s.push(h);break}}l||(o=f(e-(i*=2)/2,t-i/2,i,i))}if(1e6!=i){for(var c,p=1/0,A=0,u=s.length;A<u;A++){var d=V.len(e,t,s[A].x,s[A].y);d<p&&(p=d,s[A].len=d,c=s[A])}return c}},V.path.isBBoxIntersect=B,V.path.intersection=function(e,t){return i(e,t)},V.path.intersectionNumber=function(e,t){return i(e,t,1)},V.path.isPointInside=function(e,t,r){var n=o(e);return y(n,t,r)&&i(e,[["M",t,r],["H",n.x2+10]],1)%2==1},V.path.getBBox=o,V.path.get=O,V.path.toRelative=function(e){var t=_(e),r=String.prototype.toLowerCase;if(t.rel)return E(t.rel);V.is(e,"array")&&V.is(e&&e[0],"array")||(e=V.parsePathString(e));var n=[],i=0,o=0,s=0,a=0,l=0;"M"==e[0][0]&&(s=i=e[0][1],a=o=e[0][2],l++,n.push(["M",i,o]));for(var A=l,u=e.length;A<u;A++){var h=n[A]=[],c=e[A];if(c[0]!=r.call(c[0]))switch(h[0]=r.call(c[0]),h[0]){case"a":h[1]=c[1],h[2]=c[2],h[3]=c[3],h[4]=c[4],h[5]=c[5],h[6]=+(c[6]-i).toFixed(3),h[7]=+(c[7]-o).toFixed(3);break;case"v":h[1]=+(c[1]-o).toFixed(3);break;case"m":s=c[1],a=c[2];default:for(var p=1,d=c.length;p<d;p++)h[p]=+(c[p]-(p%2?i:o)).toFixed(3)}else{h=n[A]=[],"m"==c[0]&&(s=c[1]+i,a=c[2]+o);for(var f=0,g=c.length;f<g;f++)n[A][f]=c[f]}var m=n[A].length;switch(n[A][0]){case"z":i=s,o=a;break;case"h":i+=+n[A][m-1];break;case"v":o+=+n[A][m-1];break;default:i+=+n[A][m-2],o+=+n[A][m-1]}}return n.toString=v,t.rel=E(n),n},V.path.toAbsolute=x,V.path.toCubic=Q,V.path.map=function(e,t){if(!t)return e;for(var r,n,i,o,s,a=0,l=(e=Q(e)).length;a<l;a++)for(i=1,o=(s=e[a]).length;i<o;i+=2)r=t.x(s[i],s[i+1]),n=t.y(s[i],s[i+1]),s[i]=r,s[i+1]=n;return e},V.path.toString=v,V.path.clone=E}),t.plugin(function(h,e,t,r){function l(e){if(this.items=[],this.bindings={},this.length=0,this.type="set",e)for(var t=0,r=e.length;t<r;t++)e[t]&&(this[this.items.length]=this.items[this.items.length]=e[t],this.length++)}var A=Math.max,u=Math.min,n=l.prototype;n.push=function(){for(var e,t,r=0,n=arguments.length;r<n;r++)(e=arguments[r])&&(this[t=this.items.length]=this.items[t]=e,this.length++);return this},n.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},n.forEach=function(e,t){for(var r=0,n=this.items.length;r<n;r++)if(!1===e.call(t,this.items[r],r))return this;return this},n.animate=function(r,n,i,e){"function"!=typeof i||i.length||(e=i,i=_.linear),r instanceof h._.Animation&&(e=r.callback,i=r.easing,n=i.dur,r=r.attr);var o,s=arguments;h.is(r,"array")&&h.is(s[s.length-1],"array")&&(o=!0);function a(){t?this.b=t:t=this.b}var t,l=0,A=this,u=e&&function(){++l==A.length&&e.call(this)};return this.forEach(function(e,t){q.once("snap.animcreated."+e.id,a),o?s[t]&&e.animate.apply(e,s[t]):e.animate(r,n,i,u)})},n.remove=function(){for(;this.length;)this.pop().remove();return this},n.bind=function(e,t,r){var n,i={};return"function"==typeof t?this.bindings[e]=t:(n=r||e,this.bindings[e]=function(e){i[n]=e,t.attr(i)}),this},n.attr=function(e){var t={};for(var r in e)this.bindings[r]?this.bindings[r](e[r]):t[r]=e[r];for(var n=0,i=this.items.length;n<i;n++)this.items[n].attr(t);return this},n.clear=function(){for(;this.length;)this.pop()},n.splice=function(e,t,r){e=e<0?A(this.length+e,0):e,t=A(0,u(this.length-e,t));for(var n=[],i=[],o=[],s=2;s<arguments.length;s++)o.push(arguments[s]);for(s=0;s<t;s++)i.push(this[e+s]);for(;s<this.length-e;s++)n.push(this[e+s]);var a=o.length;for(s=0;s<a+n.length;s++)this.items[e+s]=this[e+s]=s<a?o[s]:n[s-a];for(s=this.items.length=this.length-=t-a;this[s];)delete this[s++];return new l(i)},n.exclude=function(e){for(var t=0,r=this.length;t<r;t++)if(this[t]==e)return this.splice(t,1),!0;return!1},n.insertAfter=function(e){for(var t=this.items.length;t--;)this.items[t].insertAfter(e);return this},n.getBBox=function(){for(var e,t=[],r=[],n=[],i=[],o=this.items.length;o--;){this.items[o].removed||(e=this.items[o].getBBox(),t.push(e.x),r.push(e.y),n.push(e.x+e.width),i.push(e.y+e.height))}return{x:t=u.apply(0,t),y:r=u.apply(0,r),x2:n=A.apply(0,n),y2:i=A.apply(0,i),width:n-t,height:i-r,cx:t+(n-t)/2,cy:r+(i-r)/2}},n.clone=function(e){e=new l;for(var t=0,r=this.items.length;t<r;t++)e.push(this.items[t].clone());return e},n.toString=function(){return"Snap‘s set"},n.type="set",h.Set=l,h.set=function(){var e=new l;return arguments.length&&e.push.apply(e,Array.prototype.slice.call(arguments,0)),e}}),t.plugin(function(h,e,t,r){function c(e){var t=e[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return 4==e.length?[t,0,e[2],e[3]]:[t,0];case"s":return 5==e.length?[t,1,1,e[3],e[4]]:3==e.length?[t,1,1]:[t,1]}}function p(e){return e}function d(e){return e.join(" ")}function f(e){return h.rgb(e[0],e[1],e[2],e[3])}function g(e){for(var t,r,n,i,o=0,s=[],a=0,l=e.length;a<l;a++){for(n="[",i=['"'+e[a][0]+'"'],t=1,r=e[a].length;t<r;t++)i[t]="val["+o+++"]";n+=i+"]",s[a]=n}return Function("val","return Snap.path.toString.call(["+s+"])")}function m(e){for(var t=[],r=0,n=e.length;r<n;r++)for(var i=1,o=e[r].length;i<o;i++)t.push(e[r][i]);return t}function y(e){return isFinite(e)}var v={},_=/[%a-z]+$/i,E=String;v.stroke=v.fill="colour",e.prototype.equal=function(e,t){return q("snap.util.equal",this,e,t).firstDefined()},q.on("snap.util.equal",function(e,t){var r,n,i=E(this.attr(e)||""),o=this;if("colour"==v[e])return r=h.color(i),n=h.color(t),{from:[r.r,r.g,r.b,r.opacity],to:[n.r,n.g,n.b,n.opacity],f:f};if("viewBox"==e)return{from:r=this.attr(e).vb.split(" ").map(Number),to:n=t.split(" ").map(Number),f:d};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return"string"==typeof t&&(t=E(t).replace(/\.{3}|\u2026/g,i)),function(e,t,r){e=e||new h.Matrix,t=t||new h.Matrix,e=h.parseTransformString(e.toTransformString())||[],t=h.parseTransformString(t.toTransformString())||[];for(var n,i,o,s,a=Math.max(e.length,t.length),l=[],A=[],u=0;u<a;u++){if(o=e[u]||c(t[u]),s=t[u]||c(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4])){e=h._.transform2matrix(e,r()),t=h._.transform2matrix(t,r()),l=[["m",e.a,e.b,e.c,e.d,e.e,e.f]],A=[["m",t.a,t.b,t.c,t.d,t.e,t.f]];break}for(l[u]=[],A[u]=[],n=0,i=Math.max(o.length,s.length);n<i;n++)n in o&&(l[u][n]=o[n]),n in s&&(A[u][n]=s[n])}return{from:m(l),to:m(A),f:g(l)}}(i=this.matrix,t=h._.rgTransform.test(t)?h._.transform2matrix(t,this.getBBox()):h._.transform2matrix(h._.svgTransform2string(t),this.getBBox()),function(){return o.getBBox(1)});if("d"==e||"path"==e)return{from:m((r=h.path.toCubic(i,t))[0]),to:m(r[1]),f:g(r[0])};if("points"==e)return{from:r=E(i).split(h._.separator),to:n=E(t).split(h._.separator),f:function(e){return e}};if(y(i)&&y(t))return{from:parseFloat(i),to:parseFloat(t),f:p};var s,a,l,A=i.match(_),u=E(t).match(_);return A&&(a=A,l=u,h.is(a,"array")&&h.is(l,"array")&&a.toString()==l.toString())?{from:parseFloat(i),to:parseFloat(t),f:(s=A,function(e){return+e.toFixed(3)+s})}:{from:this.asPX(e),to:this.asPX(e,t),f:p}})}),t.plugin(function(u,e,t,i){function c(e,t){var r="y"==e?"scrollTop":"scrollLeft",n=t&&t.node?t.node.ownerDocument:i.doc;return n[r in n.documentElement?"documentElement":"body"][r]}function p(){return this.originalEvent.preventDefault()}function d(){return this.originalEvent.stopPropagation()}function o(l,A,u,h){function e(e){var t=c("y",h),r=c("x",h);if(f&&g.hasOwnProperty(A))for(var n=0,i=e.targetTouches&&e.targetTouches.length;n<i;n++)if(e.targetTouches[n].target==l||l.contains(e.targetTouches[n].target)){var o=e;(e=e.targetTouches[n]).originalEvent=o,e.preventDefault=p,e.stopPropagation=d;break}var s=e.clientX+r,a=e.clientY+t;return u.call(h,e,s,a)}var t=f&&g[A]?g[A]:A;return A!==t&&l.addEventListener(A,e,!1),l.addEventListener(t,e,!1),function(){return A!==t&&l.removeEventListener(A,e,!1),l.removeEventListener(t,e,!1),!0}}function h(e){for(var t,r=e.clientX,n=e.clientY,i=c("y"),o=c("x"),s=m.length;s--;){if(t=m[s],f){for(var a,l=e.touches&&e.touches.length;l--;)if((a=e.touches[l]).identifier==t.el._drag.id||t.el.node.contains(a.target)){r=a.clientX,n=a.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var A=t.el.node;A.nextSibling,A.parentNode,A.style.display,r+=o,n+=i,q("snap.drag.move."+t.el.id,t.move_scope||t.el,r-t.el._drag.x,n-t.el._drag.y,r,n,e)}}for(var r=e.prototype,f=("createTouch"in i.doc),n=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],g={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},m=[],y=function(e){u.unmousemove(h).unmouseup(y);for(var t,r=m.length;r--;)(t=m[r]).el._drag={},q("snap.drag.end."+t.el.id,t.end_scope||t.start_scope||t.move_scope||t.el,e),q.off("snap.drag.*."+t.el.id);m=[]},s=n.length;s--;)!function(i){u[i]=r[i]=function(e,t){if(u.is(e,"function"))this.events=this.events||[],this.events.push({name:i,f:e,unbind:o(this.node||document,i,e,t||this)});else for(var r=0,n=this.events.length;r<n;r++)if(this.events[r].name==i)try{this.events[r].f.call(this)}catch(e){}return this},u["un"+i]=r["un"+i]=function(e){for(var t=this.events||[],r=t.length;r--;)if(t[r].name==i&&(t[r].f==e||!e))return t[r].unbind(),t.splice(r,1),t.length||delete this.events,this;return this}}(n[s]);r.hover=function(e,t,r,n){return this.mouseover(e,r).mouseout(t,n||r)},r.unhover=function(e,t){return this.unmouseover(e).unmouseout(t)};var v=[];r.drag=function(n,i,o,s,a,l){function e(e,t,r){(e.originalEvent||e).preventDefault(),A._drag.x=t,A._drag.y=r,A._drag.id=e.identifier,m.length||u.mousemove(h).mouseup(y),m.push({el:A,move_scope:s,start_scope:a,end_scope:l}),i&&q.on("snap.drag.start."+A.id,i),n&&q.on("snap.drag.move."+A.id,n),o&&q.on("snap.drag.end."+A.id,o),q("snap.drag.start."+A.id,a||s||A,t,r,e)}function t(e,t,r){q("snap.draginit."+A.id,A,e,t,r)}var r,A=this;return arguments.length?(q.on("snap.draginit."+A.id,e),A._drag={},v.push({el:A,start:e,init:t}),A.mousedown(t),A):A.drag(function(e,t){this.attr({transform:r+(r?"T":"t")+[e,t]})},function(){r=this.transform().local})},r.undrag=function(){for(var e=v.length;e--;)v[e].el==this&&(this.unmousedown(v[e].init),v.splice(e,1),q.unbind("snap.drag.*."+this.id),q.unbind("snap.draginit."+this.id));return v.length||u.unmousemove(h).unmouseup(y),this}}),t.plugin(function(o,s,e,t){var r=(s.prototype,e.prototype),n=/^\s*url\((.+)\)/,a=String,l=o._.$;o.filter={},r.filter=function(e){var t=this;"svg"!=t.type&&(t=t.paper);var r=o.parse(a(e)),n=o._.id(),i=(t.node.offsetWidth,t.node.offsetHeight,l("filter"));return l(i,{id:n,filterUnits:"userSpaceOnUse"}),i.appendChild(r.node),t.defs.appendChild(i),new s(i)},q.on("snap.util.getattr.filter",function(){q.stop();var e=l(this.node,"filter");if(e){var t=a(e).match(n);return t&&o.select(t[1])}}),q.on("snap.util.attr.filter",function(e){var t;e instanceof s&&"filter"==e.type&&(q.stop(),(t=e.node.id)||(l(e.node,{id:e.id}),t=e.id),l(this.node,{filter:o.url(t)})),e&&"none"!=e||(q.stop(),this.node.removeAttribute("filter"))}),o.filter.blur=function(e,t){null==e&&(e=2);var r=null==t?e:[e,t];return o.format('<feGaussianBlur stdDeviation="{def}"/>',{def:r})},o.filter.blur.toString=function(){return this()},o.filter.shadow=function(e,t,r,n,i){return null==i&&(null==n?(i=r,r=4,n="#000"):(i=n,n=r,r=4)),null==r&&(r=4),null==i&&(i=1),null==e&&(e=0,t=2),null==t&&(t=e),n=o.color(n),o.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:n,dx:e,dy:t,blur:r,opacity:i})},o.filter.shadow.toString=function(){return this()},o.filter.grayscale=function(e){return null==e&&(e=1),o.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},o.filter.grayscale.toString=function(){return this()},o.filter.sepia=function(e){return null==e&&(e=1),o.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},o.filter.sepia.toString=function(){return this()},o.filter.saturate=function(e){return null==e&&(e=1),o.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})},o.filter.saturate.toString=function(){return this()},o.filter.hueRotate=function(e){return e=e||0,o.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e})},o.filter.hueRotate.toString=function(){return this()},o.filter.invert=function(e){return null==e&&(e=1),o.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})},o.filter.invert.toString=function(){return this()},o.filter.brightness=function(e){return null==e&&(e=1),o.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})},o.filter.brightness.toString=function(){return this()},o.filter.contrast=function(e){return null==e&&(e=1),o.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:e,amount2:.5-e/2})},o.filter.contrast.toString=function(){return this()}}),t.plugin(function(e,t,r,n,i){function o(){return"T"+this.dx+","+this.dy}var s=e._.box,a=e.is,l=/^[^a-z]*([tbmlrc])/i;t.prototype.getAlign=function(e,t){null==t&&a(e,"string")&&(t=e,e=null);var r=(e=e||this.paper).getBBox?e.getBBox():s(e),n=this.getBBox(),i={};switch(t=(t=t&&t.match(l))?t[1].toLowerCase():"c"){case"t":i.dx=0,i.dy=r.y-n.y;break;case"b":i.dx=0,i.dy=r.y2-n.y2;break;case"m":i.dx=0,i.dy=r.cy-n.cy;break;case"l":i.dx=r.x-n.x,i.dy=0;break;case"r":i.dx=r.x2-n.x2,i.dy=0;break;default:i.dx=r.cx-n.cx,i.dy=0}return i.toString=o,i},t.prototype.align=function(e,t){return this.transform("..."+this.getAlign(e,t))}}),t.plugin(function(t,e,r,n){function i(e){e=e.split(/(?=#)/);var t=new String(e[5]);return t[50]=e[0],t[100]=e[1],t[200]=e[2],t[300]=e[3],t[400]=e[4],t[500]=e[5],t[600]=e[6],t[700]=e[7],t[800]=e[8],t[900]=e[9],e[10]&&(t.A100=e[10],t.A200=e[11],t.A400=e[12],t.A700=e[13]),t}t.mui={},t.flat={},t.mui.red=i("#ffebee#ffcdd2#ef9a9a#e57373#ef5350#f44336#e53935#d32f2f#c62828#b71c1c#ff8a80#ff5252#ff1744#d50000"),t.mui.pink=i("#FCE4EC#F8BBD0#F48FB1#F06292#EC407A#E91E63#D81B60#C2185B#AD1457#880E4F#FF80AB#FF4081#F50057#C51162"),t.mui.purple=i("#F3E5F5#E1BEE7#CE93D8#BA68C8#AB47BC#9C27B0#8E24AA#7B1FA2#6A1B9A#4A148C#EA80FC#E040FB#D500F9#AA00FF"),t.mui.deeppurple=i("#EDE7F6#D1C4E9#B39DDB#9575CD#7E57C2#673AB7#5E35B1#512DA8#4527A0#311B92#B388FF#7C4DFF#651FFF#6200EA"),t.mui.indigo=i("#E8EAF6#C5CAE9#9FA8DA#7986CB#5C6BC0#3F51B5#3949AB#303F9F#283593#1A237E#8C9EFF#536DFE#3D5AFE#304FFE"),t.mui.blue=i("#E3F2FD#BBDEFB#90CAF9#64B5F6#64B5F6#2196F3#1E88E5#1976D2#1565C0#0D47A1#82B1FF#448AFF#2979FF#2962FF"),t.mui.lightblue=i("#E1F5FE#B3E5FC#81D4FA#4FC3F7#29B6F6#03A9F4#039BE5#0288D1#0277BD#01579B#80D8FF#40C4FF#00B0FF#0091EA"),t.mui.cyan=i("#E0F7FA#B2EBF2#80DEEA#4DD0E1#26C6DA#00BCD4#00ACC1#0097A7#00838F#006064#84FFFF#18FFFF#00E5FF#00B8D4"),t.mui.teal=i("#E0F2F1#B2DFDB#80CBC4#4DB6AC#26A69A#009688#00897B#00796B#00695C#004D40#A7FFEB#64FFDA#1DE9B6#00BFA5"),t.mui.green=i("#E8F5E9#C8E6C9#A5D6A7#81C784#66BB6A#4CAF50#43A047#388E3C#2E7D32#1B5E20#B9F6CA#69F0AE#00E676#00C853"),t.mui.lightgreen=i("#F1F8E9#DCEDC8#C5E1A5#AED581#9CCC65#8BC34A#7CB342#689F38#558B2F#33691E#CCFF90#B2FF59#76FF03#64DD17"),t.mui.lime=i("#F9FBE7#F0F4C3#E6EE9C#DCE775#D4E157#CDDC39#C0CA33#AFB42B#9E9D24#827717#F4FF81#EEFF41#C6FF00#AEEA00"),t.mui.yellow=i("#FFFDE7#FFF9C4#FFF59D#FFF176#FFEE58#FFEB3B#FDD835#FBC02D#F9A825#F57F17#FFFF8D#FFFF00#FFEA00#FFD600"),t.mui.amber=i("#FFF8E1#FFECB3#FFE082#FFD54F#FFCA28#FFC107#FFB300#FFA000#FF8F00#FF6F00#FFE57F#FFD740#FFC400#FFAB00"),t.mui.orange=i("#FFF3E0#FFE0B2#FFCC80#FFB74D#FFA726#FF9800#FB8C00#F57C00#EF6C00#E65100#FFD180#FFAB40#FF9100#FF6D00"),t.mui.deeporange=i("#FBE9E7#FFCCBC#FFAB91#FF8A65#FF7043#FF5722#F4511E#E64A19#D84315#BF360C#FF9E80#FF6E40#FF3D00#DD2C00"),t.mui.brown=i("#EFEBE9#D7CCC8#BCAAA4#A1887F#8D6E63#795548#6D4C41#5D4037#4E342E#3E2723"),t.mui.grey=i("#FAFAFA#F5F5F5#EEEEEE#E0E0E0#BDBDBD#9E9E9E#757575#616161#424242#212121"),t.mui.bluegrey=i("#ECEFF1#CFD8DC#B0BEC5#90A4AE#78909C#607D8B#546E7A#455A64#37474F#263238"),t.flat.turquoise="#1abc9c",t.flat.greensea="#16a085",t.flat.sunflower="#f1c40f",t.flat.orange="#f39c12",t.flat.emerland="#2ecc71",t.flat.nephritis="#27ae60",t.flat.carrot="#e67e22",t.flat.pumpkin="#d35400",t.flat.peterriver="#3498db",t.flat.belizehole="#2980b9",t.flat.alizarin="#e74c3c",t.flat.pomegranate="#c0392b",t.flat.amethyst="#9b59b6",t.flat.wisteria="#8e44ad",t.flat.clouds="#ecf0f1",t.flat.silver="#bdc3c7",t.flat.wetasphalt="#34495e",t.flat.midnightblue="#2c3e50",t.flat.concrete="#95a5a6",t.flat.asbestos="#7f8c8d",t.importMUIColors=function(){for(var e in t.mui)t.mui.hasOwnProperty(e)&&(y[e]=t.mui[e])}}),t}),function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,function(){return i={},r.m=n=[function(l,e,A){(function(e){"use strict";var r=A(4),t=A(8),n=A(3),i=A(9),o=A(2).Promise,s=A(16),a=A(17);l.exports=e.SC={initialize:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];n.set("oauth_token",e.oauth_token),n.set("client_id",e.client_id),n.set("redirect_uri",e.redirect_uri),n.set("baseURL",e.baseURL),n.set("connectURL",e.connectURL)},get:function(e,t){return r.request("GET",e,t)},post:function(e,t){return r.request("POST",e,t)},put:function(e,t){return r.request("PUT",e,t)},delete:function(e){return r.request("DELETE",e)},upload:function(e){return r.upload(e)},connect:function(e){return i(e)},isConnected:function(){return void 0!==n.get("oauth_token")},oEmbed:function(e,t){return r.oEmbed(e,t)},resolve:function(e){return r.resolve(e)},Recorder:s,Promise:o,stream:function(e,t){return a(e,t)},connectCallback:function(){t.notifyDialog(this.location)}}}).call(e,function(){return this}())},function(e,t){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var n,i;e.exports=(i={},r.m=n=[function(e,t,r){e.exports={SCAudio:r(1),SCAudioControllerHTML5Player:r(3),SCAudioControllerHLSMSEPlayer:r(5),SCAudioPublicApiStreamURLRetriever:r(12),MaestroCore:r(2),MaestroLoaders:r(11)}},function(e,t,r){var n;window,e.exports=(n=r(2),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=99)}([function(e,t){e.exports=n},function(e,t,r){"use strict";var n=r(5);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,r){"use strict";e.exports=r(55)()?Symbol:r(54)},function(e,t,r){"use strict";var a=r(11),l=r(18),A=r(59),u=r(17);(e.exports=function(e,t){var r,n,i,o,s;return arguments.length<2||"string"!=typeof e?(o=t,t=e,e=null):o=arguments[2],null==e?n=!(r=i=!0):(r=u.call(e,"c"),n=u.call(e,"e"),i=u.call(e,"w")),s={value:t,configurable:r,enumerable:n,writable:i},o?a(l(o),s):s}).gs=function(e,t,r){var n,i,o,s;return"string"!=typeof e?(o=r,r=t,t=e,e=null):o=arguments[3],null==t?t=void 0:A(t)?null==r?r=void 0:A(r)||(o=r,r=void 0):(o=t,t=r=void 0),i=null==e?!(n=!0):(n=u.call(e,"c"),u.call(e,"e")),s={get:t,set:r,configurable:n,enumerable:i},o?a(l(o),s):s}},function(e,t,r){"use strict";var n=r(22)();e.exports=function(e){return e!==n&&null!==e}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"SCAUDIO.NOT_SUPPORTED_ERROR"},l);function l(e){return o.call(this,e||"There was no format available that a player was able to play.")||this}t.NotSupportedError=a},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===i)||!1}},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call(function(){return arguments}());e.exports=function(e){return n.call(e)===i}},function(e,t,r){"use strict";e.exports=r(20)()?Object.setPrototypeOf:r(19)},function(e,t,r){"use strict";var n,i=r(23),o=r(11),s=r(2),a=r(1),l=r(4),A=r(47),u=r(3),h=Object.defineProperty,c=Object.defineProperties;e.exports=n=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");c(this,{__list__:l("w",a(e)),__context__:l("w",t),__nextIndex__:l("w",0)}),t&&(s(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete n.prototype.constructor,c(n.prototype,o({_next:l(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:l(function(e){return this.__list__[e]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[u.toStringTag]||"Object")+"]"})},A({_onAdd:l(function(r){if(!(r>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void h(this,"__redo__",l("c",[r]));this.__redo__.forEach(function(e,t){r<=e&&(this.__redo__[t]=++e)},this),this.__redo__.push(r)}}),_onDelete:l(function(r){var e;r>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(r))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,t){r<e&&(this.__redo__[t]=--e)},this)))}),_onClear:l(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),h(n.prototype,u.iterator,l(function(){return this}))},function(e,t,r){"use strict";e.exports=r(64)()?Object.assign:r(63)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAppState=function(){switch(window.document.hidden){case!0:return"background";case!1:return"foreground";default:return}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(97),i=r(96),o=r(95),s=r(94),a=r(93),l=r(92),A=r(91),u=r(90),h=r(89),c=r(88);t.renditions={httpMp3:n.httpMp3,httpAACHQ:c.httpAACHQ,hlsMp3:i.hlsMp3,encryptedHlsMp3:o.encryptedHlsMp3,hlsOpus:u.hlsOpus,encryptedHlsOpus:h.encryptedHlsOpus,hlsAACHQ:s.hlsAACHQ,encryptedHlsAACHQ:a.encryptedHlsAACHQ,apiMobile:l.apiMobile,maestroChromecast:A.maestroChromecast},t.allRenditions=Object.keys(t.renditions).map(function(e){return t.renditions[e]})},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(6),a=(o=s.NotSupportedError,i(l,o),l.prototype.getCode=function(){return"SCAUDIO.FAILED_RETRIEVING_URL"},l);function l(){return o.call(this,"Failed to retrieve stream url.")||this}t.FailedRetrievingUrlError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(6),a=(o=s.NotSupportedError,i(l,o),l.prototype.getCode=function(){return"SCAUDIO.NO_STREAMS"},l);function l(){return o.call(this,"There were no stream URLs.")||this}t.NoStreamsError=a},function(e,t,r){"use strict";var n=r(51);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,r){"use strict";e.exports=r(58)()?String.prototype.contains:r(57)},function(e,t,r){"use strict";var n=r(5),i=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return i.call(arguments,function(e){n(e)&&function(e,t){var r;for(r in e)t[r]=e[r]}(Object(e),t)}),t}},function(e,t,r){"use strict";var n,i,o,s=r(66),a=r(1),l=Object.prototype.isPrototypeOf,A=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0},h=function(e,t){if(a(e),null===t||s(t))return e;throw new TypeError("Prototype must be null or an object")};e.exports=(n=function(){var e,t=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{(e=n.set).call(t,r)}catch(e){}if(Object.getPrototypeOf(t)===r)return{set:e,level:2}}return t.__proto__=r,Object.getPrototypeOf(t)===r?{level:2}:((t={}).__proto__=r,Object.getPrototypeOf(t)===r&&{level:1})}())?(i=2===n.level?n.set?(o=n.set,function(e,t){return o.call(h(e,t),t),e}):function(e,t){return h(e,t).__proto__=t,e}:function e(t,r){var n;return h(t,r),(n=l.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===r&&(r=e.nullPolyfill),t.__proto__=r,n&&A(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(i,"level",{configurable:!1,enumerable:!1,writable:!1,value:n.level})):null,r(65)},function(e,t,r){"use strict";var n=Object.create,i=Object.getPrototypeOf,o={};e.exports=function(){var e=Object.setPrototypeOf;return"function"==typeof e&&i(e((arguments[0]||n)(null),o))===o}},function(e,t,r){"use strict";var n=r(70),i=Math.max;e.exports=function(e){return i(0,n(e))}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";var n=r(1);e.exports=function(){return n(this).length=0,this}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notSupportedError=new Error("Not supported.");function n(){this.supportsVolumeAutomation=!0,this.syncConfig={}}t.BaseController=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(){}t.BaseStreamUrlRetriever=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildFadeIn=function(e){return new n({startPos:0,endPos:e,startLevel:0,endLevel:1,fromEnd:!1})},t.buildFadeOut=function(e){return new n({startPos:e,endPos:0,startLevel:1,endLevel:0,fromEnd:!0})};var n=(i.prototype.calculate=function(e,t){var r=this._fromEnd?t-500-this._startPos:this._startPos,n=this._fromEnd?t-500-this._endPos:this._endPos;if(e<r)return{level:this._startLevel,nextCalculatePosition:r-e};if(e<=n){var i=(e-r)/(n-r),o=Math.cos(i*Math.PI)/-2+.5;return{level:this._startLevel+(this._endLevel-this._startLevel)*o,nextCalculatePosition:e}}return{level:this._endLevel,nextCalculatePosition:1/0}},i);function i(e){var t=e.startPos,r=e.endPos,n=e.startLevel,i=e.endLevel,o=e.fromEnd,s=void 0!==o&&o;if(t<0)throw new Error("startPos invalid.");if(r<0||!s&&r<t||s&&t<r)throw new Error("endPos invalid.");if(n<0||1<n)throw new Error("startLevel invalid.");if(i<0||1<i)throw new Error("endLevel invalid.");this._startPos=t,this._endPos=r,this._startLevel=n,this._endLevel=i,this._fromEnd=s}t.Fade=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(6),o=r(15),s=r(14);(n=t.errors||(t.errors={})).NotSupportedError=i.NotSupportedError,n.NoStreamsError=o.NoStreamsError,n.FailedRetrievingUrlError=s.FailedRetrievingUrlError},function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),(i=n=t.Quality||(t.Quality={})).SQ="sq",i.HQ="hq",t.resolveQuality=function(e){switch(e){case n.SQ:return n.SQ;case n.HQ:return n.HQ}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=(i.prototype.isConnectionRequired=function(){return this._connectionRequired},i.prototype._calculateIfConnectionRequired=function(){var e=this;this._player.isLoading()&&"navigator"in window&&!window.navigator.onLine?null===this._connectionLossTimer&&(this._connectionLossTimer=window.setTimeout(function(){e._connectionLossTimer=null,e._connectionRequired=!0,e._onConnectionRequired.dispatch(void 0)},1500)):this._connectionRequired?(this._connectionRequired=!1,this._onConnectionRecovered.dispatch(void 0)):null!==this._connectionLossTimer&&(window.clearTimeout(this._connectionLossTimer),this._connectionLossTimer=null)},i);function i(r){var n=this;this._player=r,this._onConnectionRequired=new o.eventDispatcher.EventDispatcher,this._onConnectionRecovered=new o.eventDispatcher.EventDispatcher,this._connectionRequired=!1,this._connectionLossTimer=null,this.onConnectionRequired=this._onConnectionRequired.getHandle(),this.onConnectionRecovered=this._onConnectionRecovered.getHandle();function i(){return n._calculateIfConnectionRequired()}window.addEventListener("online",i),window.addEventListener("offline",i),this._calculateIfConnectionRequired(),r.onChange.subscribe(function(e){var t=e.loading;e.dead&&null!==n._connectionLossTimer&&(window.clearTimeout(n._connectionLossTimer),window.removeEventListener("online",i),window.removeEventListener("offline",i)),r.isDead()||void 0===t||n._calculateIfConnectionRequired()})}t.ConnectionRequiredHelper=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateLogId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",r=0;r<20;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},function(e,t,r){"use strict";function n(e,t){return void 0!==e?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=r(25),o=r(0);t.validatePlayerDependencies=function(e){if(!(e.streamUrlRetriever instanceof i.BaseStreamUrlRetriever))throw new Error("StreamUrlRetriever invalid.");if(void 0!==e.duration&&("number"!=typeof e.duration||e.duration<0))throw new Error("duration invalid.");if(void 0!==e.getURLOpts&&"object"!=typeof e.getURLOpts)throw new Error("getURLOpts invalid.");if(void 0!==e.preloadingEnabled&&"boolean"!=typeof e.preloadingEnabled)throw new Error("preloadingEnabled invalid.");if(void 0!==e.fadeOnPauseAndPlay&&"boolean"!=typeof e.fadeOnPauseAndPlay)throw new Error("fadeOnPauseAndPlay invalid.");if(void 0!==e.fadeOnSeek&&"boolean"!=typeof e.fadeOnSeek)throw new Error("fadeOnSeek invalid.");if(void 0!==e.mediaSessionEnabled&&"boolean"!=typeof e.mediaSessionEnabled)throw new Error("mediaSessionEnabled invalid.");if(void 0!==e.pausedMaxBufferLength&&("number"!=typeof e.pausedMaxBufferLength||e.pausedMaxBufferLength<0))throw new Error("pausedMaxBufferLength invalid.");if(void 0!==e.playingMaxBufferLength&&("number"!=typeof e.playingMaxBufferLength||e.playingMaxBufferLength<0))throw new Error("playingMaxBufferLength invalid.");if(void 0!==e.logger&&"function"!=typeof e.logger&&"object"!=typeof e.logger)throw new Error("logger invalid.");if(void 0!==e.audioReporter&&"function"!=typeof e.audioReporter)throw new Error("audioReporter invalid.");if(void 0!==e.audioCheckpointInterval&&("number"!=typeof e.audioCheckpointInterval||e.audioCheckpointInterval<0))throw new Error("audioCheckpointInterval invalid.");if(void 0!==e.audioPerformanceReporter&&"function"!=typeof e.audioPerformanceReporter)throw new Error("audioPerformanceReporter invalid.");if(void 0!==e.errorReporter&&"function"!=typeof e.errorReporter)throw new Error("errorReporter invalid.");if(void 0!==e.urlProviderRetryDelayCalculator&&"function"!=typeof e.urlProviderRetryDelayCalculator)throw new Error("urlProviderRetryDelayCalculator invalid.");return{controllers:e.controllers,streamUrlRetriever:e.streamUrlRetriever,getURLOpts:n(e.getURLOpts,{}),preloadingEnabled:n(e.preloadingEnabled,!1),pausedMaxBufferLength:n(e.pausedMaxBufferLength,2e3),playingMaxBufferLength:n(e.playingMaxBufferLength,9e4),fadeOnPauseAndPlay:n(e.fadeOnPauseAndPlay,!1),fadeOnSeek:n(e.fadeOnSeek,!1),audioCheckpointInterval:n(e.audioCheckpointInterval,3e4),urlProviderRetryDelayCalculator:n(e.urlProviderRetryDelayCalculator,o.helpers.retry.buildExponentialDelayCalculator()),streamUrlsExpire:n(e.streamUrlsExpire,!0),fetchEnabled:n(e.fetchEnabled,!0),duration:e.duration,audioReporter:e.audioReporter,audioPerformanceReporter:e.audioPerformanceReporter,errorReporter:e.errorReporter}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(0),l=t(13);r.NoMoreAttemptsError=new Error("No more attempts to retrieve URL."),r.retrieveUrl=function(e){var i=e.streamUrlRetriever,o=e.getURLOpts,s=e.logger,t=e.urlProviderRetryDelayCalculator;return new a.helpers.abortableJob.AbortableJob(function(){var n=a.helpers.deferred.buildDeferred(),e=a.helpers.retry.retry(t,function(e){var t=e.scheduleRetry,r=i.getUrl(o);return s.debug("Retrieving a URL..."),r.onCompletion(function(e){e?e.rendition&&l.allRenditions.indexOf(e.rendition)<0?(s.warn("Unknown rendition. Skipping...",e.rendition),i.excludeRendition(e.rendition),t()):!e.success&&e.error.isTransient()?(s.warn("Transient error retrieving url.",e.error),t()):n.resolve(e):(s.debug("No URL provided."),n.resolve(null))}),r.onError(function(e){e!==a.helpers.abortableJob.abortedError&&s.error("Error retrieving URL.",e),n.reject(e)}),{onCancel:function(){return r.abort()}}},{onNoMoreRetries:function(){return n.reject(r.NoMoreAttemptsError)}}).cancel;return{result:n.promise,abort:function(){return e()}}}).run()}},function(e,t,r){"use strict";function a(e,t){var r=e.getMemoryCacheController();r&&r.setMaxCacheSize(t)}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=(o.prototype.setCacheSize=function(e){this._maxCacheSize!==e&&(this._logger.debug("Updating cache size to "+e+" bytes."),this._maxCacheSize=e,this._update())},o.prototype.addPlayer=function(r){var n,i=this;this._logger.debug("Adding player to cache manager."),r.isDead()?this._logger.debug("Player was dead."):(n=this._players,r.onChange.subscribe(function(e){var t=e.playing;!0===e.dead?(i._logger.debug("Removing player that became dead."),n.splice(n.indexOf(r),1),i._update()):!0===t?(i._logger.debug("Updating because player started playing."),n.splice(n.indexOf(r),1),n.unshift(r),i._update()):!1===t&&(i._logger.debug("Updating because player became paused."),i._update())}),r.isPlaying()?n.unshift(r):n.push(r),this._update())},o.prototype._update=function(){var e,t,r,n,i,o,s=this;this._updateTimer&&(window.clearTimeout(this._updateTimer),this._updateTimer=null),0!==this._players.length?(t=(e=this._players.reduce(function(e,t){return t.isPlaying()?e.playingPlayers.push(t):e.pausedPlayers.push(t),e},{playingPlayers:[],pausedPlayers:[]})).playingPlayers,r=e.pausedPlayers,n=t.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0),i=r.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0),n>this._maxCacheSize?(this._logger.debug("All playing players are using more than the max cache size. Cleaning...",n,this._maxCacheSize),o=this._maxCacheSize/t.length,t.forEach(function(e){return a(e,o)}),r.forEach(function(e){return a(e,0)})):(this._logger.debug("Recalculating cache sizes...",n+i,this._maxCacheSize),t.concat(r).reduce(function(e,t){return a(t,Math.max(0,s._maxCacheSize-e)),e+(t.getMemoryCacheUsage()||0)},0)),this._updateTimer=window.setTimeout(function(){return s._update()},2e4)):this._logger.debug("There are no longer any players to manage.")},o);function o(e,t){this._maxCacheSize=e,this._players=[],this._updateTimer=null,this._logger=n.logger.prefixLogger(t,"CacheManager"),this._logger.debug("Initialized with cache size "+e+" bytes.")}t.CacheManager=i},function(e,t,r){"use strict";e.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},function(e,t,r){"use strict";var n=Array.prototype.forEach,i=Object.create;e.exports=function(e){var t=i(null);return n.call(arguments,function(e){t[e]=!0}),t}},function(e,t,r){"use strict";e.exports=r(35)("key","value","key+value")},function(e,t,r){"use strict";var n=r(9),i=r(4),o=r(10),s=r(3).toStringTag,a=r(36),l=Object.defineProperties,A=o.prototype._unBind,u=e.exports=function(e,t){return this instanceof u?(o.call(this,e.__mapKeysData__,e),t&&a[t]||(t="key+value"),void l(this,{__kind__:i("",t),__values__:i("w",e.__mapValuesData__)})):new u(e,t)};n&&n(u,o),u.prototype=Object.create(o.prototype,{constructor:i(u),_resolve:i(function(e){return"value"===this.__kind__?this.__values__[e]:"key"===this.__kind__?this.__list__[e]:[this.__list__[e],this.__values__[e]]}),_unBind:i(function(){this.__values__=null,A.call(this)}),toString:i(function(){return"[object Map Iterator]"})}),Object.defineProperty(u.prototype,s,i("c","Map Iterator"))},function(e,t,r){"use strict";var n=r(9),i=r(4),o=r(3),s=r(10),a=Object.defineProperty,l=e.exports=function(e){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),a(this,"__length__",i("",e.length))};n&&n(l,s),delete l.prototype.constructor,l.prototype=Object.create(s.prototype,{_next:i(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:i(function(e){var t,r=this.__list__[e];return this.__nextIndex__===this.__length__?r:55296<=(t=r.charCodeAt(0))&&t<=56319?r+this.__list__[this.__nextIndex__++]:r})}),a(l.prototype,o.toStringTag,i("c","String Iterator"))},function(e,t,r){"use strict";var a=r(2),l=r(1),A=Function.prototype.bind,u=Function.prototype.call,h=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(o,s){return function(r,n){var e,i=arguments[2],t=arguments[3];return r=Object(l(r)),a(n),e=h(r),t&&e.sort("function"==typeof t?A.call(t,r):void 0),"function"!=typeof o&&(o=e[o]),u.call(o,e,function(e,t){return c.call(r,e)?u.call(n,i,r[e],e,r,t):s})}}},function(e,t,r){"use strict";e.exports=r(39)("forEach")},function(e,t,r){"use strict";var n=r(2),a=r(40),l=Function.prototype.call;e.exports=function(e,i){var o={},s=arguments[2];return n(i),a(e,function(e,t,r,n){o[t]=l.call(i,s,e,t,r,n)}),o}},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call(r(22));e.exports=function(e){return"function"==typeof e&&n.call(e)===i}},function(e,t,r){"use strict";var p=r(3).iterator,d=r(8),f=r(42),g=r(21),m=r(2),y=r(1),v=r(5),_=r(7),E=Array.isArray,w=Function.prototype.call,b={configurable:!0,enumerable:!0,writable:!0,value:null},B=Object.defineProperty;e.exports=function(e){var t,r,n,i,o,s,a,l,A,u,h=arguments[1],c=arguments[2];if(e=Object(y(e)),v(h)&&m(h),this&&this!==Array&&f(this))t=this;else{if(!h){if(d(e))return 1!==(o=e.length)?Array.apply(null,e):((i=new Array(1))[0]=e[0],i);if(E(e)){for(i=new Array(o=e.length),r=0;r<o;++r)i[r]=e[r];return i}}i=[]}if(!E(e))if(void 0!==(A=e[p])){for(a=m(A).call(e),t&&(i=new t),l=a.next(),r=0;!l.done;)u=h?w.call(h,c,l.value,r):l.value,t?(b.value=u,B(i,r,b)):i[r]=u,l=a.next(),++r;o=r}else if(_(e)){for(o=e.length,t&&(i=new t),n=r=0;r<o;++r)u=e[r],r+1<o&&(55296<=(s=u.charCodeAt(0))&&s<=56319&&(u+=e[++r])),u=h?w.call(h,c,u,n):u,t?(b.value=u,B(i,n,b)):i[n]=u,++n;o=n}if(void 0===o)for(o=g(e.length),t&&(i=new t(o)),r=0;r<o;++r)u=h?w.call(h,c,e[r],r):e[r],t?(b.value=u,B(i,r,b)):i[r]=u;return t&&(b.value=null,i.length=o),i}},function(e,t,r){"use strict";e.exports=function(){var e,t,r=Array.from;return"function"==typeof r&&(t=r(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,r){"use strict";e.exports=r(44)()?Array.from:r(43)},function(e,t,r){"use strict";var o=r(45),s=r(11),a=r(1);e.exports=function(t){var e=Object(a(t)),r=arguments[1],n=Object(arguments[2]);if(e!==t&&!r)return e;var i={};return r?o(r,function(e){(n.ensure||e in t)&&(i[e]=t[e])}):s(i,t),i}},function(e,t,r){"use strict";var o=r(46),n=r(18),i=r(2),s=r(41),a=r(2),l=r(1),A=Function.prototype.bind,u=Object.defineProperty,h=Object.prototype.hasOwnProperty,c=function(e,t,r){var n=l(t)&&a(t.value),i=o(t);return delete i.writable,delete i.value,i.get=function(){return!r.overwriteDefinition&&h.call(this,e)?n:(t.value=A.call(n,r.resolveContext?r.resolveContext(this):this),u(this,e,t),this[e])},i};e.exports=function(e){var r=n(arguments[1]);return null!=r.resolveContext&&i(r.resolveContext),s(e,function(e,t){return c(t,e,r)})}},function(e,t,r){"use strict";var n=r(9),i=r(17),o=r(4),s=r(3),a=r(10),l=Object.defineProperty,A=e.exports=function(e,t){if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");a.call(this,e),t=t?i.call(t,"key+value")?"key+value":i.call(t,"key")?"key":"value":"value",l(this,"__kind__",o("",t))};n&&n(A,a),delete A.prototype.constructor,A.prototype=Object.create(a.prototype,{_resolve:o(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),l(A.prototype,s.toStringTag,o("c","Array Iterator"))},function(e,t,r){"use strict";var n=r(8),i=r(7),o=r(48),s=r(38),a=r(16),l=r(3).iterator;e.exports=function(e){return"function"==typeof a(e)[l]?e[l]():new(!n(e)&&i(e)?s:o)(e)}},function(e,t,r){"use strict";var h=r(8),c=r(2),p=r(7),d=r(49),f=Array.isArray,g=Function.prototype.call,m=Array.prototype.some;e.exports=function(e,t){var r,n,i,o,s,a,l,A,u=arguments[2];if(f(e)||h(e)?r="array":p(e)?r="string":e=d(e),c(t),i=function(){o=!0},"array"!==r)if("string"!==r)for(n=e.next();!n.done;){if(g.call(t,u,n.value,i),o)return;n=e.next()}else for(a=e.length,s=0;s<a&&(l=e[s],s+1<a&&(55296<=(A=l.charCodeAt(0))&&A<=56319&&(l+=e[++s])),g.call(t,u,l,i),!o);++s);else m.call(e,function(e){return g.call(t,u,e,i),o})}},function(e,t,r){"use strict";var n=r(8),i=r(5),o=r(7),s=r(3).iterator,a=Array.isArray;e.exports=function(e){return!(!i(e)||!a(e)&&!o(e)&&!n(e)&&"function"!=typeof e[s])}},function(e,t,r){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,r){"use strict";var n=r(52);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,r){"use strict";var n,i,o,s=r(4),a=r(53),l=Object.create,A=Object.defineProperties,u=Object.defineProperty,h=Object.prototype,c=l(null);if("function"==typeof Symbol){n=Symbol;try{String(n()),o=!0}catch(e){}}var p,d=(p=l(null),function(e){for(var t,r,n=0;p[e+(n||"")];)++n;return p[e+=n||""]=!0,u(h,t="@@"+e,s.gs(null,function(e){r||(r=!0,u(this,t,s(e)),r=!1)})),t}),f=function(e){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return i(e)};e.exports=i=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?n(t):(r=l(f.prototype),t=void 0===t?"":String(t),A(r,{__description__:s("",t),__name__:s("",d(t))}))},A(i,{for:s(function(e){return c[e]?c[e]:c[e]=i(String(e))}),keyFor:s(function(e){var t;for(t in a(e),c)if(c[t]===e)return t}),hasInstance:s("",n&&n.hasInstance||i("hasInstance")),isConcatSpreadable:s("",n&&n.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",n&&n.iterator||i("iterator")),match:s("",n&&n.match||i("match")),replace:s("",n&&n.replace||i("replace")),search:s("",n&&n.search||i("search")),species:s("",n&&n.species||i("species")),split:s("",n&&n.split||i("split")),toPrimitive:s("",n&&n.toPrimitive||i("toPrimitive")),toStringTag:s("",n&&n.toStringTag||i("toStringTag")),unscopables:s("",n&&n.unscopables||i("unscopables"))}),A(f.prototype,{constructor:s(i),toString:s("",function(){return this.__name__})}),A(i.prototype,{toString:s(function(){return"Symbol ("+a(this).__description__+")"}),valueOf:s(function(){return a(this)})}),u(i.prototype,i.toPrimitive,s("",function(){var e=a(this);return"symbol"==typeof e?e:e.toString()})),u(i.prototype,i.toStringTag,s("c","Symbol")),u(f.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),u(f.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(e,t,r){"use strict";var n={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!n[typeof Symbol.iterator]&&!!n[typeof Symbol.toPrimitive]&&!!n[typeof Symbol.toStringTag]}},function(e,t,r){"use strict";var n=r(4),s=r(2),a=Function.prototype.apply,l=Function.prototype.call,i=Object.create,o=Object.defineProperty,A=Object.defineProperties,u=Object.prototype.hasOwnProperty,h={configurable:!0,enumerable:!1,writable:!0},c=function(e,t){var r;return s(t),u.call(this,"__ee__")?r=this.__ee__:(r=h.value=i(null),o(this,"__ee__",h),h.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},p=function(e,t){var r,n;return s(t),c.call(n=this,e,r=function(){d.call(n,e,r),a.call(t,this,arguments)}),r.__eeOnceListener__=t,this},d=function(e,t){var r,n,i,o;if(s(t),!u.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"==typeof(n=r[e]))for(o=0;i=n[o];++o)i!==t&&i.__eeOnceListener__!==t||(2===n.length?r[e]=n[o?0:1]:n.splice(o,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this},f=function(e){var t,r,n,i,o;if(u.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(r=arguments.length,o=new Array(r-1),t=1;t<r;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;n=i[t];++t)a.call(n,this,o)}else switch(arguments.length){case 1:l.call(i,this);break;case 2:l.call(i,this,arguments[1]);break;case 3:l.call(i,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),t=1;t<r;++t)o[t-1]=arguments[t];a.call(i,this,o)}},g={on:c,once:p,off:d,emit:f},m={on:n(c),once:n(p),off:n(d),emit:n(f)},y=A({},m);e.exports=t=function(e){return null==e?i(y):A(Object(e),m)},t.methods=g},function(e,t,r){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return-1<n.call(this,e,arguments[1])}},function(e,t,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(e,t,r){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,r){"use strict";var n=r(5),i=Object.keys;e.exports=function(e){return i(n(e)?Object(e):e)}},function(e,t,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,r){"use strict";e.exports=r(61)()?Object.keys:r(60)},function(e,t,r){"use strict";var s=r(62),a=r(1),l=Math.max;e.exports=function(t,r){var n,e,i,o=l(arguments.length,2);for(t=Object(a(t)),i=function(e){try{t[e]=r[e]}catch(e){n=n||e}},e=1;e<o;++e)s(r=arguments[e]).forEach(i);if(void 0!==n)throw n;return t}},function(e,t,r){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,r){"use strict";var n,i,o,s,a=Object.create;r(20)()||(n=r(19)),e.exports=!n||1!==n.level?a:(s={configurable:!(o={}),enumerable:!(i={}),writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){return"__proto__"===e?void(o[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(o[e]=s)}),Object.defineProperties(i,o),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(e,t){return a(null===e?i:e,t)})},function(e,t,r){"use strict";var n=r(5),i={function:!0,object:!0};e.exports=function(e){return n(e)&&i[typeof e]||!1}},function(e,t,r){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:0<e?1:-1}},function(e,t,r){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},function(e,t,r){"use strict";e.exports=r(68)()?Math.sign:r(67)},function(e,t,r){"use strict";var n=r(69),i=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?n(e)*o(i(e)):e}},function(e,t,r){"use strict";e.exports=function(e){return e!=e}},function(e,t,r){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&!e({})&&e(NaN)&&!e(34)}},function(e,t,r){"use strict";e.exports=r(72)()?Number.isNaN:r(71)},function(e,t,r){"use strict";var o=r(73),s=r(21),a=r(1),l=Array.prototype.indexOf,A=Object.prototype.hasOwnProperty,u=Math.abs,h=Math.floor;e.exports=function(e){var t,r,n,i;if(!o(e))return l.apply(this,arguments);for(r=s(a(this).length),n=arguments[1],t=n=isNaN(n)?0:0<=n?h(n):s(this.length)-h(u(n));t<r;++t)if(A.call(this,t)&&(i=this[t],o(i)))return t;return-1}},function(e,t,r){"use strict";var i,n=r(23),o=r(74),s=r(9),a=r(2),l=r(1),A=r(4),u=r(56),h=r(3),c=r(16),p=r(50),d=r(37),f=r(34),g=Function.prototype.call,m=Object.defineProperties,y=Object.getPrototypeOf;e.exports=i=function(){var r,n,e,t=arguments[0];if(!(this instanceof i))throw new TypeError("Constructor requires 'new'");return e=f&&s&&Map!==i?s(new Map,y(this)):this,null!=t&&c(t),m(e,{__mapKeysData__:A("c",r=[]),__mapValuesData__:A("c",n=[])}),t&&p(t,function(e){var t=l(e)[0];e=e[1],-1===o.call(r,t)&&(r.push(t),n.push(e))},e),e},f&&(s&&s(i,Map),i.prototype=Object.create(Map.prototype,{constructor:A(i)})),u(m(i.prototype,{clear:A(function(){this.__mapKeysData__.length&&(n.call(this.__mapKeysData__),n.call(this.__mapValuesData__),this.emit("_clear"))}),delete:A(function(e){var t=o.call(this.__mapKeysData__,e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)}),entries:A(function(){return new d(this,"key+value")}),forEach:A(function(e){var t,r,n=arguments[1];for(a(e),r=(t=this.entries())._next();void 0!==r;)g.call(e,n,this.__mapValuesData__[r],this.__mapKeysData__[r],this),r=t._next()}),get:A(function(e){var t=o.call(this.__mapKeysData__,e);if(-1!==t)return this.__mapValuesData__[t]}),has:A(function(e){return-1!==o.call(this.__mapKeysData__,e)}),keys:A(function(){return new d(this,"key")}),set:A(function(e,t){var r,n=o.call(this.__mapKeysData__,e);return-1===n&&(n=this.__mapKeysData__.push(e)-1,r=!0),this.__mapValuesData__[n]=t,r&&this.emit("_add",n,e),this}),size:A.gs(function(){return this.__mapKeysData__.length}),values:A(function(){return new d(this,"value")}),toString:A(function(){return"[object Map]"})})),Object.defineProperty(i.prototype,h.iterator,A(function(){return this.entries()})),Object.defineProperty(i.prototype,h.toStringTag,A("c","Map"))},function(e,t,r){"use strict";e.exports=function(){var e,t;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(e)&&3===e.size&&"function"==typeof e.clear&&"function"==typeof e.delete&&"function"==typeof e.entries&&"function"==typeof e.forEach&&"function"==typeof e.get&&"function"==typeof e.has&&"function"==typeof e.keys&&"function"==typeof e.set&&"function"==typeof e.values&&(!1===(t=e.entries().next()).done&&!!t.value&&"raz"===t.value[0]&&"one"===t.value[1])}},function(e,t,r){"use strict";e.exports=r(76)()?Map:r(75)},function(e,t,r){"use strict";function h(e,t,r){return{name:t.name,preset:e.preset,bitrate:e.bitrate,protocol:e.rendition.scProtocol,host:1===(o=r.split("//",2)).length?o[0].split("/",1)[0]:o[1]?o[1].split("/",1)[0]:"",url:(n=r,(i=s.exec(n))&&i[0]||""),format:e.rendition.scFormat,quality:e.quality};var n,i,o}Object.defineProperty(t,"__esModule",{value:!0});var f=r(77),g=r(0),c=r(24),s=/^[^?#]*/,n=(i.prototype.buildNextController=function(t,r){var n=this;if(this._controlledPlayerWithRendition)throw new Error("A player is already being controlled.");this._logger.debug("Building next controller.");var i,o=this._controllerIndexByRendition.get(t.rendition)||0;o>=this._controllers.length?(this._logger.debug("No more controllers for this rendition."),r({excludeRendition:!0,immediateRetry:!0})):(i=!1,this._manageController(t,this._controllers[o],function(e){if(i)throw new Error("performNextAction() already called");i=!0,"MOVE_ON"!==e&&"MOVE_ON_SAME_RENDITION"!==e||(n._logger.debug("Controller will not be used again."),n._controllerIndexByRendition.set(t.rendition,o+1)),"MOVE_ON_SAME_RENDITION"===e?n.buildNextController(t,r):r({excludeRendition:!1,immediateRetry:"MOVE_ON"===e})}))},i.prototype.releaseCurrentController=function(e){var t=e.retry;if(!this._controlledPlayerWithRendition)throw new Error("There is no player being controlled.");this._controlledPlayerWithRendition.releaseControl({retry:t})},i.prototype.getQuality=function(){return this._quality},i.prototype.getPlayerDetails=function(){if(!this._controlledPlayerWithRendition)throw new Error("There is no player being controlled.");var e=this._controlledPlayerWithRendition;return h(e.initialUrlAndRendition,e.controller,e.controlledPlayer.getUrl())},i.prototype._manageController=function(t,r,n){function i(){o._removePlayer(),o._controlledPlayerWithRendition=null,u&&u.kill()}var o=this;if(this._logger.debug("Preparing controller.",r.name),!r.isRenditionSupported(t.rendition,{streamUrlExpires:this._streamUrlsExpire}))return this._logger.debug("Skipping controller because rendition not supported."),void n("MOVE_ON_SAME_RENDITION");function s(e){var t=e.retry;a||(a=!0,o._logger.debug("Releasing control."),i(),n(t?"RETRY":"MOVE_ON"))}var a=!1;try{this._logger.debug("Building player.");var e,l,A=r.buildPlayer({logger:g.logger.prefixLogger(this._logger,r.name+"-Controller"),playerId:this._playerId,urlAndRendition:t,streamUrlExpires:this._streamUrlsExpire,fetchEnabled:this._fetchEnabled,releaseControl:s,fadeOnPauseAndPlay:this._fadeOnPauseAndPlay,fadeOnSeek:this._fadeOnSeek,getNewUrl:function(){return o._getNewUrlWithSameRendition(t.rendition)},reportError:function(e){o._errorEventGenerator&&o._errorEventGenerator.reportManualEvent(e,h(t,r,A?A.getUrl():t.url))},reportPerformance:function(e){!a&&o._audioPerformanceEventGenerator&&o._audioPerformanceEventGenerator.reportManualEvent(e)}}),u=A.getPlayer();a?(this._logger.warn("Player released during constrution."),u.kill()):u.isDead()?((e=u.getFatalError())instanceof g.errors.NotSupportedError?this._logger.debug("Player not supported (during construction)."):this._logger.error("Error during construction.",e),n("MOVE_ON_SAME_RENDITION")):(this._logger.debug("Player built."),u.onChange.subscribe(function(e){var t=e.dead,r=e.fatalError;t&&(r&&o._logger.error("Fatal player error occurred.",r),s({retry:!1}))}),this._cacheManager.addPlayer(u),this._controlledPlayerWithRendition={controller:r,controlledPlayer:A,initialUrlAndRendition:t,releaseControl:s},this._providePlayer(A.getPlayer(),r.syncConfig,r.supportsVolumeAutomation),this._logger.debug("Player provided to proxy."),l=t.quality||null,this._quality!==l&&(this._logger.debug("Quality changed.",l),this._quality=l,this._onQualityChanged.dispatch(l)))}catch(t){t===c.notSupportedError?this._logger.debug("Player not supported. Not constructed."):this._logger.error("Error during construction.",t),i(),n("MOVE_ON_SAME_RENDITION")}},i.prototype._getNewUrlWithSameRendition=function(r){var t=this;return new g.helpers.abortableJob.AbortableJob(function(){var e=t._streamUrlRetriever.getUrl(t._getURLOpts);return{result:e.whenComplete().then(function(e){var t=null;return e&&e.success&&e.rendition===r&&(t=e.url),t}),abort:function(){return e.abort()}}}).run()},i);function i(e){var t=e.logger,r=e.controllers,n=e.playerId,i=e.streamUrlsExpire,o=e.fetchEnabled,s=e.fadeOnPauseAndPlay,a=e.fadeOnSeek,l=e.cacheManager,A=e.providePlayer,u=e.removePlayer,h=e.streamUrlRetriever,c=e.getURLOpts,p=e.errorEventGenerator,d=e.audioPerformanceEventGenerator;this._quality=null,this._onQualityChanged=new g.eventDispatcher.EventDispatcher,this._controllerIndexByRendition=new f,this._controlledPlayerWithRendition=null,this.onQualityChanged=this._onQualityChanged.getHandle(),this._logger=g.logger.prefixLogger(t,"ControllerManager"),this._controllers=r,this._playerId=n,this._streamUrlsExpire=i,this._fetchEnabled=o,this._fadeOnPauseAndPlay=s,this._fadeOnSeek=a,this._cacheManager=l,this._providePlayer=A,this._removePlayer=u,this._streamUrlRetriever=h,this._getURLOpts=c,this._errorEventGenerator=p||null,this._audioPerformanceEventGenerator=d||null}t.ControllerManager=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),i=r(12),n=(s.prototype._startReporting=function(){var n=this,i=this._player;i.onChange.subscribe(function(e){var t=e.actuallyPlaying,r=e.ended;!0===t&&!i.isEnded()||!1===r&&i.isActuallyPlaying()?(n._checkpointTimer||(n._checkpointTimer=window.setInterval(function(){n._reportEvent("checkpoint")},n._checkpointInterval)),n._reportEvent("play")):(!1===t&&!i.isEnded()||!0===r&&i.isActuallyPlaying())&&(n._checkpointTimer&&(window.clearInterval(n._checkpointTimer),n._checkpointTimer=null),n._reportEvent("pause"))})},s.prototype._reportEvent=function(e){var t=this._getPlayerDetails();if(t){var r=this._player.getDuration();if(null===r)throw new Error("Duration should exist now.");var n={type:e,position:this._player.getPosition(),duration:r,preset:t.preset,quality:t.quality,playerType:t.name,appState:i.getAppState()};this._logger.debug("Generated audio event.",n),this._eventReporter(n)}else this._logger.warn("Cannot report event because there is no player.",e)},s);function s(e,t,r,n,i){this._checkpointTimer=null,this._logger=o.logger.prefixLogger(n,"AudioEventGenerator"),this._player=e,this._eventReporter=t,this._checkpointInterval=Math.max(1e3,r),this._getPlayerDetails=i,this._startReporting()}t.AudioEventGenerator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getDelay=function(e){var t=void 0===e?{}:e,r=t.maxDelay,n=void 0===r?3e4:r,i=t.numInstantRuns,o=void 0===i?5:i,s=Date.now()-this._lastRequestTime;this._lastRequestTime=Date.now(),this._delayFactor=Math.max(0,this._delayFactor-s/n),this._delayFactor++;var a=this._delayFactor-o;return 0<a?Math.pow(2,a):0},i);function i(){this._delayFactor=0,this._lastRequestTime=0}t.DecayingExponentialDelayCalculator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(0),n=r(12),i=(o.prototype.reportManualEvent=function(e,t){"NOT_SUPPORTED_ERROR"!==e&&"HLS_MSE_PLAYER.NO_TRANSMUXER_ERROR"!==e&&(this._logger.debug("Reporting manual error event.",e),this._reportEvent(e,t))},o.prototype._listenForProxyFatalError=function(){var t=this;this._player.onError.subscribe(function(e){e instanceof s.errors.PlayerFatalError&&t._reportEvent(e.getCode())})},o.prototype._reportEvent=function(e,t){var r={errorCode:e,log:this._logCollector.getLog(),logId:this._logId,trackId:this._trackId,protocol:t&&t.protocol,playerType:t&&t.name?t.name:"MaestroUnknown",host:t&&t.host,bitrate:t&&t.bitrate,format:t&&t.format,preset:t&&t.preset,quality:t&&t.quality,url:t&&t.url,appState:n.getAppState()};this._logger.debug("Generated audio error event.",r),this._eventReporter(r)},o);function o(e,t,r,n,i,o){this._logger=s.logger.prefixLogger(o,"ErrorGenerator"),this._player=e,this._logCollector=t,this._logId=r,this._trackId=n,this._eventReporter=i,this._listenForProxyFatalError()}t.ErrorEventGenerator=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(0),A=l.helpers.find,n=(i.prototype.getPreloaded=function(){var e=this._initialBuffered;return null!==e&&this._initialActualPlayer&&this._getPlayer()===this._initialActualPlayer?0===e?"no":2e3<=e?"yes":"partial":null},i);function i(e){var t=e.proxy,r=e.getPlayer;this._getPlayer=r;var n,i,o,s=this._position=t.getPosition(),a=this._initialActualPlayer=r();a?(i=s,n=(o=a.getBufferedTimeRanges())?A(o,function(e){return e.containsTime(i)})||new l.TimeRange(i,0):null,this._initialBuffered=n?n.end-s:null):this._initialBuffered=null}t.PreloadingCalculator=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).helpers.time.now,i=(o.prototype.start=function(){if(this.isComplete())throw new Error("Timer completed.");this._start=n()},o.prototype.isComplete=function(){return null!==this._end},o.prototype.stop=function(){if(null===this._start)throw new Error("Not started.");this._end=n()},o.prototype.getTime=function(){if(null===this._end)throw new Error("Not completed.");return this._end-this._start},o);function o(){this._start=null,this._end=null}t.Timer=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),y=r(83),v=r(82),s=r(12),n=(i.prototype.reportManualEvent=function(e){this._logger.debug("Reporting manual audio performance event.",e),this._eventReporter(e)},i.prototype._measureGeneralEvents=function(){var l=this,A=this._proxy,u=null,h=null,c=null,p=null,d=null,f=null,g=null,m=!0;A.onChange.subscribe(function(e){var t,r=e.playing,n=e.actuallyPlaying,i=e.seek,o=e.seeking,s=e.stalled,a=e.ended;!0!==e.dead&&!1!==r||!p||(p.stop(),1e3<=p.getTime()&&l._reportEvent("rageSkip",p.getTime(),null),p=null),A.isDead()?g&&window.clearTimeout(g):(t=A.getSeekState(),A.isActuallyPlaying()||p||!(!0===r||A.isPlaying()&&!0===s)||(p=new y.Timer).start(),!0===r&&(u||((u=new y.Timer).start(),h=new v.PreloadingCalculator({proxy:A,getPlayer:l._getPlayer}),g=window.setTimeout(function(){l._reportEvent("longInitialBuffering",0,null)},3e4),0===A.getPosition()&&(m=!1))),!1===r&&(g&&window.clearTimeout(g),u&&!u.isComplete()&&(u=null)),!0===n&&(p=null,u&&!u.isComplete()&&(u.stop(),g&&window.clearTimeout(g),l._reportEvent("play",u.getTime(),h.getPreloaded()))),i&&"IN_PROGRESS"===i.state&&A.isReady()&&((c=new y.Timer).start(),d=new v.PreloadingCalculator({proxy:A,getPlayer:l._getPlayer}),!0===o&&l._reportEvent("seekStart",0,null)),(i&&"COMPLETED"===i.state&&!A.isStalled()||!1===s&&t&&"COMPLETED"===t.state)&&c&&(c.stop(),l._reportEvent("seek",c.getTime(),d.getPreloaded()),c=null),!0!==s||!A.isPlaying()||t&&"IN_PROGRESS"===t.state||u&&u.isComplete()&&((f=new y.Timer).start(),l._reportEvent("rebufferingStart",A.getPosition(),null)),!1===s&&(u&&u.isComplete()&&(p=null),f&&(f.stop(),l._reportEvent("rebufferingEnd",f.getTime(),null),f=null)),!0!==a||m||(l._reportEvent("uninterruptedPlay",0,null),m=!0),t&&"IN_PROGRESS"===t.state||!0!==s||!A.isActuallyPlaying()||(m=!0))})},i.prototype._reportEvent=function(e,t,r){var n,i=this._getPlayerDetails();i?(n={type:e,latency:t,protocol:i.protocol,playerType:i.name,host:i.host,bitrate:i.bitrate,format:i.format,preset:i.preset,quality:i.quality,preloaded:r||void 0,appState:s.getAppState()},this._logger.debug("Generated audio performance event.",n),this._eventReporter(n)):this._logger.warn("Cannot report event because there is no player.",e,t)},i);function i(e,t,r,n,i){this._logger=o.logger.prefixLogger(n,"AudioPerformanceEventGenerator"),this._proxy=e,this._getPlayer=t,this._eventReporter=r,this._getPlayerDetails=i,this._measureGeneralEvents()}t.AudioPerformanceEventGenerator=n},function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=(o.prototype.getLog=function(){return this._log.map(function(e){return n({},e,{data:e.data.map(function(e){try{return JSON.stringify(e)}catch(e){return"<unavailable>"}})})})},o.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"debug",msg:e,data:t,time:Date.now()})},o.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"info",msg:e,data:t,time:Date.now()})},o.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"warn",msg:e,data:t,time:Date.now()})},o.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._push({level:"error",msg:e,data:t,time:Date.now()})},o.prototype._push=function(e){this._log.push(e)>this._bufferSize&&this._log.shift()},o);function o(e){void 0===e&&(e=200),this._bufferSize=e,this._log=[]}t.LogCollector=i},function(e,t,r){"use strict";function l(e,t,r){return Math.min(t,Math.max(e,r))}var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var p=r(0),o=r(26),d=r(85),f=r(84),g=r(81),m=r(80),y=r(79),v=r(78),s=r(33),a=r(32),A=r(6),u=r(15),_=r(31),E=r(30),w=r(29),h=r(14),c=r(13),b=p.eventDispatcher.EventDispatcher,B=p.helpers.Promise,C=p.helpers.deferred.buildDeferred,S=new s.CacheManager(15e7,p.logger.noOpLogger),P=-1,F=[],x=1,T=!1;t.setGlobalVolume=function(t){if("number"!=typeof t)throw new Error("level must be a number.");if(t<0||1<t)throw new Error("Invalid volume level.");x=t,F.forEach(function(e){return e.setVolume(t)})},t.getGlobalVolume=function(){return x},t.setGlobalMuted=function(t){if("boolean"!=typeof t)throw new Error("muteEnabled must be a boolean.");T=t,F.forEach(function(e){return e.setMuted(t)})},t.getGlobalMuted=function(){return T},t.setCacheSize=function(e){if("number"!=typeof e||e<0)throw new Error("Invalid size.");S.setCacheSize(e)};var U,Q=(U=p.ProxyPlayerBase,i(D,U),D.prototype.reload=function(e){void 0===e&&(e={}),this._ensureNotDead(),this._reloadStreamUrls(e)},D.prototype.enablePreloading=function(){this.isDead()||this._preloadingEnabled||(this._preloadingEnabled=!0,this._updateMaxBufferLength(),this._onPreloadingEnabled.dispatch(void 0))},D.prototype.disablePreloading=function(){this.isDead()||this._preloadingEnabled&&(this._preloadingEnabled=!1,this._updateMaxBufferLength(),this._onPreloadingDisabled.dispatch(void 0))},D.prototype.isPreloadingEnabled=function(){return this._preloadingEnabled},D.prototype.pauseAfterFade=function(e){var t=this;if(this._ensureNotDead(),this._pauseFadeDeferred)return this._pauseFadeDeferred.promise;if(!this.isPlaying()||!this.isActuallyPlaying())return B.resolve(this.pause());var r=C();this._pauseFadeDeferred=r;var n=this.getPosition();if(this._pauseFade)throw new Error("Fade should not already be assigned.");return this._pauseFade=new o.Fade({startPos:n,endPos:n+e,startLevel:1,endLevel:0}),this._addVolumeAutomator(this._pauseFade),this._pauseFadeTimer=window.setTimeout(function(){t._pauseFadeDeferred=null,r.resolve(t.pause({fadeDuration:0}))},e+50),r.promise},D.prototype.isConnectionRequired=function(){return this._connectionRequiredHelper.isConnectionRequired()},D.prototype.getQuality=function(){return this._controllerManager.getQuality()},D.prototype.getVolume=function(){return this._volumeAutomationSupported?this._userVolume:U.prototype.getVolume.call(this)},D.prototype._handleFatalError=function(e){this._logger.warn("Fatal error from current player.",e)},D.prototype._handleVolumeChange=function(e,t){this._userVolume=e,U.prototype._notifyVolumeChange.call(this,e,t),this._calculateAndSetVolume()},D.prototype._notifyVolumeChange=function(){},D.prototype._kill=function(){U.prototype._kill.call(this),this._timer&&window.clearTimeout(this._timer),this._abortPauseFade(),this._removePreloadingListeners(),F.splice(F.indexOf(this),1),"RETRIEVING_URL"===this._executionState.state?this._executionState.retrieveJob.abort():"CONTROLLING_PLAYER"===this._executionState.state&&this._controllerManager.releaseCurrentController({retry:!1}),this._executionState={state:"DEAD"},this._retrieveAndBuildTimer&&window.clearTimeout(this._retrieveAndBuildTimer)},D.prototype._excludeUnsupportedRenditions=function(){var r=this,n={streamUrlExpires:this._config.streamUrlsExpire};c.allRenditions.filter(function(t){return!r._controllers.some(function(e){return e.isRenditionSupported(t,n)})}).forEach(function(e){r._config.streamUrlRetriever.excludeRendition(e)})},D.prototype._addVolumeAutomator=function(e){this._volumeAutomators.indexOf(e)<0&&(this._volumeAutomators.push(e),this._updateVolume())},D.prototype._removeVolumeAutomator=function(e){var t=this._volumeAutomators.indexOf(e);0<=t&&(this._volumeAutomators.splice(t,1),this._updateVolume())},D.prototype._removePreloadingListeners=function(){this._preloadingListeners.forEach(function(e){return e.remove()})},D.prototype._getActivePlayerDetails=function(){return"CONTROLLING_PLAYER"!==this._executionState.state?null:this._controllerManager.getPlayerDetails()},D.prototype._updateFadeOut=function(){this._fadeOutVolumeAutomator&&this._removeVolumeAutomator(this._fadeOutVolumeAutomator),this._getURLOpts.snippet&&(this._fadeOutVolumeAutomator=o.buildFadeOut(3e3),this._addVolumeAutomator(this._fadeOutVolumeAutomator))},D.prototype._handleUnexpectedError=function(e){try{e()}catch(e){this._logger.error("Unexpected error.",e),this._triggerError(new p.errors.PlayerFatalError("An unexpected error occurred.",e))}},D.prototype._retrieveAndBuild=function(){var o=this;this._handleUnexpectedError(function(){if(-1===["IDLE","WAITING_TO_RETRIEVE"].indexOf(o._executionState.state))throw new Error("Invalid state for retrieveAndBuild().");o._logger.debug("Retrieving URL...");var e=a.retrieveUrl({streamUrlRetriever:o._config.streamUrlRetriever,urlProviderRetryDelayCalculator:o._config.urlProviderRetryDelayCalculator,getURLOpts:o._getURLOpts,logger:o._logger});o._executionState={state:"RETRIEVING_URL",retrieveJob:e},e.onCompletion(function(n){var i,e,t;o._logger.debug("Retrieved URL.",!!n),n&&n.success?(i=!(o._hadAStreamUrl=!0),e=function(e){var t=e.excludeRendition,r=e.immediateRetry;o._handleUnexpectedError(function(){if(i)throw new Error("startOver called multiple times.");var e;i=!0,t&&o._config.streamUrlRetriever.excludeRendition(n.rendition),o._executionState={state:"WAITING_TO_RETRIEVE"},o.isDead()?o._logger.debug("Stopping execution because player is dead."):r?(o._logger.debug("Moving on immediately."),o._retrieveAndBuild()):(e=o._retryDelayCalculator.getDelay(),o._logger.debug("Will move on in "+e+"ms."),e?o._retrieveAndBuildTimer=window.setTimeout(function(){return o._retrieveAndBuild()},e):o._retrieveAndBuild())})},o._handleUnexpectedError(function(){o._executionState={state:"CONTROLLING_PLAYER"},o._logger.debug("Building controller..."),o._controllerManager.buildNextController(n,e),o._logger.debug("Built controller.")})):n&&n.rendition?(o._logger.warn("Error retrieving URL. Moving on.",n.error),o._errorEventGenerator&&(t="SCAUDIO.URL_RETRIEVER_ERROR."+o._config.streamUrlRetriever.name+"."+n.error.getCode(),o._errorEventGenerator.reportManualEvent(t,{preset:n.preset,quality:n.quality,bitrate:n.bitrate,format:n.rendition.scFormat,protocol:n.rendition.scProtocol})),o._config.streamUrlRetriever.excludeRendition(n.rendition),o._executionState={state:"WAITING_TO_RETRIEVE"},o._retrieveAndBuild()):(n&&n.rendition&&o._logger.warn("Error retrieving URL for any rendition.",n.error),o._logger.info("Ran out of streams.",o._hadAStreamUrl),o._triggerError(o._hadAStreamUrl?new A.NotSupportedError:new u.NoStreamsError))}),e.onError(function(e){e!==p.helpers.abortableJob.abortedError&&(e===a.NoMoreAttemptsError?o._logger.error("Ran out of retries to retrieve URL."):o._logger.error("Unexpected error when retrieving a URL.",e),o._triggerError(new h.FailedRetrievingUrlError))})})},D.prototype._reloadStreamUrls=function(e){this._getURLOpts=e,this._updateFadeOut(),this._logger.info("Reloading stream URL's...",this._getURLOpts),"RETRIEVING_URL"===this._executionState.state?(this._logger.debug("Aborting current URL retrieve."),this._executionState.retrieveJob.abort(),this._executionState={state:"WAITING_TO_RETRIEVE"},this._retrieveAndBuild()):"CONTROLLING_PLAYER"===this._executionState.state?(this._logger.debug("Releasing controller."),this._controllerManager.releaseCurrentController({retry:!0})):this._logger.debug("Nothing to do."),this._logger.info("Reloaded stream URL's.")},D.prototype._completePauseFade=function(){var e;this._pauseFadeDeferred&&(this._pauseFadeTimer&&window.clearTimeout(this._pauseFadeTimer),e=this._pauseFadeDeferred,this._pauseFadeDeferred=null,e.resolve(this.pause()))},D.prototype._abortPauseFade=function(){this._pauseFadeTimer&&(window.clearTimeout(this._pauseFadeTimer),this._pauseFadeTimer=null),this._pauseFadeDeferred&&(this._pauseFadeDeferred.reject(new Error("Player was killed.")),this._pauseFadeDeferred=null)},D.prototype._updateVolume=function(){var i,e,o,s,a,t=this;this._volumeAutomationSupported&&(this._ensureNotDead(),this._timer&&(window.clearTimeout(this._timer),this._timer=null),null!==(i=this.getDuration())&&(e=this._volumeAutomators,o=this.getPosition(),s=1/0,a=1,e.forEach(function(e){var t=e.calculate(o,i),r=t.nextCalculatePosition,n=t.level;a*=l(0,1,n),r<s&&(s=r)}),this._volumeScale!==a&&(this._volumeScale=a,this._calculateAndSetVolume()),s<1/0&&this.isActuallyPlaying()&&!this.isStalled()&&(this._timer=window.setTimeout(function(){t._timer=null,t._updateVolume()},l(100,5e3,s-this.getPosition())))))},D.prototype._calculateAndSetVolume=function(){this._volumeAutomationSupported?U.prototype._handleVolumeChange.call(this,this._userVolume*this._volumeScale,this.getMuted()):U.prototype._handleVolumeChange.call(this,this._userVolume,this.getMuted())},D.prototype._updateMaxBufferLength=function(){var e=this._getPlayer(),t=e&&e.getBufferController();t&&(this.isPlaying()?t.setMaxBufferLength(this._config.playingMaxBufferLength):t.setMaxBufferLength(this._preloadingEnabled?this._config.pausedMaxBufferLength:0))},D);function D(e){var n=U.call(this,e)||this;n._onPreloadingEnabled=new b,n._onPreloadingDisabled=new b,n._retryDelayCalculator=new m.DecayingExponentialDelayCalculator,n._errorEventGenerator=null,n._fadeOutVolumeAutomator=null,n._volumeAutomators=[],n._volumeScale=1,n._userVolume=1,n._volumeAutomationSupported=!1,n._timer=null,n._pauseFadeTimer=null,n._pauseFadeDeferred=null,n._pauseFade=null,n._executionState={state:"IDLE"},n._preloadingListeners=[],n._retrieveAndBuildTimer=null,n._hadAStreamUrl=!1;var t=n._config=_.validatePlayerDependencies(e);n._preloadingEnabled=t.preloadingEnabled,n._getURLOpts=t.getURLOpts,n._controllers=t.controllers;var r=n._connectionRequiredHelper=new w.ConnectionRequiredHelper(n);n.onPreloadingEnabled=n._onPreloadingEnabled.getHandle(),n.onPreloadingDisabled=n._onPreloadingDisabled.getHandle(),n.onConnectionRequired=r.onConnectionRequired,n.onConnectionRecovered=r.onConnectionRecovered,n.onChange.subscribe(function(e){n.isDead()||((!1===e.playing||e.positionJumped||e.stalled||e.ended)&&n._completePauseFade(),n._pauseFade&&(!1===e.actuallyPlaying||e.ended||!0===e.playing)&&(n._removeVolumeAutomator(n._pauseFade),n._pauseFade=null),!e.positionJumped&&void 0===e.actuallyPlaying&&void 0===e.stalled||n._updateVolume(),void 0!==e.playing&&n._updateMaxBufferLength())});var i="SCAudio-"+ ++P,o=t.streamUrlRetriever.getTrackId();null!==o&&(i+="-"+o);var s=new d.LogCollector,a=p.logger.cloneLogger(s,n._logger);n._logger=p.logger.prefixLogger(a,i);var l=E.generateLogId();n._logger.info("Building player...",{ua:navigator.userAgent,getURLOpts:n._getURLOpts,logId:l}),F.push(n),n.setVolume(x,T),n._updateFadeOut();var A=null,u=null;t.audioPerformanceReporter&&(A=new f.AudioPerformanceEventGenerator(n,function(){return n._getPlayer()},t.audioPerformanceReporter,n._logger,function(){return n._getActivePlayerDetails()})),t.audioReporter&&new y.AudioEventGenerator(n,t.audioReporter,t.audioCheckpointInterval,n._logger,function(){return n._getActivePlayerDetails()}),t.errorReporter&&(u=n._errorEventGenerator=new g.ErrorEventGenerator(n,s,l,o,t.errorReporter,n._logger)),n._excludeUnsupportedRenditions();var h,c=n._controllerManager=new v.ControllerManager({logger:n._logger,controllers:t.controllers,playerId:i,streamUrlsExpire:t.streamUrlsExpire,fetchEnabled:t.fetchEnabled,fadeOnPauseAndPlay:t.fadeOnPauseAndPlay,fadeOnSeek:t.fadeOnSeek,cacheManager:S,providePlayer:function(e,t,r){n._volumeAutomationSupported=r,n._providePlayer(e,t),n._updateMaxBufferLength()},removePlayer:function(){n._getPlayer()&&n._removePlayer()},streamUrlRetriever:n._config.streamUrlRetriever,getURLOpts:n._getURLOpts,errorEventGenerator:u||void 0,audioPerformanceEventGenerator:A||void 0});return n.onQualityChanged=c.onQualityChanged,void 0!==t.duration&&(n._logger.debug("Setting initial duration.",t.duration),n._setInitialDuration(t.duration)),n._preloadingEnabled?(n._logger.debug("Preloading is enabled, so performing retrieve immediately."),n._retrieveAndBuild()):(n._logger.debug("Preloading is disabled, so deferring retrieve until either a play intent or preloading is enabled."),h=function(){n._removePreloadingListeners(),n._logger.debug("Preloading now enabled or received a play request. Peforming retrieve."),n._retrieveAndBuild()},n._preloadingListeners.push(n.onPreloadingEnabled.subscribe(h),n.onPlayIntent.subscribe(h))),n}t.Player=Q},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.isTransient=function(){return this._transient},i.prototype.getCode=function(){return this._code},i.prototype.getCause=function(){return this._cause},i);function i(e,t,r){void 0===e&&(e="UNKNOWN"),void 0===t&&(t=!1),void 0===r&&(r=null),this._code=e,this._transient=t,this._cause=r}t.UrlRetrieverError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpAACHQ={scProtocol:"http",scFormat:"aac",maestroFormat:{mimeType:"audio/mp4",audioCodec:{id:"mp4a.40.2"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsOpus={scProtocol:"encrypted-hls",scFormat:"opus",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/ogg",audioCodec:{id:"opus"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsOpus={scProtocol:"hls",scFormat:"opus",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/ogg",audioCodec:{id:"opus"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maestroChromecast={scProtocol:"maestro.chromecast",maestroFormat:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiMobile={scProtocol:"sc.api-mobile",maestroFormat:{}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsAACHQ={scProtocol:"encrypted-hls",scFormat:"aac",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mp4",audioCodec:{id:"mp4a.40.2"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsAACHQ={scProtocol:"hls",scFormat:"aac",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mp4",audioCodec:{id:"mp4a.40.2"}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsMp3={scProtocol:"encrypted-hls",scFormat:"mp3",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mpeg"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsMp3={scProtocol:"hls",scFormat:"mp3",maestroFormat:{mimeType:"application/x-mpegURL"},maestroSegmentFormat:{mimeType:"audio/mpeg"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpMp3={scProtocol:"http",scFormat:"mp3",maestroFormat:{mimeType:"audio/mpeg"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(26);(n=t.volumeAutomation||(t.volumeAutomation={})).Fade=i.Fade,n.buildFadeIn=i.buildFadeIn,n.buildFadeOut=i.buildFadeOut},function(e,r,t){"use strict";function n(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),r.version="23.1.0",r.buildNumber=845;var i=t(98);r.volumeAutomation=i.volumeAutomation;var o=t(25);r.BaseStreamUrlRetriever=o.BaseStreamUrlRetriever,n(t(24));var s=t(13);r.renditions=s.renditions,r.allRenditions=s.allRenditions;var a=t(87);r.UrlRetrieverError=a.UrlRetrieverError;var l=t(86);r.Player=l.Player,r.setGlobalVolume=l.setGlobalVolume,r.setGlobalMuted=l.setGlobalMuted,r.getGlobalVolume=l.getGlobalVolume,r.getGlobalMuted=l.getGlobalMuted,r.setCacheSize=l.setCacheSize;var A=t(28);r.Quality=A.Quality,r.resolveQuality=A.resolveQuality,n(t(27))}]))},function(e,t,r){window,e.exports=function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=97)}([function(e,t,r){"use strict";var n=r(4);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t,r){"use strict";e.exports=r(62)()?Symbol:r(61)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deferException=function(e){try{e()}catch(e){window.setTimeout(function(){throw e},0)}}},function(e,t,r){"use strict";var n=r(24)();e.exports=function(e){return e!==n&&null!==e}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(11),a=(o=s.PlayerError,i(l,o),l.prototype.getCode=function(){return"PLAYER_FATAL_ERROR"},l);function l(){return null!==o&&o.apply(this,arguments)||this}t.PlayerFatalError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(19),n=(i.prototype.subscribe=function(e){var t=this,r={fn:e,payloads:[]};return this._listeners.push(r),{remove:function(){var e=t._listeners.indexOf(r);return 0<=e&&(t._listeners.splice(e,1),!0)},retrieve:function(){return t._dispatchListenerPayloads(r)}}},i.prototype.dispatch=function(t,e){var n=this,r="number"==typeof e?{time:e}:e||{},i=void 0!==r.time?r.time:s.now(),o=this._listeners;o.forEach(function(e){return e.payloads.push({time:i,payload:t})});for(;!!o.some(function(e){var t=e.fn,r=e.payloads.shift();return!!r&&(n._callHandler(t,r),!0)}););},i.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},i.prototype._dispatchListenerPayloads=function(e){for(var t=e.fn,r=e.payloads;;){var n=r.shift();if(!n)break;this._callHandler(t,n)}},i.prototype._callHandler=function(e,t){try{e(t.payload,t.time)}catch(e){window.setTimeout(function(){throw e},0)}},i);function i(){this._listeners=[],this.dispatch=this.dispatch.bind(this)}t.EventDispatcher=n},function(e,t,r){"use strict";var a=r(14),l=r(23),A=r(66),u=r(22);(e.exports=function(e,t){var r,n,i,o,s;return arguments.length<2||"string"!=typeof e?(o=t,t=e,e=null):o=arguments[2],null==e?n=!(r=i=!0):(r=u.call(e,"c"),n=u.call(e,"e"),i=u.call(e,"w")),s={value:t,configurable:r,enumerable:n,writable:i},o?a(l(o),s):s}).gs=function(e,t,r){var n,i,o,s;return"string"!=typeof e?(o=r,r=t,t=e,e=null):o=arguments[3],null==t?t=void 0:A(t)?null==r?r=void 0:A(r)||(o=r,r=void 0):(o=t,t=r=void 0),i=null==e?!(n=!0):(n=u.call(e,"c"),u.call(e,"e")),s={get:t,set:r,configurable:n,enumerable:i},o?a(l(o),s):s}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(95);t.Promise=n.Promise},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===i)||!1}},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call(function(){return arguments}());e.exports=function(e){return n.call(e)===i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getCode=function(){return"PLAYER_ERROR"},i.prototype.getMsg=function(){return this._msg},i.prototype.getCause=function(){return this._cause},i);function i(e,t){this._msg=e,this._cause=t}t.PlayerError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(36).isIE();t.noOpLogger={debug:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},error:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},info:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]},warn:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r]}},t.consoleLogger={debug:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];i?console.log(e,r):(t=console.debug||console.log).call.apply(t,[console,e].concat(r))},error:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];i?console.log(e,r):(t=console.error||console.log).call.apply(t,[console,e].concat(r))},info:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];i?console.log(e,r):(t=console.info||console.log).call.apply(t,[console,e].concat(r))},warn:function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];i?console.log(e,r):(t=console.warn||console.log).call.apply(t,[console,e].concat(r))}},t.prefixLogger=function(n,i){return{debug:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.debug.apply(n,["["+i+"] "+e].concat(t))},error:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.error.apply(n,["["+i+"] "+e].concat(t))},info:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.info.apply(n,["["+i+"] "+e].concat(t))},warn:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.warn.apply(n,["["+i+"] "+e].concat(t))}}},t.cloneLogger=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return{debug:function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return n.forEach(function(e){return e.debug.apply(e,[t].concat(r))})},error:function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return n.forEach(function(e){return e.error.apply(e,[t].concat(r))})},info:function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return n.forEach(function(e){return e.info.apply(e,[t].concat(r))})},warn:function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return n.forEach(function(e){return e.warn.apply(e,[t].concat(r))})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(8);t.buildDeferred=function(){var r,n,t=!1;return{promise:new i.Promise(function(e,t){r=e,n=t}),resolve:function(e){t||(t=!0,r(e))},reject:function(e){t||(t=!0,n(e))},isSettled:function(){return t}}}},function(e,t,r){"use strict";e.exports=r(71)()?Object.assign:r(70)},function(e,t,r){"use strict";e.exports=r(27)()?Object.setPrototypeOf:r(26)},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(28),a=(o=s.ProxyProvidedPlayerError,i(l,o),l.prototype.getCode=function(){return"PROXY_PLAYER_PROVIDED_PLAYER_FATAL_ERROR"},l);function l(e,t,r){return void 0===r&&(r="The player that the proxy was controlling had a fatal error."),o.call(this,e,t,r)||this}t.ProxyProvidedPlayerFatalError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.find=function(e,t){var r=void 0;return e.some(function(e){return!!t(e)&&(r=e,!0)}),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.always=function(e,t){return e.then(t,t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Date.now();t.now=function(){return"performance"in window&&window.performance.now?window.performance.now():Date.now()-n}},function(e,t,r){"use strict";var n,i=r(58),o=r(14),s=r(1),a=r(0),l=r(7),A=r(57),u=r(2),h=Object.defineProperty,c=Object.defineProperties;e.exports=n=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");c(this,{__list__:l("w",a(e)),__context__:l("w",t),__nextIndex__:l("w",0)}),t&&(s(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete n.prototype.constructor,c(n.prototype,o({_next:l(function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:l(function(){return this._createResult(this._next())}),_createResult:l(function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:l(function(e){return this.__list__[e]}),_unBind:l(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:l(function(){return"[object "+(this[u.toStringTag]||"Object")+"]"})},A({_onAdd:l(function(r){if(!(r>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__)return void h(this,"__redo__",l("c",[r]));this.__redo__.forEach(function(e,t){r<=e&&(this.__redo__[t]=++e)},this),this.__redo__.push(r)}}),_onDelete:l(function(r){var e;r>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(e=this.__redo__.indexOf(r))&&this.__redo__.splice(e,1),this.__redo__.forEach(function(e,t){r<e&&(this.__redo__[t]=--e)},this)))}),_onClear:l(function(){this.__redo__&&i.call(this.__redo__),this.__nextIndex__=0})}))),h(n.prototype,u.iterator,l(function(){return this}))},function(e,t,r){"use strict";var n=r(10),i=r(9),o=r(63),s=r(43),a=r(42),l=r(2).iterator;e.exports=function(e){return"function"==typeof a(e)[l]?e[l]():new(!n(e)&&i(e)?s:o)(e)}},function(e,t,r){"use strict";e.exports=r(65)()?String.prototype.contains:r(64)},function(e,t,r){"use strict";var n=r(4),i=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return i.call(arguments,function(e){n(e)&&function(e,t){var r;for(r in e)t[r]=e[r]}(Object(e),t)}),t}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";var n=r(4),i={function:!0,object:!0};e.exports=function(e){return n(e)&&i[typeof e]||!1}},function(e,t,r){"use strict";var n,i,o,s=r(25),a=r(0),l=Object.prototype.isPrototypeOf,A=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0},h=function(e,t){if(a(e),null===t||s(t))return e;throw new TypeError("Prototype must be null or an object")};e.exports=(n=function(){var e,t=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{(e=n.set).call(t,r)}catch(e){}if(Object.getPrototypeOf(t)===r)return{set:e,level:2}}return t.__proto__=r,Object.getPrototypeOf(t)===r?{level:2}:((t={}).__proto__=r,Object.getPrototypeOf(t)===r&&{level:1})}())?(i=2===n.level?n.set?(o=n.set,function(e,t){return o.call(h(e,t),t),e}):function(e,t){return h(e,t).__proto__=t,e}:function e(t,r){var n;return h(t,r),(n=l.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===r&&(r=e.nullPolyfill),t.__proto__=r,n&&A(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(i,"level",{configurable:!1,enumerable:!1,writable:!1,value:n.level})):null,r(74)},function(e,t,r){"use strict";var n=Object.create,i=Object.getPrototypeOf,o={};e.exports=function(){var e=Object.setPrototypeOf;return"function"==typeof e&&i(e((arguments[0]||n)(null),o))===o}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(11),a=(o=s.PlayerError,i(l,o),l.prototype.getCode=function(){return"PROXY_PLAYER_PROVIDED_PLAYER_ERROR"},l.prototype.getProvidedPlayerError=function(){return this._providedPlayerError},l.prototype.getProvidedPlayer=function(){return this._providedPlayer},l);function l(e,t,r){void 0===r&&(r="The player that the proxy was controlling had an error.");var n=o.call(this,r)||this;return n._providedPlayerError=e,n._providedPlayer=t,n}t.ProxyProvidedPlayerError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(5),a=(o=s.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"IMPLEMENTATION_ERROR"},l);function l(e,t){return o.call(this,e,t)||this}t.ImplementationError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(3),n=(i.prototype.enter=function(e){var t=this;if(this._inCallback)return e?e(this._onEnterResultRetriever):void 0;this._inCallback=!0;var r=[],n=!1;this._onEnter&&(this._onEnterResultRetriever={getResult:function(e){n?o.deferException(function(){return e(t._onEnterError,t._onEnterResult)}):r.push(e)}});try{var i=e?e(this._onEnterResultRetriever):void 0;if(this._onEnter){this._onEnterError=void 0,this._onEnterResult=void 0;try{this._onEnterResult=this._onEnter()}catch(e){this._onEnterError=e}n=!0,r.forEach(function(e){return o.deferException(function(){return e(t._onEnterError,t._onEnterResult)})})}return i}finally{this._inCallback=!1,o.deferException(function(){return t._onExit(t._onEnterError,t._onEnterResult)})}},i);function i(e,t){this._inCallback=!1,this._onExit=e,this._onEnter=t||null}t.OnExit=n},function(e,t,r){"use strict";function o(t){var r=Object.create(null);return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}Object.defineProperty(t,"__esModule",{value:!0});function n(){}var i=r(30),s=r(3),a=(l.prototype.subscribe=function(t,e){var r=this;if(void 0===e&&(e=!0),this._dead){var n=!1;return{retrieve:function(){},remove:function(){return!n&&(n=!0)}}}var i={callback:t,localState:e?o(this._state):this._initialState};return this._subscribers.push(i),e||this._updateSubscriber(i),{remove:function(){var e=r._subscribers.map(function(e){return e.callback}).indexOf(t);return 0<=e&&(r._subscribers.splice(e,1),!0)},retrieve:function(){r._updateSubscriber(i)}}},l.prototype.subscribeIndividual=function(r,n,e){return this.subscribe(function(e){var t=e[r];void 0!==t&&n(t)},e)},l.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},l.prototype.getIndividualHandle=function(t){var r=this;return{subscribe:function(e){return r.subscribeIndividual(t,e)}}},l.prototype.update=function(t){var r=this;this._officiallyDead||(this._inAfterUpdate?t&&t(this._state,this._beforeUpdateError):this._onExit.enter(function(e){e.getResult(function(){try{t&&t(r._state,r._beforeUpdateError)}catch(e){r._errors.push(e)}})}))},l.prototype.getState=function(){return this._state},l.prototype.kill=function(){var e=this;this._dead||(this._dead=!0,window.setTimeout(function(){e._subscribers.splice(0),e._officiallyDead=!0},0))},l.prototype.isDead=function(){return this._dead},l.prototype._onEnter=function(){this._beforeUpdateError=void 0;try{this._beforeUpdate(this._state)}catch(e){this._beforeUpdateError=e}},l.prototype._after=function(){var t=this,e=this._errors;this._errors=[],s.deferException(function(){t._inAfterUpdate=!0;try{t._afterUpdate(t._state,{beforeUpdate:t._beforeUpdateError,update:e})}catch(e){throw t._inAfterUpdate=!1,e}t._inAfterUpdate=!1,t._subscribers.slice().forEach(function(e){return t._updateSubscriber(e)}),t._afterDispatches(t._state)})},l.prototype._updateSubscriber=function(e){var t=this._calculateDiff(e.localState);Object.keys(t).length&&(e.localState=o(this._state),s.deferException(function(){return e.callback(t,e.localState)}))},l.prototype._calculateDiff=function(r){var n=this,i=Object.create(null);return Object.keys(this._state).forEach(function(e){var t=n._state[e];t!==r[e]&&(i[e]=t)}),i},l);function l(e,t){void 0===t&&(t={});var r=this;this._subscribers=[],this._onExit=new i.OnExit(function(){return r._after()},function(){return r._onEnter()}),this._beforeUpdateError=void 0,this._inAfterUpdate=!1,this._dead=!1,this._officiallyDead=!1,this._errors=[],this._state=o(e),this._initialState=o(e),this._beforeUpdate=t.beforeUpdate||function(){},this._afterUpdate=t.afterUpdate||n,this._afterDispatches=t.afterDispatches||n}t.StateManager=a},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.State||(t.State={}))[n.LOADING=0]="LOADING",n[n.PLAYING=1]="PLAYING",n[n.PAUSED=2]="PAUSED",n[n.DEAD=3]="DEAD"},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(5),a=(o=s.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"NOT_SUPPORTED_ERROR"},l);function l(e){return o.call(this,e||"The player cannot play the provided descriptor.")||this}t.NotSupportedError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=r(33),n=r(6),A=r(13),s=r(17),u=r(19),a=r(8),l=r(32),h=r(12),c=r(31),p=r(29),d=r(3),f="undefined"!=typeof navigator&&"mediaSession"in navigator,g=f?navigator.mediaSession:null,m=(y.prototype.isReady=function(){return this._stateManager.getState().ready},y.prototype.getPosition=function(){return this._getPositionOrPositionSeekingTo()},y.prototype.getLastPlayedPosition=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,r=e.stalled;return t&&!r?this.getPosition():this._lastPlayedPosition},y.prototype.getListenTime=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,r=e.ended,n=this._listenTimeBase;return t&&!r&&(n+=u.now()-this._timePlaybackStarted),n},y.prototype.isStalled=function(){return this._stateManager.getState().stalled},y.prototype.isLoading=function(){return this._stateManager.getState().loading},y.prototype.isFading=function(){return this._stateManager.getState().isFading},y.prototype.isFadingForSeek=function(){return this._stateManager.getState().isFadingForSeek},y.prototype.isPlaying=function(){return this._stateManager.getState().playing},y.prototype.isActuallyPlaying=function(){return this._stateManager.getState().actuallyPlaying},y.prototype.isEnded=function(){return this._stateManager.getState().ended},y.prototype.getState=function(){return this._stateManager.getState().state},y.prototype.getBufferController=function(){return null},y.prototype.getMemoryCacheMaxSize=function(){return null},y.prototype.getMemoryCacheUsage=function(){return null},y.prototype.getMemoryCacheController=function(){return null},y.prototype.getFatalError=function(){return this._stateManager.getState().fatalError},y.prototype.isDead=function(){return this._stateManager.getState().dead},y.prototype.getVolume=function(){return this._stateManager.getState().volume},y.prototype.getMuted=function(){return this._stateManager.getState().muted},y.prototype.getDuration=function(){var e=this._stateManager.getState(),t=e.ready,r=e.duration;return t?r:null},y.prototype.setVolume=function(e,t){if(e<0||1<e)throw new Error("Volume must be >= 0 and <= 1.");if(!this._stateManager.getState().dead){var r=this._stateManager.getState().muted;void 0===t&&(t=r);try{this._handleVolumeChange(e,t)}catch(e){throw this._triggerError(new p.ImplementationError("Exception occurred updating volume.",e)),e}}},y.prototype.setMuted=function(e){this.setVolume(this._stateManager.getState().volume,e)},y.prototype.getCurrentBufferedTimeRange=function(){var e=this.getBufferedTimeRanges();if(!e)return null;var t=this.getPosition();return s.find(e,function(e){return e.containsTime(t)})||null},y.prototype.play=function(r){var n=this;this._ensureNotDead(),this._logger.debug("play() called.",r);var i=A.buildDeferred();try{return this._stateManager.update(function(e){var t;e.playing?n._logger.debug("Intent is already to be playing."):(n._logger.debug("Requesting play."),e.playing=!0,t=n._extractFadeDuration(r),e.fadeRate=t?1/t:null,n._lastPlayError=null),e.playDeferred&&!e.playDeferred.isSettled()||(e.playDeferred=A.buildDeferred()),i.resolve(e.playDeferred.promise)}),i.promise}catch(r){return this._triggerError(new o.PlayerFatalError("Unexpected error when attempting to play.",r)),a.Promise.reject(r)}},y.prototype.pause=function(r){var n=this;this._ensureNotDead(),this._logger.debug("pause() called.",r);var i=A.buildDeferred();try{return this._stateManager.update(function(e){var t;e.playing?(n._logger.debug("Requesting pause."),n._positionWhenStartedFadeOut=n._getPositionOrPositionSeekingTo(),e.playing=!1,t=n._extractFadeDuration(r),e.fadeRate=t?1/t*-1:null,n._fadeStartAllowed=!0,n._lastPauseError=null):n._logger.debug("Intent is already to be paused."),e.pauseDeferred&&!e.pauseDeferred.isSettled()||(e.pauseDeferred=A.buildDeferred()),i.resolve(e.pauseDeferred.promise)}),i.promise}catch(r){return this._triggerError(new o.PlayerFatalError("Unexpected error when attempting to pause.",r)),a.Promise.reject(r)}},y.prototype.seek=function(o,s){var a=this;this._ensureNotDead(),this._logger.debug("seek() called.",o);var l=A.buildDeferred();return this._stateManager.update(function(e){var t,r,n,i;o<0?(a._logger.warn("Rejecting seek immediately as the position was negative."),l.reject(new Error("You were attempting to seek to a negative time."))):null!==e.duration&&o>e.duration?(a._logger.warn("Rejecting seek immediately as the duration is now known, and the requested positon was past it."),l.reject(new Error("You were attempting to seek past the end of the media."))):(e.stalled||!e.actuallyPlaying||e.seek&&"IN_PROGRESS"===e.seek.state||(a._lastPlayedPosition=a._getPositionOrPositionSeekingTo()),t=A.buildDeferred(),e.seek&&"IN_PROGRESS"===e.seek.state&&e.seek.position===o?a._logger.debug("Seek already requested to the same position.",o):(a._logger.debug("Requesting seek.",o),e.seeking=!0,a._positionWhenStartedFadeOut=null,n=(r=a._extractSeekFadeDurations(s,o)).fadeOutDuration?1/r.fadeOutDuration*-1:null,i=r.fadeInDuration?1/r.fadeInDuration:null,e.seek={state:"IN_PROGRESS",position:o,fadeRate:{beforeSeek:n,afterSeek:i}},e.positionJumped=Object.create(null)),a._queuedSeekDeferreds.push({position:o,deferred:t}),l.resolve(t.promise))}),l.promise},y.prototype.getSeekState=function(){return this._stateManager.getState().seek},y.prototype.kill=function(){var t=this;this._stateManager.update(function(e){e.dead||(t._logger.debug("kill() called."),e.dead=!0)})},y.prototype._update=function(e){this._stateManager.update(function(){return e&&e()})},y.prototype._ensureNotDead=function(){if(this._stateManager.getState().dead)throw new Error("Player is dead.")},y.prototype._notifyStalled=function(e){this._ensureNotDead(),this._stalled!==e&&(this._logger.debug("notifyStalled() called.",e),this._stalled=e,this._stateManager.update())},y.prototype._getQueuedSeekPosition=function(){var e=this.getSeekState();return e&&"IN_PROGRESS"===e.state?e.position:null},y.prototype._provideDuration=function(r){var n=this;this._ensureNotDead(),this._stateManager.update(function(e){if(e.duration!==r){var t=n._getPositionOrPositionSeekingTo();if(r<0||e.ready&&r<t)throw n._triggerError(new p.ImplementationError("Attempt to update duration to an invalid value.")),new Error("Duration cannot be less than the current position.");n._logger.debug("provideDuration() called.",r),e.ready?e.duration=r:n._queuedDuration=r}})},y.prototype._notifyVolumeChange=function(t,r){if(t<0||1<t)throw this._triggerError(new p.ImplementationError("Volume was out of range.",t)),new Error("Volume was out of range.");this._stateManager.update(function(e){e.volume=t,e.muted=r})},y.prototype._notifyPlaying=function(t){var r=this;this._ensureNotDead(),this._stateManager.update(function(e){if(!e.ready)throw r._triggerError(new p.ImplementationError("Attempt to register playback as started before ready.")),new Error("Player must be ready first.");t!==e.actuallyPlaying&&(r._logger.debug("notifyPlaying() called.",t),t||e.seeking||e.stalled||(r._lastPlayedPosition=r._getPositionOrPositionSeekingTo()),(e.actuallyPlaying=e.playing=t)?(r._lastPlayError=null,r._fadeStartAllowed=!0):(e.isFading=!1,r._fadeStartAllowed=!1,r._lastPauseError=null))})},y.prototype._notifyPlayRejection=function(t){var r=this;this._ensureNotDead(),t=t||new Error("Unknown error."),this._stateManager.update(function(e){if(!e.ready)throw r._triggerError(new p.ImplementationError("Attempt to reject a play request before player ready.")),new Error("Player must be ready first.");if(e.actuallyPlaying||!e.playing)throw r._triggerError(new p.ImplementationError("Attempt to reject a play request when not valid.")),new Error("Playing state is incorrect.");r._logger.debug("notifyPlayRejection() called.",t),e.playing=!1,r._lastPlayError=t})},y.prototype._notifyPauseRejection=function(t){var r=this;this._ensureNotDead(),t=t||new Error("Unknown error."),this._stateManager.update(function(e){if(!e.ready)throw r._triggerError(new p.ImplementationError("Attempt to reject pause request before player ready.")),new Error("Player must be ready first.");if(!e.actuallyPlaying||e.playing)throw r._triggerError(new p.ImplementationError("Attempt to reject pause request when not valid.")),new Error("Playing state is incorrect.");r._logger.debug("notifyPauseRejection() called.",t),e.playing=!0,e.fadeRate&&(e.fadeRate*=-1),r._lastPauseError=t})},y.prototype._notifySeekRejection=function(t){var r=this;this._ensureNotDead(),t=t||new Error("Unknown error."),this._stateManager.update(function(e){if(!e.ready)throw r._triggerError(new p.ImplementationError("Attempt to reject seek request before player ready.")),new Error("Player must be ready first.");if(!e.seek||"IN_PROGRESS"!==e.seek.state)throw r._triggerError(new p.ImplementationError("Attempt to reject seek request when none requested.")),new Error("A seek hasn't been requested.");if(null!==e.duration&&e.position>e.duration)throw r._triggerError(new p.ImplementationError("Attempt to reject seek request after duration changed below current position.")),new Error("Attempt to reject seek request after duration changed below current position.");r._logger.debug("notifySeekRejection() called.",t),e.seeking=!1,e.seek={state:"ERROR",error:t},e.positionJumped=Object.create(null)})},y.prototype._notifyFading=function(t){var r=this;if(this._ensureNotDead(),t&&!this._fadeStartAllowed){var e="Attempt to register fade as starting when not allowed.";throw this._triggerError(new p.ImplementationError(e)),new Error(e)}this._implementationIsFading=t,this._stateManager.update(function(e){e.isFading!==t&&(r._logger.debug("notifyFading() called",t),t||e.playing||null===r._positionWhenStartedFadeOut||r.seek(r._positionWhenStartedFadeOut,{fadeInDuration:0,fadeOutDuration:0}).catch(function(e){r._logger.warn("Seek back to position where fade out started failed.",e)}),e.isFading=t)})},y.prototype._notifyFadingForSeek=function(t){var r=this;if(this._ensureNotDead(),t&&!this._seekFadeStartAllowed){var e="Attempt to register fade as starting for seek when not allowed.";throw this._triggerError(new p.ImplementationError(e)),new Error(e)}this._stateManager.update(function(e){e.isFadingForSeek!==t&&(r._logger.debug("notifyFadingForSeek() called",t),e.isFadingForSeek=t)})},y.prototype._signalReady=function(){var t=this;this._ensureNotDead(),this._stateManager.update(function(e){if(e.ready)throw t._triggerError(new p.ImplementationError("Attempt to signal ready twice.")),new Error("Ready already signalled.");if(null===t._queuedDuration)throw t._triggerError(new p.ImplementationError("Attempt to signal ready when duration unknown.")),new Error("Duration is still unknown.");t._logger.debug("signalReady() called."),e.ready=!0,e.duration=t._queuedDuration,e.seek&&"IN_PROGRESS"===e.seek.state&&e.seek.position>e.duration&&(e.seeking=!1,e.seek={state:"ERROR",error:new Error("You were attempting to seek past the end of the media.")})})},y.prototype._signalSeekComplete=function(){var r=this;this._ensureNotDead(),this._stateManager.update(function(e){if(!e.ready)throw r._triggerError(new p.ImplementationError("Attempt to signal seek as complete before player ready.")),new Error("Player must be ready first.");if(!e.seek||"IN_PROGRESS"!==e.seek.state)throw r._triggerError(new p.ImplementationError("Attempt to signal seek as complete when none requested.")),new Error("There shouldn't be a seek in progress.");var t=e.duration;if(e.seek&&"IN_PROGRESS"===e.seek.state&&e.seek.position>t)throw new Error("Seek cannot have completed given it was to a time greater than the duration.");r._logger.debug("signalSeekComplete() called."),r._seekFadeStartAllowed=!0,e.seek={state:"COMPLETED",position:e.seek.position,fadeRate:e.seek.fadeRate},e.seeking=!1,e.position=e.seek.position})},y.prototype._triggerError=function(r){var n=this;r instanceof o.PlayerFatalError&&(this._fatalErrorTriggered=!0),this._stateManager.update(function(e){var t=!1;if(e.ready&&r instanceof i.NotSupportedError&&(r=new p.ImplementationError("Invalid NotSupportedError."),t=!0),r instanceof o.PlayerFatalError?(r instanceof i.NotSupportedError?n._logger.info("NotSupportedError occurred.",r):n._logger.error("Fatal error occurred.",r),e.fatalError?n._logger.warn("A fatal error already occurred.",e.fatalError):e.fatalError=r,n._errors.push(r),e.errorOccurred=Object.create(null),e.dead=!0):(n._logger.warn("Non-fatal error occurred.",r),n._errors.push(r),e.errorOccurred=Object.create(null)),t)throw new Error("Not supported errors are only valid before the player is ready.")})},y.prototype._buildEventHandle=function(n){var e=this;return{subscribe:function(t){function r(e){return t(e,u.now())}return e._stateManager.subscribe(function(e,t){n(r,e,t)})}}},y.prototype._finalizeState=function(e){this._updateEndedInState(e);var t,r=this._getPositionOrPositionSeekingTo();e.dead?(this._lastPlayError=new Error("Player was killed."),e.loading=!1,this._clearLoadingDelay(),!e.playing&&e.isFading&&null!==this._positionWhenStartedFadeOut&&(this._logger.debug("Fade out was in progress. Pretending it completed."),e.isFading=!1,e.position=this._positionWhenStartedFadeOut),e.stalled=!0,e.actuallyPlaying=!1,e.isFadingForSeek=!1,e.playing=!1,e.state=l.State.DEAD):((t=!e.ended&&(!e.ready||this._stalled||!(!e.seek||"IN_PROGRESS"!==e.seek.state)))&&!e.stalled&&!e.seeking&&e.actuallyPlaying&&(this._lastPlayedPosition=r),e.stalled=t,!e.ended&&!e.isFading&&!e.isFadingForSeek&&(e.playing||e.actuallyPlaying)&&(e.stalled||e.playing!==e.actuallyPlaying)?this._loadingDelay?this._scheduleLoadingDelay():e.loading=!0:(e.loading=!1,this._clearLoadingDelay()),this._positionAfterLastUpdate!==r&&(this._positionAfterLastUpdate=r,e.playing||e.actuallyPlaying||(e.positionJumped=Object.create(null))),e.state=this._calculateState(e))},y.prototype._updateEndedInState=function(e){e.ended=e.ready&&this._getPositionOrPositionSeekingTo()===e.duration},y.prototype._scheduleLoadingDelay=function(){var e=this;this._loadingDelayTimer||(this._loadingDelayTimer=window.setTimeout(function(){e._stateManager.update(function(e){return e.loading=!0})},this._loadingDelay))},y.prototype._clearLoadingDelay=function(){this._loadingDelayTimer&&(window.clearTimeout(this._loadingDelayTimer),this._loadingDelayTimer=null)},y.prototype._getPositionOrPositionSeekingTo=function(){this._stateManager.update();var e=this._stateManager.getState();return e.seek&&"IN_PROGRESS"===e.seek.state?e.seek.position:e.isFading&&!e.playing&&null!==this._positionWhenStartedFadeOut?this._positionWhenStartedFadeOut:e.ready&&null!==e.duration?e.position:0},y.prototype._calculateState=function(e){var t=e.dead,r=e.loading,n=e.playing,i=e.ended;return t?l.State.DEAD:r?l.State.LOADING:n&&!i?l.State.PLAYING:l.State.PAUSED},y.prototype._registerMediaSessionActionHandlers=function(){var e=this;this._mediaSessionEnabled&&g&&(g.setActionHandler("play",function(){e.isDead()||e.play()}),g.setActionHandler("pause",function(){e.isDead()||e.pause()}),g.setActionHandler("seekbackward",function(){e.isDead()||e.seek(Math.max(0,e.getPosition()-5e3))}),g.setActionHandler("seekforward",function(){e.isDead()||e.seek(Math.min(e.getDuration()||0,e.getPosition()+5e3))}))},y.prototype._notifyMediaSessionPlaying=function(){this._mediaSessionEnabled&&g&&(g.playbackState="playing")},y.prototype._notifyMediaSessionPaused=function(){this._mediaSessionEnabled&&g&&(g.playbackState="paused")},y.prototype._extractFadeDuration=function(e){return void 0===e&&(e={}),void 0===e.fadeDuration?!this._stateManager.getState().playing||0<this._getPositionOrPositionSeekingTo()?this._defaultFadeDuration:0:0<e.fadeDuration?e.fadeDuration:0},y.prototype._extractSeekFadeDurations=function(e,t){return void 0===e&&(e={}),{fadeOutDuration:void 0!==e.fadeOutDuration?0<e.fadeOutDuration?e.fadeOutDuration:0:this._defaultSeekFadeOutDuration,fadeInDuration:void 0!==e.fadeInDuration?0<e.fadeInDuration?e.fadeInDuration:0:0<t?this._defaultSeekFadeInDuration:0}},y.prototype._afterUpdate=function(e,t){var r;t.beforeUpdate||0<t.update.length?(this._logger.error("Errors occurred during state update. Killing player.",t),this._triggerError(new o.PlayerFatalError("Errors occurred during state update.",t))):e.dead||!e.ready||null!==(r=e.duration)&&!e.seeking&&e.position>r&&(this._logger.error("Player provided invalid position.",e.position,r),this._triggerError(new p.ImplementationError("Player provided a position that was invalid."))),this._finalizeState(e)},y.prototype._afterDispatches=function(){var t=this,e=this._errors;this._errors=[],e.forEach(function(e){return t._onError.dispatch(e)})},y.prototype._onChange=function(e,n){var t,i=this,r=e.ready,o=e.dead,s=e.fatalError,a=e.playing,l=e.actuallyPlaying,A=e.ended;if(!0===r&&(this._logger.debug("Resolving ready deferred."),this._readyDeferred.resolve(void 0)),!0===l&&this._registerMediaSessionActionHandlers(),!0===a?this._notifyMediaSessionPlaying():!1===a&&this._notifyMediaSessionPaused(),n.pauseDeferred&&!n.pauseDeferred.isSettled()&&n.playing&&(t=this._lastPauseError||new Error("Pause request aborted."),this._logger.debug("Rejecting pause deferred.",t),n.pauseDeferred.reject(t)),!n.playDeferred||n.playDeferred.isSettled()||n.playing||(t=this._lastPlayError||new Error("Play request aborted."),this._logger.debug("Rejecting play deferred.",t),n.playDeferred.reject(t)),n.playDeferred&&!n.playDeferred.isSettled()&&n.actuallyPlaying&&(this._logger.debug("Resolving play deferred."),n.playDeferred.resolve(void 0)),!n.pauseDeferred||n.pauseDeferred.isSettled()||n.actuallyPlaying||(this._logger.debug("Resolving pause deferred."),n.pauseDeferred.resolve(void 0)),!0===l&&!n.ended||!1===A&&n.actuallyPlaying?this._timePlaybackStarted=u.now():(!1===l&&!n.ended||!0===A&&n.actuallyPlaying)&&(this._listenTimeBase+=u.now()-this._timePlaybackStarted,this._timePlaybackStarted=null),this._queuedSeekDeferreds=this._queuedSeekDeferreds.filter(function(e){var t=e.position,r=e.deferred;if(n.seek)if("IN_PROGRESS"!==n.seek.state){if(!n.stalled||"ERROR"===n.seek.state)return"ERROR"!==n.seek.state?(i._logger.debug("Resolving seek()."),r.resolve(void 0)):(i._logger.debug("Rejecting seek().",n.seek.error),r.reject(n.seek.error)),!1}else if("IN_PROGRESS"!==n.seek.state||n.seek.position!==t)return i._logger.debug("Rejecting seek() because another seek was requested.",t),r.reject(new Error("Seek request aborted because another seek was requested to a different position.")),!1;return!0}),!0===o){this._logger.debug("Calling _kill() on player.");try{this._kill(),this._logger.info("Player killed.")}catch(e){this._triggerError(new p.ImplementationError("Exception occurred in _kill().",e)),this._logger.error("Exception when implementation was being killed.",e)}n.ready||(t=s||new Error("Player was killed."),this._logger.debug("Rejecting whenReady."),this._readyDeferred.reject(t)),this._queuedSeekDeferreds.forEach(function(e){var t=e.position,r=e.deferred,n=s||new Error("Seek aborted as player killed.");i._logger.debug("Rejecting seek().",t),r.reject(n)}),this._stateManager.kill(),this._logger.debug("Player dead.")}},y);function y(e){var s=this;this._stateManager=new c.StateManager({ended:!1,loading:!1,playing:!1,actuallyPlaying:!1,volume:1,muted:!1,isFading:!1,fadeRate:null,isFadingForSeek:!1,playDeferred:null,pauseDeferred:null,ready:!1,seeking:!1,seek:null,positionJumped:null,stalled:!0,duration:null,dead:!1,state:l.State.PAUSED,fatalError:null,errorOccurred:null,position:0},{afterUpdate:function(e,t){return s._afterUpdate(e,t)},afterDispatches:function(){return s._afterDispatches()},beforeUpdate:function(e){if(!e.dead&&(e.ready||!s._fatalErrorTriggered)){var t=s._getPosition(),r=e.duration;if(t<0)throw s._logger.error("Player provided invalid position.",t,r),s._triggerError(new p.ImplementationError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");e.position=t,s._updateEndedInState(e)}}}),this._onError=new n.EventDispatcher,this._errors=[],this._fatalErrorTriggered=!1,this._loadingDelayTimer=null,this._stalled=!1,this._queuedDuration=null,this._readyDeferred=A.buildDeferred(),this._queuedSeekDeferreds=[],this._lastPlayError=null,this._lastPauseError=null,this._lastPlayedPosition=null,this._listenTimeBase=0,this._timePlaybackStarted=null,this._positionAfterLastUpdate=0,this._positionWhenStartedFadeOut=null,this._fadeStartAllowed=!1,this._seekFadeStartAllowed=!1,this._implementationIsFading=!1;var t=e.name;if(this._logger=h.prefixLogger(e.logger,"BasePlayer"+(t?"-"+t:"")),this._mediaSessionEnabled=!!e.mediaSessionEnabled,e.defaultFadeDuration&&e.defaultFadeDuration<0)throw new Error("defaultFadeDuration must be >= 0.");if(e.loadingDelay&&e.loadingDelay<0)throw new Error("loadingDelay must be >= 0.");this._defaultFadeDuration=void 0!==e.defaultFadeDuration?e.defaultFadeDuration:150,this._defaultSeekFadeOutDuration=void 0!==e.defaultSeekFadeOutDuration?e.defaultSeekFadeOutDuration:25,this._defaultSeekFadeInDuration=void 0!==e.defaultSeekFadeInDuration?e.defaultSeekFadeInDuration:35,this._loadingDelay=void 0!==e.loadingDelay?e.loadingDelay:1e3,this.onError=this._onError.getHandle(),this.whenReady=this._readyDeferred.promise,this._stateManager.subscribe(function(e,t){return s._onChange(e,t)}),this._stateManager.subscribe(function(e){var t=e.actuallyPlaying,r=e.seek;!0===t&&(s._fadeStartAllowed=!1),r&&"IN_PROGRESS"!==r.state&&(s._seekFadeStartAllowed=!1)}),this._stateManager.subscribe(function(e,t){var r=e.isFading;!t.dead&&!1===r&&s._implementationIsFading&&s._triggerError(new p.ImplementationError("Fade was still running when not allowed."))}),this._stateManager.subscribe(function(e,t){var r=e.playing,n=t.dead,i=t.fadeRate;if(!n&&void 0!==r)try{s._handlePlayPauseChange(r,{fadeRate:i||void 0}),r||(s._fadeStartAllowed=!1)}catch(e){s._triggerError(new p.ImplementationError("Exception occurred whilst handling play/pause change.",e))}}),this._stateManager.subscribe(function(e,t){var r=e.seek;if(!t.dead&&r&&"IN_PROGRESS"===r.state)try{s._seekFadeStartAllowed=!0,s._handleSeekChange(r.position,{fadeRate:{beforeSeek:r.fadeRate.beforeSeek||void 0,afterSeek:r.fadeRate.afterSeek||void 0}}),s._seekFadeStartAllowed=!1}catch(e){s._triggerError(new p.ImplementationError("Exception occurred whilst handling seek change.",e))}}),this.onChange=this._buildEventHandle(function(e,t){var r=t.ready;if(void 0!==r&&!0!==r)throw new Error("Ready state is invalid.");var n=t.duration;if(void 0!==n&&null===n)throw new Error("Duration state is invalid.");var i=t.dead;if(void 0!==i&&!0!==i)throw new Error("Dead state is invalid.");var o={ready:r,ended:t.ended,duration:n,volume:t.volume,muted:t.muted,playing:t.playing,actuallyPlaying:t.actuallyPlaying,stalled:t.stalled,loading:t.loading,fading:t.isFading,fadingForSeek:t.isFadingForSeek,playRejection:!1===t.playing&&s._lastPlayError||void 0,pauseRejection:!0===t.playing&&s._lastPauseError||void 0,seeking:t.seeking,seek:t.seek||void 0,positionJumped:void 0!==t.positionJumped||void 0,state:t.state,fatalError:t.fatalError||void 0,dead:i};Object.keys(o).some(function(e){return void 0!==o[e]})&&e(o)});var r=e.registerListeners;r&&d.deferException(function(){r({onChange:s.onChange,onError:s.onError})}),this._registerMediaSessionActionHandlers(),this._notifyMediaSessionPaused(),this.onDurationChange=this._buildEventHandle(function(e,t){var r=t.duration;null!=r&&e(r)}),this.onReady=this._buildEventHandle(function(e,t){!0===t.ready&&e(void 0)}),this.onStateChange=this._buildEventHandle(function(e,t){var r=t.state;void 0!==r&&e(r)}),this.onVolumeChange=this._buildEventHandle(function(e,t,r){var n=t.volume,i=t.muted,o=r.volume,s=r.muted;void 0===n&&void 0===i||e({volume:o,muted:s})}),this.onPlay=this._buildEventHandle(function(e,t){!0===t.actuallyPlaying&&e(void 0)}),this.onPlayIntent=this._buildEventHandle(function(e,t){!0===t.playing&&e(void 0)}),this.onPlayRejection=this._buildEventHandle(function(e,t){!1===t.playing&&s._lastPlayError&&e(s._lastPlayError)}),this.onPause=this._buildEventHandle(function(e,t){!1===t.actuallyPlaying&&e(void 0)}),this.onPauseIntent=this._buildEventHandle(function(e,t){!1===t.playing&&e(void 0)}),this.onPauseRejection=this._buildEventHandle(function(e,t){!0===t.playing&&s._lastPauseError&&e(s._lastPauseError)}),this.onSeek=this._buildEventHandle(function(e,t){var r=t.seek;r&&"COMPLETED"===r.state&&e(void 0)}),this.onSeekIntent=this._buildEventHandle(function(e,t){!0===t.seeking&&e(void 0)}),this.onSeekRejection=this._buildEventHandle(function(e,t){var r=t.seek;r&&"ERROR"===r.state&&e(r.error)}),this.onPositionJumped=this._buildEventHandle(function(e,t){void 0!==t.positionJumped&&e(void 0)}),this.onEnded=this._buildEventHandle(function(e,t){!0===t.ended&&e(void 0)}),this.onLeftEnded=this._buildEventHandle(function(e,t){!1===t.ended&&e(void 0)}),this.onStallStart=this._buildEventHandle(function(e,t){!0===t.stalled&&e(void 0)}),this.onStallEnd=this._buildEventHandle(function(e,t){!1===t.stalled&&e(void 0)}),this.onLoadStart=this._buildEventHandle(function(e,t){!0===t.loading&&e(void 0)}),this.onLoadEnd=this._buildEventHandle(function(e,t){!1===t.loading&&e(void 0)}),this.onFadeStart=this._buildEventHandle(function(e,t){!0===t.isFading&&e(void 0)}),this.onFadeEnd=this._buildEventHandle(function(e,t){!1===t.isFading&&e(void 0)}),this.onFadeForSeekStart=this._buildEventHandle(function(e,t){!0===t.isFadingForSeek&&e(void 0)}),this.onFadeForSeekEnd=this._buildEventHandle(function(e,t){!1===t.isFadingForSeek&&e(void 0)})}t.BasePlayer=m},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s,a=r(34),A=r(11),u=r(5),l=r(12),h=r(6),c=r(28),p=r(16),d=(s=a.BasePlayer,i(f,s),f.prototype.play=function(e){return this._playConfig=e,s.prototype.play.call(this)},f.prototype.pause=function(e){return this._pauseConfig=e,s.prototype.pause.call(this)},f.prototype.seek=function(e,t){return this._seekConfig=t,s.prototype.seek.call(this,e)},f.prototype.getBufferedTimeRanges=function(){return this._player&&this._synced?this._player.getBufferedTimeRanges():null},f.prototype.getCurrentBufferedTimeRange=function(){return this._player&&this._synced?this._player.getCurrentBufferedTimeRange():null},f.prototype.getMaxBufferLength=function(){return this._player&&this._synced?this._player.getMaxBufferLength():null},f.prototype._providePlayer=function(e,t){if(void 0===t&&(t={}),t=o({syncPosition:!0,syncVolume:!0},t),this._ensureNotDead(),this._player)throw new Error("A player has already been provided.");this._logger.debug("providePlayer() called."),this._instanceLock=Object.create(null),this._player=e,this._sync(t)},f.prototype._removePlayer=function(){var t=this;if(this._ensureNotDead(),!this._player)throw new Error("There is no player to remove.");if(this._unsyncInProgress)throw new Error("Player is currently unsyncing.");this._logger.debug("removePlayer() called."),this._instanceLock=null,this._unsync(),this._player=null,this.isReady()&&!this.isDead()&&this._update(function(){var e=null!==t._getQueuedSeekPosition();t._notifyFading(!1),e||null===t._getQueuedSeekPosition()||t._signalSeekComplete(),t._notifyFadingForSeek(!1),t._notifyStalled(!0)})},f.prototype._setInitialDuration=function(e){var t=this;if(this._ensureNotDead(),e<0)throw new Error("Cannot set duration to a value < 0.");null===this.getDuration()&&this._update(function(){t._ensureBelowPosition(e),t._provideDuration(e),t.isReady()||(t._signalReady(),t._handleSkippedSeek())})},f.prototype._triggerError=function(e){s.prototype._triggerError.call(this,e)},f.prototype._getPlayer=function(){return this.isDead()?null:this._player},f.prototype._handleVolumeChange=function(e,t){this._synced&&this._player?this._player.setVolume(e,t):this._notifyVolumeChange(e,t)},f.prototype._handlePlayPauseChange=function(e){var t=this,r=this._player;r&&this._update(function(){e?t._playAndHandleAbort(r):(t._pauseAndHandleAbort(r),r.isFading()&&t._notifyFading(!0))})},f.prototype._handleSeekChange=function(e){var t,r=this._player;r&&this._synced&&(t=this._seekConfig,this._seekConfig=void 0,r.seek(e,t),r.isFadingForSeek()&&this._notifyFadingForSeek(!0))},f.prototype._getPosition=function(){if(this._player&&this._synced){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._synced)return this._player.getPosition()}return this._lastPlayerPosition},f.prototype._kill=function(){this._player&&(this._unsync(),this._player.kill()),this._player=null},f.prototype._handleSkippedSeek=function(){var e,t;this._player&&this._synced&&(e=this.getSeekState(),t=this._player.getSeekState(),!e||"IN_PROGRESS"!==e.state||t&&"IN_PROGRESS"===t.state||(this._logger.debug("Signalling seek as complete on proxy because provided player isn't seeking."),this._signalSeekComplete()))},f.prototype._ensureBelowPosition=function(e){this.getPosition()>e&&(this._logger.debug("Capping position.",e),this.seek(e),this.isReady()&&(this._lastPlayerPosition=e,this._signalSeekComplete()))},f.prototype._sync=function(s){var e,a=this,l=this._player;if(!l)throw new Error("Player should have become available by now.");this._logger.debug("Syncing...",this.isPlaying(),this.isActuallyPlaying()),l.isDead()?(this._logger.debug("Provided player is dead."),(e=l.getFatalError())&&this._handleFatalError(e,l)):(this._errorHandler=l.onError.subscribe(function(e){e instanceof u.PlayerFatalError?a._onProvidedPlayerError.dispatch(new p.ProxyProvidedPlayerFatalError(e,l)):(a._triggerError(e),a._onProvidedPlayerError.dispatch(new c.ProxyProvidedPlayerError(e,l)))}),this._changeHandler=l.onChange.subscribe(function(t){a._update(function(){return a._logger.debug("Handling changes.",t),t.dead?(a._logger.debug("Player has gone to DEAD state."),a._unsync(),void(a.isDead()||t.fatalError&&a._handleFatalError(t.fatalError,l))):(void 0===t.volume&&void 0===t.muted||a._notifyVolumeChange(l.getVolume(),l.getMuted()),void 0!==t.duration&&(a._ensureBelowPosition(t.duration),a._provideDuration(t.duration),a.isReady()||(a._signalReady(),a._handleSkippedSeek(),a._notifyStalled(l.isStalled()))),t.seek&&((e=a.getSeekState())&&"IN_PROGRESS"===e.state||"IN_PROGRESS"!==t.seek.state?e&&"IN_PROGRESS"===e.state&&("COMPLETED"===t.seek.state&&e.position===t.seek.position?(a._signalSeekComplete(),l.isFadingForSeek()&&a._notifyFadingForSeek(!0)):"COMPLETED"===t.seek.state&&e.position!==t.seek.position?a._notifySeekRejection(new Error("Another seek occurred to a different position.")):"IN_PROGRESS"===t.seek.state&&e.position!==t.seek.position?a.seek(t.seek.position):"ERROR"===t.seek.state&&a._notifySeekRejection(t.seek.error)):a.seek(t.seek.position)),void 0!==t.stalled&&a._notifyStalled(t.stalled),!1===t.playing&&t.playRejection?a.isActuallyPlaying()?(a._triggerError(new A.PlayerError("Paused because a player was provided that refused to play.")),a._notifyPlaying(!1)):a._notifyPlayRejection(t.playRejection):!1===t.playing&&(l.isActuallyPlaying()?a.pause():void 0===t.actuallyPlaying&&a.isReady()&&a._notifyPlaying(!1)),!0===t.playing&&t.pauseRejection?a._notifyPauseRejection(t.pauseRejection):!0===t.playing&&a.play(),void 0!==t.actuallyPlaying&&t.actuallyPlaying!==a.isActuallyPlaying()&&(a._notifyPlaying(t.actuallyPlaying),t.actuallyPlaying&&l.isFading()&&a._notifyFading(!0)),!1===t.fading&&a._notifyFading(!1),void(!1===t.fadingForSeek&&a._notifyFadingForSeek(!1)));var e})}),this._update(function(){var e,t=a._instanceLock;try{if(a._notifyStalled(l.isStalled()),l.isReady()&&(e=l.getDuration(),a._ensureBelowPosition(e),a._provideDuration(e),a.isReady()||(a._logger.debug("Provided player is already ready. Making proxy player ready."),a._signalReady())),s.syncVolume&&(l.setVolume(a.getVolume(),a.getMuted()),a._instanceLock!==t))return;var r,n,i,o=a.getSeekState();if(s.syncPosition?(a._logger.debug("Seeking to match position."),r=a.getPosition(),l.getPosition()!==r?l.seek(r):(a._logger.debug("Skipping seek because already at same position."),a.isReady()&&o&&"IN_PROGRESS"===o.state&&a._signalSeekComplete())):o&&"IN_PROGRESS"===o.state?(a._logger.debug("Seeking to match position because a seek has been queued."),n=a._seekConfig,a._seekConfig=void 0,l.seek(a.getPosition(),n)):(i=l.getSeekState())&&"IN_PROGRESS"===i.state&&(a._logger.debug("Seeking on proxy to match seek that is in progress on provided player."),a.seek(i.position)),a._instanceLock!==t)return;if(l.isActuallyPlaying()?(a._logger.debug("Provided player is already playing."),a.isActuallyPlaying()||(a._notifyPlaying(!0),l.isFading()&&a._notifyFading(!0))):l.isPlaying()?(a._logger.debug("Provided player is preparing to play."),a.play()):a.isPlaying()?(a._logger.debug("Calling play() on provided player to match proxy."),a._playAndHandleAbort(l)):a.isReady()&&a.isActuallyPlaying()&&(a._logger.debug("Switching to paused state, as provided player and proxy intended state is paused."),a._notifyPlaying(!1)),a._instanceLock!==t)return;a._synced=!0,a._notifyVolumeChange(l.getVolume(),l.getMuted())}catch(e){a._triggerError(new u.PlayerFatalError("Unexpected error occurred whilst syncing.",e))}}))},f.prototype._playAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling play() on provided player.");var r=this._playConfig;this._playConfig=this._pauseConfig=void 0,e.play(r),this._instanceLock===t&&!e.isPlaying()&&this.isPlaying()&&(this._logger.debug("Provided player was not playing after play() call completed."),this.isActuallyPlaying()?(this._triggerError(new A.PlayerError("Paused because a player was provided that refused to play.")),this._notifyPlaying(!1)):this.pause())},f.prototype._pauseAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling pause() on provided player.");var r=this._pauseConfig;this._playConfig=this._pauseConfig=void 0,e.pause(r),this._instanceLock===t&&e.isPlaying()&&!this.isPlaying()&&(this._logger.debug("Provided player was not paused after pause() call completed."),this.play())},f.prototype._unsync=function(){if(this._logger.debug("Unsyncing..."),this._changeHandler&&(this._changeHandler.remove(),this._changeHandler=null),this._errorHandler&&(this._errorHandler.remove(),this._errorHandler=null),this._synced){this._synced=!1,this._unsyncInProgress=!0;var e=this._player;if(e)try{this._lastPlayerPosition=e.getPosition()}catch(e){this._logger.error("Error whilst unsyncing.",e)}this._unsyncInProgress=!1,this._logger.debug("Unsynced.",this.isPlaying(),this.isActuallyPlaying())}else this._logger.debug("Unsynced. (Sync never completed)")},f);function f(e){var t=s.call(this,e)||this;return t._onProvidedPlayerError=new h.EventDispatcher,t._errorHandler=null,t._changeHandler=null,t._player=null,t._instanceLock=null,t._playConfig=void 0,t._pauseConfig=void 0,t._seekConfig=void 0,t._lastPlayerPosition=0,t._synced=!1,t._unsyncInProgress=!1,t._logger=l.prefixLogger(t._logger,"ProxyPlayerBase"),t.onProvidedPlayerError=t._onProvidedPlayerError.getHandle(),t}t.ProxyPlayerBase=d},function(e,t,r){"use strict";function n(e){var t=navigator.userAgent.match(e);if(t&&3<=t.length){var r=parseInt(t[1],10),n=parseInt(t[2],10);if(!isNaN(r)&&!isNaN(n))return{major:r,minor:n}}return null}Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof navigator?navigator.userAgent:"",o=!/chrome|opera/i.test(i)&&/safari/i.test(i),s=0<=i.indexOf("MSIE ")||0<=i.indexOf("Trident/"),a=0<=i.indexOf("Edge/"),l=/Chrom(?:e|ium)/.test(i),A=0<=i.toLowerCase().indexOf("firefox"),u=/version\/(\d+)\.(\d+)/i,h=/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)/,c=/Firefox\/(\d+)\.(\d+)/;t.isSafari=function(){return o},t.isFirefox=function(){return A},t.isChrome=function(){return l},t.isIE=function(){return s},t.isEdge=function(){return a},t.getSafariVersion=function(){return n(u)},t.getChromeVersion=function(){return n(h)},t.getFirefoxVersion=function(){return n(c)}},function(e,h,t){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var c=t(8),p=t(13),d=t(18),f=t(3),l=t(6);h.abortedError=new Error("Job aborted."),h.map=function(e,t){var o=t.convertResult,s=t.convertProgressUpdate,r=t.abortableJobOpts,n=t.passThroughAbort,a=void 0===n||n;return new i(function(){var r=e(),t=new l.EventDispatcher,n=!0,i=p.buildDeferred();return s&&r.onProgressUpdate(function(e){t.dispatch(s(e,n)),n=!1},{skipPast:!0}),r.onCompletion(function(e){try{i.resolve(o(e))}catch(e){i.reject(e)}}),r.onError(i.reject),{result:i.promise,progressUpdates:s?{onProgressUpdate:t,getProgressSoFar:function(){var e=r.getProgressSoFar();if(e){var t=s(e,n);return n=!1,t}return null}}:void 0,abort:function(){return a&&r.abort()}}},r)};var i=(r.prototype.run=function(){var i,e=this;if(this._jobControl)i=this._jobControl;else{try{i=this._jobControl=this._job()}catch(e){i=this._jobControl={result:c.Promise.reject(e)}}this._promise=i.result,d.always(this._promise,function(){e._jobCompleted=!0,e._opts.storeResult||(e._jobCompleted=!1,e._promise=null,e._jobControl=null)})}var t=this._promise;this._counter++;var r=p.buildDeferred(),o=!1,n=!1,s=void 0,a=!1,l=[],A=[],u=[];return d.always(t,function(){a||(o=!0,e._counter--),l.forEach(function(e){return e.remove()})}),t.then(function(t){a||(s=t,A.forEach(function(e){return f.deferException(function(){return e(t)})}),A.splice(0),r.resolve(t))},function(t){a||(n=!0,s=t,u.forEach(function(e){return e(t)}),u.splice(0),r.reject(t))}),{whenComplete:function(){return r.promise},onProgressUpdate:function(t,e){var r,n;void 0===e&&(e={}),i.progressUpdates&&(a||o||(r=i.progressUpdates.onProgressUpdate.subscribe(function(e){return t(e)}),l.push(r)),e.skipPast||(n=i.progressUpdates.getProgressSoFar())&&t(n))},getProgressSoFar:function(){return i.progressUpdates?i.progressUpdates.getProgressSoFar():null},onCompletion:function(e){o?n||f.deferException(function(){return e(s)}):A.push(e)},onError:function(e){a?f.deferException(function(){return e(h.abortedError)}):o?n&&f.deferException(function(){return e(s)}):u.push(e)},hasCompleted:function(){return o},hasErrored:function(){return n},isAborted:function(){return a},abort:function(){a||o||(a=!0,l.forEach(function(e){return e.remove()}),0==--e._counter&&!e._jobCompleted&&e._jobControl&&e._jobControl.abort&&(e._jobControl.abort(),e._promise=null,e._jobControl=null),u.forEach(function(e){return f.deferException(function(){return e(h.abortedError)})}),r.reject(h.abortedError))}}},r);function r(e,t){void 0===t&&(t={}),this._job=e,this._opts=t,this._counter=0,this._jobControl=null,this._promise=null,this._jobCompleted=!1}h.AbortableJob=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.normalizeRawTimeRanges=function(e){return e.slice(0).sort(function(e,t){return e.start-t.start}).reduce(function(e,t,r){var n=e.length-1;return 0<r&&e[n].end>=t.start?e[n].end=t.end:e.push(t),e},[])},i.normalize=function(e){return i.normalizeRawTimeRanges(e.map(function(e){return{start:e.start,end:e.end}})).map(function(e){return new i(e.start,e.end-e.start)})},i.getCoverage=function(e){if(0===e.length)return new i(0,0);var t=1/0,r=0;return e.forEach(function(e){e.start<t&&(t=e.start),e.end>r&&(r=e.end)}),new i(t,r-t)},i.rangesContainTime=function(t,e){return e.some(function(e){return e.containsTime(t)})},i.prototype.containsTime=function(e){return this.start<=e&&this.end>e},i);function i(e,t){if(this.start=e,(this.duration=t)<0)throw new RangeError("Duration must be >= 0.");this.end=e+t}t.TimeRange=n},function(e,t,r){"use strict";e.exports="function"==typeof WeakMap&&"[object WeakMap]"===Object.prototype.toString.call(new WeakMap)},function(e,t,r){"use strict";var h=r(10),c=r(1),p=r(9),d=r(21),f=Array.isArray,g=Function.prototype.call,m=Array.prototype.some;e.exports=function(e,t){var r,n,i,o,s,a,l,A,u=arguments[2];if(f(e)||h(e)?r="array":p(e)?r="string":e=d(e),c(t),i=function(){o=!0},"array"!==r)if("string"!==r)for(n=e.next();!n.done;){if(g.call(t,u,n.value,i),o)return;n=e.next()}else for(a=e.length,s=0;s<a&&(l=e[s],s+1<a&&(55296<=(A=l.charCodeAt(0))&&A<=56319&&(l+=e[++s])),g.call(t,u,l,i),!o);++s);else m.call(e,function(e){return g.call(t,u,e,i),o})}},function(e,t,r){"use strict";var n=r(10),i=r(4),o=r(9),s=r(2).iterator,a=Array.isArray;e.exports=function(e){return!(!i(e)||!a(e)&&!o(e)&&!n(e)&&"function"!=typeof e[s])}},function(e,t,r){"use strict";var n=r(41);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not iterable");return e}},function(e,t,r){"use strict";var n=r(15),i=r(7),o=r(2),s=r(20),a=Object.defineProperty,l=e.exports=function(e){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");e=String(e),s.call(this,e),a(this,"__length__",i("",e.length))};n&&n(l,s),delete l.prototype.constructor,l.prototype=Object.create(s.prototype,{_next:i(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:i(function(e){var t,r=this.__list__[e];return this.__nextIndex__===this.__length__?r:55296<=(t=r.charCodeAt(0))&&t<=56319?r+this.__list__[this.__nextIndex__++]:r})}),a(l.prototype,o.toStringTag,i("c","String Iterator"))},function(e,t,r){"use strict";var a=r(1),l=r(0),A=Function.prototype.bind,u=Function.prototype.call,h=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(o,s){return function(r,n){var e,i=arguments[2],t=arguments[3];return r=Object(l(r)),a(n),e=h(r),t&&e.sort("function"==typeof t?A.call(t,r):void 0),"function"!=typeof o&&(o=e[o]),u.call(o,e,function(e,t){return c.call(r,e)?u.call(n,i,r[e],e,r,t):s})}}},function(e,t,r){"use strict";e.exports=r(44)("forEach")},function(e,t,r){"use strict";var n=r(1),a=r(45),l=Function.prototype.call;e.exports=function(e,i){var o={},s=arguments[2];return n(i),a(e,function(e,t,r,n){o[t]=l.call(i,s,e,t,r,n)}),o}},function(e,t,r){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:0<e?1:-1}},function(e,t,r){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&1===e(10)&&-1===e(-20)}},function(e,t,r){"use strict";e.exports=r(48)()?Math.sign:r(47)},function(e,t,r){"use strict";var n=r(49),i=Math.abs,o=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?n(e)*o(i(e)):e}},function(e,t,r){"use strict";var n=r(50),i=Math.max;e.exports=function(e){return i(0,n(e))}},function(e,t,r){"use strict";var n=Object.prototype.toString,i=n.call(r(24));e.exports=function(e){return"function"==typeof e&&n.call(e)===i}},function(e,t,r){"use strict";var p=r(2).iterator,d=r(10),f=r(52),g=r(51),m=r(1),y=r(0),v=r(4),_=r(9),E=Array.isArray,w=Function.prototype.call,b={configurable:!0,enumerable:!0,writable:!0,value:null},B=Object.defineProperty;e.exports=function(e){var t,r,n,i,o,s,a,l,A,u,h=arguments[1],c=arguments[2];if(e=Object(y(e)),v(h)&&m(h),this&&this!==Array&&f(this))t=this;else{if(!h){if(d(e))return 1!==(o=e.length)?Array.apply(null,e):((i=new Array(1))[0]=e[0],i);if(E(e)){for(i=new Array(o=e.length),r=0;r<o;++r)i[r]=e[r];return i}}i=[]}if(!E(e))if(void 0!==(A=e[p])){for(a=m(A).call(e),t&&(i=new t),l=a.next(),r=0;!l.done;)u=h?w.call(h,c,l.value,r):l.value,t?(b.value=u,B(i,r,b)):i[r]=u,l=a.next(),++r;o=r}else if(_(e)){for(o=e.length,t&&(i=new t),n=r=0;r<o;++r)u=e[r],r+1<o&&(55296<=(s=u.charCodeAt(0))&&s<=56319&&(u+=e[++r])),u=h?w.call(h,c,u,n):u,t?(b.value=u,B(i,n,b)):i[n]=u,++n;o=n}if(void 0===o)for(o=g(e.length),t&&(i=new t(o)),r=0;r<o;++r)u=h?w.call(h,c,e[r],r):e[r],t?(b.value=u,B(i,r,b)):i[r]=u;return t&&(b.value=null,i.length=o),i}},function(e,t,r){"use strict";e.exports=function(){var e,t,r=Array.from;return"function"==typeof r&&(t=r(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},function(e,t,r){"use strict";e.exports=r(54)()?Array.from:r(53)},function(e,t,r){"use strict";var o=r(55),s=r(14),a=r(0);e.exports=function(t){var e=Object(a(t)),r=arguments[1],n=Object(arguments[2]);if(e!==t&&!r)return e;var i={};return r?o(r,function(e){(n.ensure||e in t)&&(i[e]=t[e])}):s(i,t),i}},function(e,t,r){"use strict";var o=r(56),n=r(23),i=r(1),s=r(46),a=r(1),l=r(0),A=Function.prototype.bind,u=Object.defineProperty,h=Object.prototype.hasOwnProperty,c=function(e,t,r){var n=l(t)&&a(t.value),i=o(t);return delete i.writable,delete i.value,i.get=function(){return!r.overwriteDefinition&&h.call(this,e)?n:(t.value=A.call(n,r.resolveContext?r.resolveContext(this):this),u(this,e,t),this[e])},i};e.exports=function(e){var r=n(arguments[1]);return null!=r.resolveContext&&i(r.resolveContext),s(e,function(e,t){return c(t,e,r)})}},function(e,t,r){"use strict";var n=r(0);e.exports=function(){return n(this).length=0,this}},function(e,t,r){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&"Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag])}},function(e,t,r){"use strict";var n=r(59);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t,r){"use strict";var n,i,o,s=r(7),a=r(60),l=Object.create,A=Object.defineProperties,u=Object.defineProperty,h=Object.prototype,c=l(null);if("function"==typeof Symbol){n=Symbol;try{String(n()),o=!0}catch(e){}}var p,d=(p=l(null),function(e){for(var t,r,n=0;p[e+(n||"")];)++n;return p[e+=n||""]=!0,u(h,t="@@"+e,s.gs(null,function(e){r||(r=!0,u(this,t,s(e)),r=!1)})),t}),f=function(e){if(this instanceof f)throw new TypeError("Symbol is not a constructor");return i(e)};e.exports=i=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return o?n(t):(r=l(f.prototype),t=void 0===t?"":String(t),A(r,{__description__:s("",t),__name__:s("",d(t))}))},A(i,{for:s(function(e){return c[e]?c[e]:c[e]=i(String(e))}),keyFor:s(function(e){var t;for(t in a(e),c)if(c[t]===e)return t}),hasInstance:s("",n&&n.hasInstance||i("hasInstance")),isConcatSpreadable:s("",n&&n.isConcatSpreadable||i("isConcatSpreadable")),iterator:s("",n&&n.iterator||i("iterator")),match:s("",n&&n.match||i("match")),replace:s("",n&&n.replace||i("replace")),search:s("",n&&n.search||i("search")),species:s("",n&&n.species||i("species")),split:s("",n&&n.split||i("split")),toPrimitive:s("",n&&n.toPrimitive||i("toPrimitive")),toStringTag:s("",n&&n.toStringTag||i("toStringTag")),unscopables:s("",n&&n.unscopables||i("unscopables"))}),A(f.prototype,{constructor:s(i),toString:s("",function(){return this.__name__})}),A(i.prototype,{toString:s(function(){return"Symbol ("+a(this).__description__+")"}),valueOf:s(function(){return a(this)})}),u(i.prototype,i.toPrimitive,s("",function(){var e=a(this);return"symbol"==typeof e?e:e.toString()})),u(i.prototype,i.toStringTag,s("c","Symbol")),u(f.prototype,i.toStringTag,s("c",i.prototype[i.toStringTag])),u(f.prototype,i.toPrimitive,s("c",i.prototype[i.toPrimitive]))},function(e,t,r){"use strict";var n={object:!0,symbol:!0};e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(e){return!1}return!!n[typeof Symbol.iterator]&&!!n[typeof Symbol.toPrimitive]&&!!n[typeof Symbol.toStringTag]}},function(e,t,r){"use strict";var n=r(15),i=r(22),o=r(7),s=r(2),a=r(20),l=Object.defineProperty,A=e.exports=function(e,t){if(!(this instanceof A))throw new TypeError("Constructor requires 'new'");a.call(this,e),t=t?i.call(t,"key+value")?"key+value":i.call(t,"key")?"key":"value":"value",l(this,"__kind__",o("",t))};n&&n(A,a),delete A.prototype.constructor,A.prototype=Object.create(a.prototype,{_resolve:o(function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e})}),l(A.prototype,s.toStringTag,o("c","Array Iterator"))},function(e,t,r){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return-1<n.call(this,e,arguments[1])}},function(e,t,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(e,t,r){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,r){"use strict";var n=r(4),i=Object.keys;e.exports=function(e){return i(n(e)?Object(e):e)}},function(e,t,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,r){"use strict";e.exports=r(68)()?Object.keys:r(67)},function(e,t,r){"use strict";var s=r(69),a=r(0),l=Math.max;e.exports=function(t,r){var n,e,i,o=l(arguments.length,2);for(t=Object(a(t)),i=function(e){try{t[e]=r[e]}catch(e){n=n||e}},e=1;e<o;++e)s(r=arguments[e]).forEach(i);if(void 0!==n)throw n;return t}},function(e,t,r){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,r){"use strict";var n=Object.create(null),i=Math.random;e.exports=function(){for(var e;e=i().toString(36).slice(2),n[e];);return e}},function(e,t,r){"use strict";var n=r(25);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not an Object");return e}},function(e,t,r){"use strict";var n,i,o,s,a=Object.create;r(27)()||(n=r(26)),e.exports=!n||1!==n.level?a:(s={configurable:!(o={}),enumerable:!(i={}),writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){return"__proto__"===e?void(o[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0}):void(o[e]=s)}),Object.defineProperties(i,o),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:i}),function(e,t){return a(null===e?i:e,t)})},function(e,t,r){"use strict";var n,i=r(15),o=r(73),s=r(0),a=r(72),l=r(7),A=r(21),u=r(40),h=r(2).toStringTag,c=r(39),p=Array.isArray,d=Object.defineProperty,f=Object.prototype.hasOwnProperty,g=Object.getPrototypeOf;e.exports=n=function(){var t,e=arguments[0];if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");return t=c&&i&&WeakMap!==n?i(new WeakMap,g(this)):this,null!=e&&(p(e)||(e=A(e))),d(t,"__weakMapData__",l("c","$weakMap$"+a())),e&&u(e,function(e){s(e),t.set(e[0],e[1])}),t},c&&(i&&i(n,WeakMap),n.prototype=Object.create(WeakMap.prototype,{constructor:l(n)})),Object.defineProperties(n.prototype,{delete:l(function(e){return!!f.call(o(e),this.__weakMapData__)&&(delete e[this.__weakMapData__],!0)}),get:l(function(e){if(f.call(o(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:l(function(e){return f.call(o(e),this.__weakMapData__)}),set:l(function(e,t){return d(o(e),this.__weakMapData__,l("c",t)),this}),toString:l(function(){return"[object WeakMap]"})}),d(n.prototype,h,l("c","WeakMap"))},function(e,t,r){"use strict";e.exports=function(){var e,t;if("function"!=typeof WeakMap)return!1;try{e=new WeakMap([[t={},"one"],[{},"two"],[{},"three"]])}catch(e){return!1}return"[object WeakMap]"===String(e)&&"function"==typeof e.set&&e.set({},1)===e&&"function"==typeof e.delete&&"function"==typeof e.has&&"one"===e.get(t)}},function(e,t,r){"use strict";e.exports=r(76)()?WeakMap:r(75)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(77),i=(o.prototype.get=function(e){return this._map.get(e)},o.prototype.set=function(e,t){this._map.set(e,t)},o.prototype.has=function(e){return this._map.has(e)},o.prototype.delete=function(e){return this._map.delete(e)},o);function o(){this._map=new n}t.SCWeakMap=i},function(e,t,r){var n,u,i,o,h;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,u=/^([^\/?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,h={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=h.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=h.normalizePath(n.path),h.buildURLFromParts(n)}var i=h.parseURL(t);if(!i)throw new Error("Error trying to parse relative URL.");if(i.scheme)return r.alwaysNormalize?(i.path=h.normalizePath(i.path),h.buildURLFromParts(i)):t;var o,s=h.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");!s.netLoc&&s.path&&"/"!==s.path[0]&&(o=u.exec(s.path),s.netLoc=o[1],s.path=o[2]),s.netLoc&&!s.path&&(s.path="/");var a,l,A={scheme:s.scheme,netLoc:i.netLoc,path:null,params:i.params,query:i.query,fragment:i.fragment};return i.netLoc||(A.netLoc=s.netLoc,"/"===i.path[0])||(i.path?(l=(a=s.path).substring(0,a.lastIndexOf("/")+1)+i.path,A.path=h.normalizePath(l)):(A.path=s.path,i.params||(A.params=s.params,i.query||(A.query=s.query)))),null===A.path&&(A.path=r.alwaysNormalize?h.normalizePath(i.path):i.path),h.buildURLFromParts(A)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(79),i=/^.*\.([^\.;\?#]*).*$/;t.getExtension=function(e){var t=i.exec(e);return t?t[1].toLowerCase():null},t.buildAbsoluteUrl=function(e,t){return n.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combine=function(e){var t=new Uint8Array(e.reduce(function(e,t){return e+t.byteLength},0)),r=0;return e.forEach(function(e){t.set(e,r),r+=e.byteLength}),t},t.fill=function(e,t){if(Uint8Array.prototype.fill)e.fill(t);else for(var r=0;r<e.length;r++)e[r]=t},t.forEach=function(e,t){if(Uint8Array.prototype.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r],r)},t.numberToUint8Array=function(e,t){if(void 0===t&&(t=!1),(e=Math.round(e))<0)throw new Error("Negative numbers not supported.");for(var r=Math.max(1,Math.ceil(Math.log(e+1)/Math.log(2)/8)),n=new Uint8Array(r),i=0;i<r;i++)n[t?i:r-1-i]=255&e,e>>>=8;return n},t.createVintBuffer=function(e){if(e<0||e>Math.pow(2,53))throw new Error("Unrepresentable value: "+e);for(var t=1;t<=8&&!(e<Math.pow(2,7*t)-1);t++);for(var r=new Uint8Array(t),n=1;n<=t;n++){var i=255&e;e-=r[t-n]=i,e/=Math.pow(2,8)}return r[0]|=1<<8-t,r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compact=function(e){return e.filter(function(e){return null!=e})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(8),a=r(18);t.promiseWithTimeout=function(n,i,o){return void 0===o&&(o=new Error("Timed out.")),new s.Promise(function(e,t){var r=window.setTimeout(function(){t(o)},i);a.always(n,function(e){return window.clearTimeout(r),e}).then(e,t)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),i="undefined"!=typeof window&&"Map"in window;t.buildCache=function(){return i?new window.Map:new o};var o=(s.prototype.set=function(t,e){var r=n.find(this._store,function(e){return e.key===t});r?r.val=e:this._store.push({key:t,val:e})},s.prototype.get=function(t){var e=n.find(this._store,function(e){return e.key===t});if(e)return e.val},s);function s(){this._store=[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=r(3);t.retry=function(n,e,i){void 0===i&&(i={});var o=null,s=0,a=!1,l=null,A=function(){var r=!1;l=e({attemptNum:s,scheduleRetry:function(){if(r)throw new Error("scheduleRetry() already called.");if(r=!0,l=null,a)return!1;var e=n(++s);if(null!==e)return o=window.setTimeout(A,e),!0;var t=i.onNoMoreRetries;return t&&u.deferException(function(){return t()}),!1}})||null};return A(),{cancel:function(){a||(a=!0,o&&(window.clearTimeout(o),o=null),l&&l.onCancel())}}},t.buildExponentialDelayCalculator=function(e){var t=void 0===e?{}:e,r=t.timeBase,n=void 0===r?500:r,i=t.threshold,o=void 0===i?3:i,s=t.delayCap,a=void 0===s?45e3:s,l=t.jitter,A=void 0===l?200:l,u=t.maxAttempts,h=void 0===u?null:u;if(n<=0)throw new Error("Time base must be > 0.");if(o<=0)throw new Error("Threshold must be > 0.");if(null!==a&&a<=0)throw new Error("Delay cap must be null or > 0.");if(null!==h&&h<1)throw new Error("Max attempts must be >= 1.");return function(e){if(null!==h&&h<=e)return null;var t=0<e?Math.pow(2,e/o-1):0;return Math.min(t*n,a||1/0)+Math.round(Math.random()*A)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,o,s,a,l,A=r(13),u=r(37),h=r(85),c=r(30),p=r(17),d=r(84),f=r(19),g=r(8),m=r(83),y=r(18),v=r(82),_=r(81),E=r(3),w=r(36),b=r(80),B=r(78);(n=t.helpers||(t.helpers={})).OnExit=c.OnExit,n.find=p.find,n.Promise=g.Promise,n.promiseWithTimeout=m.promiseWithTimeout,n.always=y.always,n.compact=v.compact,n.deferException=E.deferException,n.SCWeakMap=B.SCWeakMap,(n.cache||(n.cache={})).buildCache=d.buildCache,(n.deferred||(n.deferred={})).buildDeferred=A.buildDeferred,(i=n.url||(n.url={})).getExtension=b.getExtension,i.buildAbsoluteUrl=b.buildAbsoluteUrl,(o=n.abortableJob||(n.abortableJob={})).AbortableJob=u.AbortableJob,o.map=u.map,o.abortedError=u.abortedError,(s=n.retry||(n.retry={})).retry=h.retry,s.buildExponentialDelayCalculator=h.buildExponentialDelayCalculator,(a=n.browser||(n.browser={})).isSafari=w.isSafari,a.getSafariVersion=w.getSafariVersion,a.isIE=w.isIE,a.isEdge=w.isEdge,a.isFirefox=w.isFirefox,a.isChrome=w.isChrome,a.getChromeVersion=w.getChromeVersion,a.getFirefoxVersion=w.getFirefoxVersion,(l=n.arrayBuffer||(n.arrayBuffer={})).combine=_.combine,l.fill=_.fill,l.forEach=_.forEach,l.numberToUint8Array=_.numberToUint8Array,l.createVintBuffer=_.createVintBuffer,(n.time||(n.time={})).now=f.now},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getMsg=function(){return this._msg},i.prototype.getCause=function(){return this._cause},i);function i(e,t){this._msg=e,this._cause=t}t.LoaderError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(87);(t.loaderErrors||(t.loaderErrors={})).LoaderError=n.LoaderError},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(5),a=(o=s.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"URL_UPDATE_ERROR"},l);function l(e,t){return o.call(this,e||"The URL update failed for some reason.",t)||this}t.URLUpdateError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(33),o=r(89),s=r(29),a=r(16),l=r(11),A=r(5);(n=t.errors||(t.errors={})).PlayerError=l.PlayerError,n.PlayerFatalError=A.PlayerFatalError,n.NotSupportedError=i.NotSupportedError,n.URLUpdateError=o.URLUpdateError,n.ImplementationError=s.ImplementationError,n.ProxyProvidedPlayerFatalError=a.ProxyProvidedPlayerFatalError},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(6),a=r(12),l=r(35),A=r(16),u=(o=l.ProxyPlayerBase,i(h,o),h.prototype.providePlayer=function(e,t){void 0===t&&(t={}),this._providePlayer(e,t),this._onPlayerProvided.dispatch(e)},h.prototype.removePlayer=function(){var e=this._getPlayer();if(!e)throw new Error("There is no player to remove.");this._removePlayer(),this._onPlayerRemoved.dispatch(e)},h.prototype.setInitialDuration=function(e){this._setInitialDuration(e)},h.prototype.getPlayer=function(){return this._getPlayer()},h.prototype._handleFatalError=function(e,t){this._shouldPassThroughFatalErrors?this._triggerError(e):this._triggerError(new A.ProxyProvidedPlayerFatalError(e,t))},h);function h(e){var t=o.call(this,e)||this;return t._onPlayerProvided=new s.EventDispatcher,t._onPlayerRemoved=new s.EventDispatcher,t._shouldPassThroughFatalErrors=!!e.shouldPassThroughFatalErrors,t.onPlayerProvided=t._onPlayerProvided.getHandle(),t.onPlayerRemoved=t._onPlayerRemoved.getHandle(),t._logger=a.prefixLogger(t._logger,"ProxyPlayer"),t}t.ProxyPlayer=u},function(e,t){},function(e,t){var r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(A===setTimeout)return setTimeout(t,0);if((A===r||!A)&&setTimeout)return A=setTimeout,setTimeout(t,0);try{return A(t,0)}catch(e){try{return A.call(null,t,0)}catch(e){return A.call(this,t,0)}}}function o(){d&&c&&(d=!1,c.length?p=c.concat(p):f=-1,p.length&&s())}function s(){if(!d){var e=i(o);d=!0;for(var t=p.length;t;){for(c=p,p=[];++f<t;)c&&c[f].run();f=-1,t=p.length}c=null,d=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var A,u,h=e.exports={};!function(){try{A="function"==typeof setTimeout?setTimeout:r}catch(e){A=r}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var c,p=[],d=!1,f=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new a(e,t)),1!==p.length||d||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,ue){(function(le,Ae){e.exports=function(){"use strict";function r(e){return"function"==typeof e||"object"==typeof e&&null!==e}function A(e){return"function"==typeof e}function e(e){G=e}function t(e){q=e}function n(){return function(){return le.nextTick(l)}}function i(){return"undefined"!=typeof j?function(){j(l)}:a()}function o(){var e=0,t=new J(l),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function s(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}function a(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;e<V;e+=2){var t=$[e],r=$[e+1];t(r),$[e]=void 0,$[e+1]=void 0}V=0}function u(){try{var e=ue(92);return j=e.runOnLoop||e.runOnContext,i()}catch(e){return a()}}function h(e,t){var r=arguments,n=this,i=new this.constructor(p);void 0===i[te]&&Q(i);var o=n._state;return o?!function(){var e=r[o-1];q(function(){return x(o,i,e,n._result)})}():C(n,i,e,t),i}function c(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(p);return E(r,e),r}function p(){}function d(){return new TypeError("You cannot resolve a promise with itself")}function f(){return new TypeError("A promises callback cannot return that same promise.")}function g(e){try{return e.then}catch(e){return oe.error=e,oe}}function m(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function y(e,n,i){q(function(t){var r=!1,e=m(i,n,function(e){r||(r=!0,n!==e?E(t,e):b(t,e))},function(e){r||(r=!0,B(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&e&&(r=!0,B(t,e))},e)}function v(t,e){e._state===ne?b(t,e._result):e._state===ie?B(t,e._result):C(e,void 0,function(e){return E(t,e)},function(e){return B(t,e)})}function _(e,t,r){t.constructor===e.constructor&&r===h&&t.constructor.resolve===c?v(e,t):r===oe?B(e,oe.error):void 0===r?b(e,t):A(r)?y(e,t,r):b(e,t)}function E(e,t){e===t?B(e,d()):r(t)?_(e,t,g(t)):b(e,t)}function w(e){e._onerror&&e._onerror(e._result),S(e)}function b(e,t){e._state===re&&(e._result=t,e._state=ne,0!==e._subscribers.length&&q(S,e))}function B(e,t){e._state===re&&(e._state=ie,e._result=t,q(w,e))}function C(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+ne]=r,i[o+ie]=n,0===o&&e._state&&q(S,e)}function S(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,i=void 0,o=e._result,s=0;s<t.length;s+=3)n=t[s],i=t[s+r],n?x(r,n,i,o):i(o);e._subscribers.length=0}}function P(){this.error=null}function F(e,t){try{return e(t)}catch(e){return se.error=e,se}}function x(e,t,r,n){var i=A(r),o=void 0,s=void 0,a=void 0,l=void 0;if(i){if(o=F(r,n),o===se?(l=!0,s=o.error,o=null):a=!0,t===o)return void B(t,f())}else o=n,a=!0;t._state!==re||(i&&a?E(t,o):l?B(t,s):e===ne?b(t,o):e===ie&&B(t,o))}function T(t,e){try{e(function(e){E(t,e)},function(e){B(t,e)})}catch(e){B(t,e)}}function U(){return ae++}function Q(e){e[te]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function D(e,t){this._instanceConstructor=e,this.promise=new e(p),this.promise[te]||Q(this.promise),K(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&b(this.promise,this._result))):B(this.promise,M())}function M(){return new Error("Array Methods must be provided an Array")}function I(e){return new D(this,e).promise}function R(i){var o=this;return new o(K(i)?function(e,t){for(var r=i.length,n=0;n<r;n++)o.resolve(i[n]).then(e,t)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function k(e){var t=this,r=new t(p);return B(r,e),r}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function H(e){this[te]=U(),this._result=this._state=void 0,this._subscribers=[],p!==e&&("function"!=typeof e&&N(),this instanceof H?T(this,e):O())}function L(){var e=void 0;if("undefined"!=typeof Ae)e=Ae;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=H}var z=void 0,K=z=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},V=0,j=void 0,G=void 0,q=function(e,t){$[V]=e,$[V+1]=t,V+=2,2===V&&(G?G(l):ee())},W="undefined"!=typeof window?window:void 0,X=W||{},J=X.MutationObserver||X.WebKitMutationObserver,Y="undefined"==typeof self&&"undefined"!=typeof le&&"[object process]"==={}.toString.call(le),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$=new Array(1e3),ee=void 0;ee=Y?n():J?o():Z?s():void 0===W?u():a();var te=Math.random().toString(36).substring(16),re=void 0,ne=1,ie=2,oe=new P,se=new P,ae=0;return D.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===re&&r<e;r++)this._eachEntry(t[r],r)},D.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===c){var i=g(t);if(i===h&&t._state!==re)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===H){var o=new r(p);_(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new r(function(e){return e(t)}),e)}else this._willSettleAt(n(t),e)},D.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===re&&(this._remaining--,e===ie?B(n,r):this._result[t]=r),0===this._remaining&&b(n,this._result)},D.prototype._willSettleAt=function(e,t){var r=this;C(e,void 0,function(e){return r._settledAt(ne,t,e)},function(e){return r._settledAt(ie,t,e)})},H.all=I,H.race=R,H.resolve=c,H.reject=k,H._setScheduler=e,H._setAsap=t,H._asap=q,H.prototype={constructor:H,then:h,catch:function(e){return this.then(null,e)}},H.polyfill=L,H.Promise=H}()}).call(this,ue(94),ue(93))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i,o=r(13),s=r(6),a=r(37),l=r(3);(i=n=t.ResponseState||(t.ResponseState={}))[i.PENDING=0]="PENDING",i[i.WAITING=1]="WAITING",i[i.IN_PROGRESS=2]="IN_PROGRESS",i[i.COMPLETED=3]="COMPLETED",i[i.ERRORED=4]="ERRORED";var A=(u.prototype.onProgress=function(e){this._jobHandle.onProgressUpdate(e)},u.prototype.getResponse=function(){return this._jobHandle.whenComplete()},u.prototype.onRequestStart=function(e){this._state!==n.PENDING?l.deferException(e):this._requestStartCallbacks.push(e)},u.prototype.onResponseReceived=function(e){this._jobHandle.onCompletion(e)},u.prototype.onError=function(e){this._jobHandle.onError(e)},u.prototype.hasRequestStarted=function(){return this._state!==n.PENDING},u.prototype.hasCompleted=function(){return this._state===n.COMPLETED||this._state===n.ERRORED},u.prototype.getState=function(){return this._state},u.prototype.abort=function(){-1===[n.ERRORED,n.COMPLETED].indexOf(this._state)&&(this._jobHandle.abort(),this._state=n.ERRORED,this._abort())},u.prototype._signalRequestStart=function(){this._enforceState(n.PENDING),this._state=n.WAITING,this._requestStartCallbacks.splice(0).forEach(function(e){return l.deferException(e)})},u.prototype._signalTimeout=function(){this._enforceState(n.WAITING,n.IN_PROGRESS),this._state=n.COMPLETED,this._requestStartCallbacks.splice(0),this._responseDeferred.resolve(null)},u.prototype._provideStatusAndHeaders=function(e,t){this._enforceState(n.WAITING),this._statusAndHeaders=e,this._state=n.IN_PROGRESS,this._providePart(t)},u.prototype._providePart=function(e){this._enforceState(n.IN_PROGRESS);var t=!this._parts.length;if(this._parts.push(e),!this._statusAndHeaders)throw new Error("Headers should be set.");this._progressEventDispatcher.dispatch({initial:t,statusCode:this._statusAndHeaders.statusCode,headers:this._statusAndHeaders.headers,part:e})},u.prototype._finalize=function(e){var t=this;if(e)this._enforceState(n.PENDING,n.WAITING,n.IN_PROGRESS),this._state=n.ERRORED,this._requestStartCallbacks.splice(0),this._responseDeferred.reject(e);else{if(this._enforceState(n.IN_PROGRESS),this._state=n.COMPLETED,!this._statusAndHeaders)throw new Error("Headers should be set.");this._responseDeferred.resolve({statusCode:this._statusAndHeaders.statusCode,headers:this._statusAndHeaders.headers,getData:function(){if(!t._parts.length)throw new Error("Unexpected error. No parts.");return t._cachedCompleteParts?t._cachedCompleteParts:t._cachedCompleteParts=t._getDataSoFar()}})}},u.prototype._getDataSoFar=function(){var e=this._parts.length;if(!e)throw new Error("No parts.");return 1===e?this._parts[0]:this._reduceParts(this._parts)},u.prototype._enforceState=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(-1===e.indexOf(this._state))throw new Error("Invalid state. Got "+this._state+" Expecting one of "+e.join(","))},u);function u(){var e=this;this._responseDeferred=o.buildDeferred(),this._requestStartCallbacks=[],this._parts=[],this._progressEventDispatcher=new s.EventDispatcher,this._cachedCompleteParts=null,this._state=n.PENDING,this._statusAndHeaders=null,this._getProgressSoFar=function(){if(!e._parts.length)return null;if(!e._statusAndHeaders)throw new Error("Headers should be set.");return{initial:!0,statusCode:e._statusAndHeaders.statusCode,headers:e._statusAndHeaders.headers,part:e._getDataSoFar()}};var t=new a.AbortableJob(function(){return{result:e._responseDeferred.promise,progressUpdates:{getProgressSoFar:e._getProgressSoFar,onProgressUpdate:e._progressEventDispatcher}}},{storeResult:!0});this._jobHandle=t.run()}t.LoaderRequest=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.0.0",t.buildNumber=1819;var n=r(6),i=r(96),o=r(12),s=r(91);t.ProxyPlayer=s.ProxyPlayer;var a=r(35);t.ProxyPlayerBase=a.ProxyPlayerBase;var l=r(90);t.errors=l.errors;var A=r(88);t.loaderErrors=A.loaderErrors;var u=r(86);t.helpers=u.helpers;var h=r(34);t.BasePlayer=h.BasePlayer;var c=r(32);t.State=c.State;var p=r(31);t.StateManager=p.StateManager;var d,f,g=r(38);t.TimeRange=g.TimeRange,(t.eventDispatcher||(t.eventDispatcher={})).EventDispatcher=n.EventDispatcher,(d=t.loader||(t.loader={})).LoaderRequest=i.LoaderRequest,d.ResponseState=i.ResponseState,(f=t.logger||(t.logger={})).noOpLogger=o.noOpLogger,f.consoleLogger=o.consoleLogger,f.prefixLogger=o.prefixLogger,f.cloneLogger=o.cloneLogger}])},function(e,t,r){var n,i,o;window,e.exports=(n=r(4),i=r(2),o=r(1),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports=n},function(e,t){e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),i=new(r(0).WebAudioContext),o=(s.prototype.activate=function(){this._canActivate&&(this._logger.debug("Activating media element."),this._element.load()),this._logger.debug("Activating web audio context."),i.activate()},s.prototype.registerPlayer=function(r,n){var i=this;if(this._playerListeners.has(r))throw new Error("Player already registered.");function t(){var t;r.getMediaElement()!==i._element&&(i._playerWithElement&&(i._playerWithElement.getMediaElement()===i._element&&(i._logger.debug("Revoking media element from previous player."),i._playerWithElement.isPlaying()&&i._logger.warn("Revoking media element from a playing player."),i._playerWithElement.revokeMediaElement()),i._playerWithElement=null),i._canActivate=!1,t=i._provideMediaElementErrorRunCheck={},i._logger.debug("Providing media element to new player."),r.provideMediaElement(i._element).catch(function(e){r.isDead()||i._provideMediaElementErrorRunCheck!==t||(i._logger.error("Error occurred providing media element to new player.",e),n(e))}),i._playerWithElement=r)}var e=r.onChange.subscribe(function(e){e.playing&&t()});this._playerListeners.set(r,e),r.getMediaElement()&&r.revokeMediaElement(),r.isPlaying()&&t()},s.prototype.unregisterPlayer=function(e){var t=this._playerListeners.get(e);t&&(t.remove(),this._playerWithElement===e&&(this._playerWithElement=null,e.getMediaElement()===this._element&&e.revokeMediaElement()),this._playerListeners.delete(e))},s.prototype.getWebAudioContext=function(){return i},s);function s(e,t){this._playerListeners=new n.helpers.SCWeakMap,this._playerWithElement=null,this._canActivate=!0,this._provideMediaElementErrorRunCheck={},this._element=document.createElement(e),this._logger=n.logger.prefixLogger(t,"MediaElementManager")}t.MediaElementManager=o},function(e,t){e.exports=o},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(3),a=r(1),d=r(0),f=(o=s.BaseController,i(l,o),l.errorQualifiesAbort=function(e){return!(e instanceof d.errors.WebAudioInitializeError)},l.prototype.isRenditionSupported=function(e,t){return("http"===e.scProtocol||-1!==["hls","encrypted-hls"].indexOf(e.scProtocol)&&!t.streamUrlExpires)&&d.HTML5Player.isFormatSupported(e.maestroFormat)},l.prototype.buildPlayer=function(e){var t=e.urlAndRendition,r=t.rendition,n=t.timeRetrieved;if(e.streamUrlExpires&&(0<=["hls","encrypted-hls"].indexOf(r.scProtocol)||void 0===n))throw s.notSupportedError;return new A(e,this._mediaElementManager)},l);function l(e){var t=o.call(this)||this;return t._mediaElementManager=e,t.name="MaestroHTML5",t}t.HTML5PlayerController=f;var A=(u.prototype.getPlayer=function(){return this._player},u.prototype.getUrl=function(){return this._config.urlAndRendition.url},u.prototype._checkIfUrlWillExpireBeforeEnd=function(){var e,t=this._player.getDuration(),r=this._getExpireTime();null!==t&&null!==r&&(e=t-this._player.getPosition(),a.helpers.time.now()+e>r&&(this._logger.info("Releasing control because stream URL would expire before reaching end."),this._config.releaseControl({retry:!0})))},u.prototype._getExpireTime=function(){if(!this._expirationConfig.urlExpires)return null;var e=this._player.getDuration();return null===e?null:this._expirationConfig.timeUrlRetrieved+e+105e3},u.prototype._hasExpired=function(){var e=this._getExpireTime();return null!==e&&e<=a.helpers.time.now()},u);function u(e,t){var s=this;this._config=e,this._mediaElementManager=t;var r=e.logger,n=e.playerId,i=e.urlAndRendition,o=e.streamUrlExpires,a=e.reportError,l=e.fadeOnPauseAndPlay,A=e.fadeOnSeek,u=e.releaseControl;this._logger=r;var h=i.rendition,c=i.timeRetrieved;if(o){if(void 0===c)throw new Error("Expecting timeUrlRetrieved to be set.");this._expirationConfig={urlExpires:!0,timeUrlRetrieved:c}}else this._expirationConfig={urlExpires:!1};var p=this._player=new d.HTML5Player({url:i.url,format:h.maestroFormat},{name:n,mediaElement:null,fadeSupportEnabled:l||A,defaultFadeDuration:l?void 0:0,defaultSeekFadeInDuration:A?void 0:0,defaultSeekFadeOutDuration:A?void 0:0,webAudioContext:this._mediaElementManager.getWebAudioContext(),logger:this._logger,registerListeners:function(e){var t=e.onError,r=e.onChange;t.subscribe(function(e){e instanceof d.errors.NetworkError&&s._hasExpired()?(s._logger.info("Releasing control as a network error occurred, and the URL has expired."),u({retry:!0})):(a(e.getCode()),f.errorQualifiesAbort(e)&&u({retry:!1}))}),r.subscribe(function(e){var t=e.dead,r=e.playing,n=e.actuallyPlaying,i=e.seeking,o=e.duration;return t?void u({retry:!1}):o===1/0?(s._logger.info("Releasing control because the duration was Infinity."),void u({retry:!1})):void(s._expirationConfig.urlExpires&&(r||n||i)&&s._checkIfUrlWillExpireBeforeEnd())})}});this._mediaElementManager.registerPlayer(p,function(){return u({retry:!1})})}t.ControlledPlayer=A},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.1.0",t.buildNumber=845;var n=r(4);t.HTML5PlayerController=n.HTML5PlayerController;var i=r(2);t.MediaElementManager=i.MediaElementManager;var o=r(0);t.HTML5Player=o.HTML5Player}]))},function(e,t,r){var n;window,e.exports=(n=r(2),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(0);t.buildMimeTypeFromFormat=function(e,t){void 0===t&&(t={});var r=e.mimeType||t.mimeType;if(!r)return null;var n=e.audioCodec||t.audioCodec,i=e.videoCodec||t.videoCodec,o=s.helpers.compact([n,i]);return r+(0<o.length?'; codecs="'+o.map(function(e){return e.id}).join(",")+'"':"")}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerError,i(l,o),l.prototype.getCode=function(){return"HTML5_PLAYER.WEB_AUDIO_INITIALIZE_ERROR"},l);function l(e,t){return void 0===e&&(e="An error occurred when initializing web audio."),o.call(this,e,t)||this}t.WebAudioInitializeError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"HTML5_PLAYER.WEB_AUDIO_ACTIVATION_ERROR"},l);function l(e,t){return void 0===e&&(e="An error occurred when activating web audio."),o.call(this,e,t)||this}t.WebAudioActivationError=a},function(e,r,t){"use strict";function n(){return"AudioContext"in window&&(o.helpers.browser.isChrome()||a&&48<=a.major||o.helpers.browser.isEdge())}function i(){if(l)return l;if(!n())throw new Error("Web audio is not enabled.");var e=new window.AudioContext;if(!e.destination.maxChannelCount)throw r.WEB_AUDIO_NO_OUTPUT_CHANNELS_ERROR;return l={context:e,suspender:new s.WebAudioContextSuspender(e)}}Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),s=t(15),a=o.helpers.browser.getFirefoxVersion();r.WEB_AUDIO_ACTIVATION_TIMEOUT=5e3,r.WEB_AUDIO_ACTIVATION_TIMEOUT_ERROR=new Error("Web audio activation timed out."),r.WEB_AUDIO_NO_OUTPUT_CHANNELS_ERROR=new Error("Web audio found no output channels.");var l=null,A=(u.prototype.getAudioContextWithSuspender=function(){return n()?i():null},u.prototype.activate=function(){if(!n())return o.helpers.Promise.resolve(void 0);try{var e=i().context;return(t=e).state&&t.resume&&"running"!==t.state?o.helpers.promiseWithTimeout(t.resume(),r.WEB_AUDIO_ACTIVATION_TIMEOUT,r.WEB_AUDIO_ACTIVATION_TIMEOUT_ERROR):o.helpers.Promise.resolve()}catch(e){return o.helpers.Promise.reject(e)}var t},u);function u(){}r.WebAudioContext=A},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(2),a=(o=s.WebAudioInitializeError,i(l,o),l.prototype.getCode=function(){return"HTML5_PLAYER.WEB_AUDIO_INITIALIZE_NO_CHANNELS_ERROR"},l);function l(e){return o.call(this,"Web audio found no channels.",e)||this}t.WebAudioInitializeNoChannelsError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(3),a=(o=s.WebAudioActivationError,i(l,o),l.prototype.getCode=function(){return"HTML5_PLAYER.WEB_AUDIO_ACTIVATION_TIMEOUT_ERROR"},l);function l(e){return o.call(this,"We timed out when trying to activate web audio.",e)||this}t.WebAudioActivationTimeoutError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"HTML5_PLAYER.UNEXPECTED_MEDIA_ELEMENT_ERROR_"+(this._error&&this._error.code||"UNKNWON")},l);function l(e){var t=o.call(this,"Unexpected error from media element.",e)||this;return t._error=e,t}t.MediaElementError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"HTML5_PLAYER.DECODE_ERROR"},l);function l(){return o.call(this,"An unrecoverable error occurred whilst decoding.")||this}t.DecodeError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"HTML5_PLAYER.NETWORK_ERROR"},l);function l(){return o.call(this,"An unrecoverable network error occurred.")||this}t.NetworkError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(0);t.buildTimeRanges=function(e){for(var t=[],r=e.length,n=0;n<r;n++)t.push({end:1e3*e.end(n),start:1e3*e.start(n)});return i.TimeRange.normalizeRawTimeRanges(t).map(function(e){return new i.TimeRange(e.start,e.end-e.start)})}},function(e,t,r){"use strict";function n(e){try{return!!document.createElement("audio").canPlayType(e)}catch(e){return!1}}var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var l,A=r(0),s=r(10),u=r(17),a=r(9),h=r(8),c=r(7),p=r(16),d=r(6),f=r(2),g=r(5),m=r(3),y=r(4),v=r(1),_=A.helpers.deferred.buildDeferred,E=A.helpers.url.getExtension,w=A.helpers.Promise,b=A.helpers.browser,B=A.logger.prefixLogger,C=A.errors.NotSupportedError,S=A.errors.PlayerFatalError,P=new Error("Media element was revoked."),F=[],x=new A.helpers.SCWeakMap,T=null,U=A.helpers.retry.buildExponentialDelayCalculator({jitter:0,timeBase:50}),Q=(l=A.BasePlayer,o(D,l),D.isFormatSupported=function(e){var t=v.buildMimeTypeFromFormat(e);return!!t&&n(t)},D.prototype.getMediaElement=function(){return this._mediaElementAndState&&this._mediaElementAndState.element},D.prototype.provideMediaElement=function(o){var s=this;if(this._ensureNotDead(),this._mediaElementAndState)throw new Error("Already have a media element.");if(0<=F.indexOf(o))throw new Error("The same media element is currently being used in another player.");if(!this._webAudioOrchestration&&x.has(o))throw new Error("The same media element has been used in another player with fading enabled.");F.push(o);var a=this._provideMediaElementDeferred=_();return this._update(function(){s._logger.debug("provideMediaElement() called.",o),s._initMediaElementLocal(o,!1);function e(){s._logger.debug("Initializing media element."),s._initMediaElement(o,!0),s._addPausedHandlers(o),s._attachListeners();var e=s._listenToOnce("error",function(){s._provideMediaElementDeferred=null;var e=o.error,t=e?e.code:"unknown";s._logger.error("Error whilst initializing media element.",t),s.revokeMediaElement(),a.reject(new Error("Error when initializing media element. Error: "+t))},{earlyAttach:!0}),t=function(){null===s._getQueuedSeekPosition()&&0<s._positionWhenMediaElementRevoked?(s._logger.debug("Seeking to expected position..."),s._performSeek(s._positionWhenMediaElementRevoked,function(e){return void 0!==e?(s._provideMediaElementDeferred=null,s._logger.error("An error occurred when trying to seek to the expected position."),s.revokeMediaElement(),void a.reject(new Error("An error occurred when trying to restore the position."))):(s._logger.debug("Seeked to expected position."),void r())})):r()},r=function(){s.isPlaying()===s.isActuallyPlaying()&&s._playingWhenMediaElementRevoked?(s._logger.debug("Calling play to match previous state..."),s._mediaElementPlay().catch(function(e){s._provideMediaElementDeferred=null,s._logger.error("An error occurred when trying to play.",e),i===s._mediaElementAndState&&s.revokeMediaElement(),a.reject(new Error("Browser refused play() request on media element."))}),s._listenToOnce("play",function(){s._logger.debug("Play succeeded."),n()},{earlyAttach:!0})):n()},n=function(){return s._mediaElementAndState!==i?void s._triggerError(new S("Media element switched unexpectedly.")):(s._provideMediaElementDeferred=null,e.remove(),a.resolve(void 0),s._mediaElementAndState.state="STABLE",s._logger.debug("Finished putting element in expected state."),s._shouldCoverGlitch=!0,void(null!==s._duration&&s._update(function(){s.isReady()||s._signalReady(),s._handleDeferredPauseAndSeek()})))};s._listenToOnce("emptied",function(){s._logger.debug("Got emptied event from media element."),s._logger.debug("Putting media element in the state that is expected..."),t()},{earlyAttach:!0})}var i=s._mediaElementAndState={element:o,state:"INITIALIZING"};s._initialized?e():s._deferredProvideMediaElementCallback=e}),a.promise},D.prototype.revokeMediaElement=function(){var e=this;if(!this._mediaElementAndState)throw new Error("There is no media element to revoke.");this._deferredProvideMediaElementCallback=null,this._provideMediaElementDeferred&&(this._provideMediaElementDeferred.reject(P),this._provideMediaElementDeferred=null),this._logger.debug("revokeMediaElement() called."),this._detachListeners();var t=this._mediaElementAndState.element,r=F.indexOf(t);0<=r&&F.splice(r,1),this._onSeekFadeOutCompleted=null,this.isDead()||(this._positionWhenMediaElementRevoked=this.getPosition(),this._playingWhenMediaElementRevoked=this.isPlaying()),this._mediaElementAndState=null,this._initMediaElement(t,!1),this._removePausedHandlers(t),this._completeCurrentFade(),this._completeSeekFadeOutAndIn(),this._update(function(){e.isDead()||(!e.isPlaying()&&e.isActuallyPlaying()&&e._notifyPlaying(!1),e._handleStalled())})},D.prototype.getBufferedTimeRanges=function(){return this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state?s.buildTimeRanges(this._mediaElementAndState.element.buffered):[]},D.prototype.getMaxBufferLength=function(){return null},D.prototype._hasInitialized=function(){return this._initialized},D.prototype._inferFormat=function(e){switch(E(e)){case"mp3":return{mimeType:"audio/mpeg"};case"opus":return{mimeType:"audio/ogg",audioCodec:{id:"opus"}};case"mp4":return{mimeType:"video/mp4"};case"m4a":return{mimeType:"audio/mp4"};case"m3u8":return{mimeType:"application/x-mpegURL"};default:return{}}},D.prototype._canPlayType=n,D.prototype._initialize=function(){var t=this;this._initialized=!0,this._listenTo("error",function(){if("INITIALIZING"!==t._mediaElementAndState.state){var e=t._mediaElementAndState.element.error;switch(e&&e.code){case 2:t._triggerError(new a.NetworkError);break;case 3:t._triggerError(new h.DecodeError);break;default:t._logger.error("Unexpected error from media element.",e&&e.code,e&&e.message),t._triggerError(new c.MediaElementError(e))}}else t._logger.debug("An error occurred, but the media element is initializing, so ignoring...")},{earlyAttach:!0}),this._listenTo("play",function(){t._logger.debug("Media element play event."),t.isPlaying()||t.isActuallyPlaying()||!t._mediaElementAndState||t._isMediaElementPaused(t._mediaElementAndState.element)||(t._logger.debug("Calling play() because something external called play() on media element."),t.play())}),this._listenTo("playing",function(){t._logger.debug("Media element playing event."),t._mediaElementAndState&&!t._isMediaElementPaused(t._mediaElementAndState.element)?t._handlePlayingEvent():t._logger.debug("Ignoring playing event because media element is reporting it is paused.")}),this._listenTo("timeupdate",function(){return t._determineIfPlaying()}),this._listenTo("pause",function(){t._logger.debug("Media element pause event."),t._mediaElementAndState&&t._isMediaElementPaused(t._mediaElementAndState.element)?t._handlePauseEvent():t._logger.debug("Ignoring pause event because media element is reporting it is not paused.")}),this._listenTo("ended",function(){t._logger.debug("Media element ended event."),t._mediaElementAndState&&t._mediaElementAndState.element.ended?t._handleEndedEvent():t._logger.debug("Ignoring ended event because media element is reporting it is not ended.")}),this._listenTo("stalled",function(){t._logger.debug("Media element stalled event."),t._checkIfStalled()}),this._listenTo("volumechange",function(){t._mediaElementAndState&&t._notifyVolumeChangeFromMediaEl(t._mediaElementAndState.element)}),this._stallCheckTimerId=window.setInterval(function(){return t._checkIfStalled()},400),this._deferredProvideMediaElementCallback&&this._deferredProvideMediaElementCallback()},D.prototype._handleDurationChange=function(){var e=this,t=this._duration;null!==t&&this._update(function(){e._provideDuration(t),e._mediaElementAndState&&"STABLE"===e._mediaElementAndState.state&&(e._signalReady(),e._handleDeferredPauseAndSeek())})},D.prototype._createDefaultMediaElement=function(){return document.createElement(this._playerDependencies.mediaElementType||"audio")},D.prototype._handlePauseEvent=function(){var e=this;if(!this._mediaElementAndState)throw new Error("Media element should exist.");var t=this._mediaElementAndState.element;this.isActuallyPlaying()&&this._update(function(){t.ended||(e._notifyNotStalled(),e._completeCurrentFade(),e._completeSeekFadeOutAndIn(),e._notifyPlaying(!1))})},D.prototype._handlePlayingEvent=function(){var e=this,t=this._duration;if(null===t)throw new Error("Expecting duration to exist.");var r=this._getTruePosition();return t<=r?void this._logger.warn("Got a media element playing event and the positon was >= the duration.",r,t):this.isEnded()||this._shouldBeEnded()?void this._logger.warn("Got a media element playing event when the player is/should be ended."):void this._update(function(){e._notifyNotStalled(),e._determineIfPlaying(),e.isActuallyPlaying()||(e._playDetectionTimerNumAttempts=0,e._playDetectionTimer||(e._playDetectionTimer=window.setInterval(function(){return e._determineIfPlaying()},10)))})},D.prototype._handleEndedEvent=function(){return null!==this._getQueuedSeekPosition()?void this._logger.warn("Got a media element ended event but ignoring because a seek is in progress."):void this._update()},D.prototype._shouldBeEnded=function(){return this._endedOverride||this._mediaElementReportingEnded()},D.prototype._mediaElementReportingEnded=function(){return!!(this._mediaElementAndState&&this._mediaElementAndState.element.ended&&this._mediaElementAndState.element.paused)},D.prototype._handleDurationUpdates=function(){var e=this;this._listenToOnce("loadedmetadata",function(){return e._updateDurationFromMediaElement()},{reattach:!0,earlyAttach:!0}),this._listenTo("durationchange",function(){return e._updateDurationFromMediaElement()})},D.prototype._updateDurationFromMediaElement=function(){var e=this._mediaElementAndState;e&&(this._duration=1e3*e.element.duration,this._handleDurationChange())},D.prototype._handlePlayPauseChange=function(e,t){var r=this,n=t.fadeRate;this._fadeRate=n||null;function i(){r._mediaElementAndState&&"USABLE"===r._mediaElementAndState.state&&r._callMediaElementPause(r._mediaElementAndState.element),r._notifyFading(!1),r._completeSeekFadeOutAndIn(),r._notifyPlaying(!1)}var o;this.isEnded()?e?this._notifyPlaying(!0):i():this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state&&(o=this._playInProgress.inProgress||!this._isMediaElementPaused(this._mediaElementAndState.element),e&&!o?(this._fadeManagers&&this._fadeManagers.pausePlay.performFade(-1/0),this._playDetectionPosition=this._getTruePosition(),this._play(function(e){return r._notifyPlayRejection(e)})):!e&&o?this._update(function(){r._fadeManagers&&r._fadeManagers.pausePlay.getDirection()===u.FadeDirection.UP?(r._notifyFading(!0),r._fadeManagers.pausePlay.performFade(n||-1/0,i)):i()}):e&&o?this._update(function(){r._fadeManagers&&r._fadeManagers.pausePlay.getDirection()===u.FadeDirection.DOWN&&r._fadeManagers.pausePlay.performFade(n||1/0,function(){return r._notifyFading(!1)}),r._notifyPlaying(!0)}):this._notifyPlaying(e))},D.prototype._handleVolumeChange=function(e,t){var r;this._mediaElementAndState?((r=this._mediaElementAndState.element).muted=t,r.volume=e,this._notifyVolumeChangeFromMediaEl(r)):(this._muted=t,this._volume=e,this._notifyVolumeChange(e,t))},D.prototype._handleSeekChange=function(t,e){var r=this,n=e.fadeRate;this._seekFadeRate=n,this._fadeRateAfterSeek=n.afterSeek||1/0;var i,o,s,a=this._mediaElementAndState;a&&"USABLE"===a.state&&(this._onSeekFadeOutCompleted=function(){r._onSeekFadeOutCompleted=null,o&&o.remove(),i&&i.seek.getDirection()===u.FadeDirection.DOWN&&(r._logger.debug("Fade out for seek completed.",t,n),i.seek.performFade(-1/0),r._notifyFadingForSeek(!1));var e=r._mediaElementReportingEnded();r._endedOverride=!1,r._performSeek(t,function(e){return void 0!==e?void r._triggerError(new A.errors.PlayerFatalError("An error occurred when trying to seek.",e)):(t===r._duration&&(r._endedOverride=!0),void r._update(function(){r.isActuallyPlaying()&&r._assumeStalled(),r._signalSeekComplete(),i&&(!r.isActuallyPlaying()||r._fadeRateAfterSeek===1/0||r.isEnded()?i.seek.performFade(1/0):r._notifyFadingForSeek(!0))}))}),e&&r.isPlaying()&&r._play(function(e){r._triggerError(new A.errors.PlayerFatalError("Error when trying to play after seek from end.",e))})},this._fadeEndedHandle&&(this._fadeEndedHandle.remove(),this._fadeEndedHandle=null),i=this._fadeManagers,o=null,s=function(){r._onSeekFadeOutCompleted&&r._onSeekFadeOutCompleted()},this._update(function(){i&&(n.beforeSeek||n.afterSeek)?(r._logger.debug("Fading out ready for seek.",t,n),(i.seek.getDirection()===u.FadeDirection.UP||i.seek.isFading())&&r.isActuallyPlaying()&&n.beforeSeek&&!r._mediaElementReportingEnded()?(r._notifyFadingForSeek(!0),o=r._fadeEndedHandle=r._listenToOnce("ended",s),i.seek.performFade(n.beforeSeek||-1/0,s)):(i.seek.performFade(-1/0),s())):s()}))},D.prototype._performSeek=function(n,i){var o=this,e=this._mediaElementAndState;if(!e)throw new Error("Media element does not exist.");var t=this._currentSeek;t&&(this._currentSeek=null,t.abort());var s,a,l=e.element;l.currentTime!==n/1e3?(s=0,(a=function(){var e=[];try{l.currentTime=n/1e3}catch(e){o._logger.warn("Error when trying to seek.",e,n)}o._playDetectionPosition=1e3*l.currentTime;var t=window.setTimeout(function(){o._logger.warn("Seek attempt failed. Retrying...",n,s),r(),a()},U(++s));e.push(o._listenToOnce("seeking",function(){window.clearTimeout(t)},{earlyAttach:!0})),e.push(o._listenToOnce("seeked",function(){var e=1e3*l.currentTime;Math.abs(e-n)<=100?(o._currentSeek&&(o._currentSeek.abort(),o._currentSeek=null),i()):(o._logger.warn("Seek attempt failed. Incorect position. Retrying...",e,n),r(),a())},{earlyAttach:!0}));var r=function(){e.forEach(function(e){return e.remove()}),window.clearTimeout(t)};o._currentSeek={abort:r}})()):i()},D.prototype._getPosition=function(){var e=null!==this._duration?this._duration:1/0;if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)return this._positionWhenMediaElementRevoked;this._determineIfPlaying();var t=Math.min(this._getTruePosition(),e);return this._shouldBeEnded()?e:t},D.prototype._getTruePosition=function(){if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)throw new Error("Media element does not exist or is in invalid state.");return 1e3*this._mediaElementAndState.element.currentTime},D.prototype._kill=function(){window.clearTimeout(this._canPlayTimer),this._playDetectionTimer&&window.clearInterval(this._playDetectionTimer),this._mediaElementAndState&&this.revokeMediaElement(),this._stallCheckTimerId&&window.clearInterval(this._stallCheckTimerId),this._webAudioOrchestration&&this._webAudioOrchestration.gainNodes.glitchCoverup.disconnect(this._webAudioOrchestration.context.destination),this._listeners=[]},D.prototype._listenToOnce=function(e,t,r){void 0===r&&(r={});var n=r.reattach,i=r.earlyAttach;void 0===n&&(n=!1),void 0===i&&(i=!1);var o=this._listenTo(e,function(e){o.remove(),t(e)},{reattach:n,earlyAttach:i});return o},D.prototype._listenTo=function(r,n,e){var i=this;void 0===e&&(e={});var t=e.reattach,o=e.earlyAttach;void 0===t&&(t=!0),void 0===o&&(o=!1);function s(e){if(a.attachedToElement)switch(r){case"play":var t=i._mediaElPlayShouldBeAborted.get(a.attachedToElement);if(i._mediaElPlayShouldBeAborted.delete(a.attachedToElement),t){i._logger.warn("Calling pause() on media element because the play request should have been rejected."),a.attachedToElement.pause();break}default:n(e)}else i._logger.warn("Got media element event after handler was removed. Ignoring.",e)}var a={attachedToElement:null,handler:s,eventType:r,once:!1,reattach:t,earlyAttach:o};if(this._listeners.push(a),!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state&&!o)return{remove:function(){var e=i._listeners.indexOf(a);0<=e&&i._listeners.splice(e,1)}};var l=this._mediaElementAndState.element;return l.addEventListener(r,s,!1),a.attachedToElement=l,{remove:function(){var e=i._listeners.indexOf(a);0<=e&&(i._listeners.splice(e,1),a.attachedToElement=null,l.removeEventListener(r,s,!1))}}},D.prototype._notifyNotStalled=function(){this._stallDetected=!1,this._lastStallCheckPos=null,this._handleStalled()},D.prototype._assumeStalled=function(){this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state&&(this._lastStallCheckPos=this._mediaElementAndState.element.currentTime,this._timeWhenPositionChanged=0,this._stallDetected=!0,this._handleStalled())},D.prototype._initMediaElement=function(e,t){this._initMediaElementLocal(e,t)},D.prototype._callMediaElementPlay=function(e){var t=this;b.isEdge()&&this._mediaElPlayShouldBeAborted.set(e,!1);var r=this._mediaElPaused.get(e);r&&(r.paused=!1);var n=this._mediaElPlayTracker={},i=e.play();return r&&i&&i.catch&&i.catch(function(){n===t._mediaElPlayTracker&&(r.paused=!0)}),i},D.prototype._callMediaElementPause=function(e){this._playInProgress.inProgress=!1,b.isEdge()&&this._mediaElPlayShouldBeAborted.has(e)&&this._mediaElPlayShouldBeAborted.set(e,!0);var t=this._mediaElPaused.get(e);t&&(t.paused=!0),e.pause()},D.prototype._isMediaElementPaused=function(e){var t=this._mediaElPaused.get(e);return!t||t.paused},D.prototype._completeCurrentFade=function(){var e=this._fadeManagers;e&&(e.pausePlay.performFade(this.isPlaying()?1/0:-1/0),this.isDead()||this._notifyFading(!1))},D.prototype._completeSeekFadeOutAndIn=function(){var e=this,t=this._fadeManagers;t&&this._update(function(){t.seek.performFade(1/0),e.isDead()||(e._notifyFadingForSeek(!1),e._onSeekFadeOutCompleted&&e._onSeekFadeOutCompleted())})},D.prototype._determineIfPlaying=function(){var e=this;this._playDetectionTimer&&(!this.isPlaying()||200<=++this._playDetectionTimerNumAttempts)&&(window.clearInterval(this._playDetectionTimer),this._playDetectionTimer=null),this._update(function(){e._mediaElementAndState&&"USABLE"===e._mediaElementAndState.state&&(e.isDead()||!e.isReady()||!e.isPlaying()||e.isActuallyPlaying()||e._isMediaElementPaused(e._mediaElementAndState.element)||e._getTruePosition()===e._playDetectionPosition||(e._logger.debug("Detected that playback has started."),e._playDetectionTimer&&(window.clearInterval(e._playDetectionTimer),e._playDetectionTimer=null),e._notifyPlaying(!0),e._fadeManagers&&(e._notifyFading(!0),e._fadeManagers.pausePlay.performFade(e._fadeRate||1/0,function(){return e._notifyFading(!1)}))))})},D.prototype._initMediaElementLocal=function(e,t){var r,n,i,o;e.setAttribute("msAudioCategory","BackgroundCapableMedia"),e.mozAudioChannelType="content",e.removeAttribute("src"),e.load(),this._activateWebAudio(),this._pauseEventTimer&&(this._logger.debug("Clearing pause event timer."),window.clearTimeout(this._pauseEventTimer),this._pauseEventTimer=null),this._webAudioOrchestration&&this._webAudioOrchestration.mediaElementSource&&(this._logger.debug("Disconnecting media element from gain node."),this._webAudioOrchestration.mediaElementSource.disconnect(this._webAudioOrchestration.gainNodes.pausePlay),this._webAudioOrchestration.mediaElementSource=void 0),this._currentSeek&&(this._logger.debug("Aborting seek attempt."),this._currentSeek.abort(),this._currentSeek=null),t&&(this._webAudioOrchestration&&(this._logger.debug("Adding crossorigin attribute to media element because fading enabled."),e.setAttribute("crossorigin","anonymous")),r=this._getUrlForMediaElement(),this._logger.debug("Setting media element src.",r),e.src=r,e.volume=this._volume,e.muted=this._muted,this._webAudioOrchestration&&this._fadeManagers&&(this._logger.debug("Creating media element source node..."),(n=x.get(e))?this._logger.debug("Reusing media element source node."):(n=this._webAudioOrchestration.context.createMediaElementSource(e),x.set(e,n)),(this._webAudioOrchestration.mediaElementSource=n).connect(this._webAudioOrchestration.gainNodes.pausePlay),this._logger.debug("Created media element source node."),this._shouldCoverGlitch&&(i=this._webAudioOrchestration.context.currentTime,(o=this._webAudioOrchestration.gainNodes.glitchCoverup).gain.setValueAtTime(0,i),o.gain.setValueAtTime(1,i+.1),this._shouldCoverGlitch=!1))),e.playbackRate=1,e.setAttribute("preload","metadata"),this._callMediaElementPause(e),e.load()},D.prototype._addPausedHandlers=function(e){var t={removeListeners:function(){e.removeEventListener("play",r),e.removeEventListener("playing",r),e.removeEventListener("pause",r),e.removeEventListener("ended",r)},paused:!1},r=function(){t.paused=e.paused};r(),e.addEventListener("play",r),e.addEventListener("playing",r),e.addEventListener("pause",r),e.addEventListener("ended",r),this._mediaElPaused.set(e,t)},D.prototype._removePausedHandlers=function(e){var t=this._mediaElPaused.get(e);t&&t.removeListeners(),this._mediaElPaused.delete(e)},D.prototype._checkIfStalled=function(){var e,t,r;this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state&&this.isActuallyPlaying()&&(t=(e=this._mediaElementAndState.element).currentTime,r=A.helpers.time.now(),t!==this._lastStallCheckPos&&(this._timeWhenPositionChanged=r),this._stallDetected=e.readyState<=2||this._timeWhenPositionChanged<=r-500,this._lastStallCheckPos=t,this._handleStalled())},D.prototype._handleStalled=function(){this._shouldBeEnded()&&null===this._getQueuedSeekPosition()?this.isEnded()||(this._logger.debug("Updating because stalled near end."),this._update()):this._notifyStalled(this._stallDetected||!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)},D.prototype._play=function(t){var r=this,e=this._activateWebAudio(),n={inProgress:!0};this._playInProgress=n,this._mediaElementPlay().then(function(){n.inProgress=!1,e.catch(function(e){r._logger.error("Error activating web audio.",e),e===y.WEB_AUDIO_ACTIVATION_TIMEOUT_ERROR?r._triggerError(new d.WebAudioActivationTimeoutError):r._triggerError(new m.WebAudioActivationError)})}).catch(function(e){return r._playInProgress!==n?void r._logger.debug("Ignoring play error because paused since.",e):(n.inProgress=!1,void(t&&t(e)))})},D.prototype._mediaElementPlay=function(){var n=this;if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");if(this._mediaElementReportingEnded())return this._logger.debug("Not calling play() because we are at the end. It will be called after a seek."),w.resolve();var e=this._mediaElementAndState.element,i=this._callMediaElementPlay(e);return new w(function(t,r){i?(i=i.then(function(){return t()})).catch&&(i=i.catch(function(e){"AbortError"===e.name?(n._logger.debug("Media element play() promise rejected with AbortError."),t()):r(e)})):t()})},D.prototype._notifyVolumeChangeFromMediaEl=function(e){this._volume=e.volume,this._muted=e.muted,this._notifyVolumeChange(e.volume,e.muted)},D.prototype._initWebAudio=function(){try{var e=this._webAudioContext.getAudioContextWithSuspender();if(!e)return this._logger.debug("WebAudio not supported/enabled."),null;this._logger.debug("WebAudio supported.");var t=e.context,r=e.suspender;r.watchPlayer(this);var n=t.createGain(),i=t.createGain(),o=t.createGain();return n.connect(i),i.connect(o),o.connect(t.destination),{context:t,suspender:r,gainNodes:{glitchCoverup:o,pausePlay:n,seek:i}}}catch(e){return e===y.WEB_AUDIO_NO_OUTPUT_CHANNELS_ERROR?this._triggerError(new g.WebAudioInitializeNoChannelsError(e)):this._triggerError(new f.WebAudioInitializeError(e)),this._logger.error("Failed initializing web audio.",e),null}},D.prototype._activateWebAudio=function(){return this._webAudioOrchestration?this._webAudioContext.activate():w.resolve(void 0)},D.prototype._handleDeferredPauseAndSeek=function(){var r=this;if(!this._mediaElementAndState||"STABLE"!==this._mediaElementAndState.state)throw new Error("Media element must be in the STABLE state.");this._logger.debug("Handling deferred pause and seek..."),this._mediaElementAndState.state="USABLE",this._attachListeners(),this._update(function(){r._handleStalled();var e,t=r._getQueuedSeekPosition();null!==t&&(e=r._seekFadeRate?r._seekFadeRate.afterSeek:void 0,r._handleSeekChange(t,{fadeRate:{afterSeek:e}})),r.isPlaying()!==r.isActuallyPlaying()&&r._handlePlayPauseChange(r.isPlaying(),{fadeRate:r._fadeRate||void 0})})},D.prototype._detachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");var t=this._mediaElementAndState.element;this._listeners.forEach(function(e){e.attachedToElement&&(e.attachedToElement=null,t.removeEventListener(e.eventType,e.handler,!1))}),this._listeners=this._listeners.filter(function(e){return e.reattach})},D.prototype._attachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");this._logger.debug("Attaching listeners...");var e=this._mediaElementAndState,t=e.element,r=e.state;this._listeners.forEach(function(e){e.attachedToElement||!e.reattach||"USABLE"!==r&&!e.earlyAttach||(t.addEventListener(e.eventType,e.handler,!1),e.attachedToElement=t)}),this._logger.debug("Attached listeners.")},D);function D(e){var s=l.call(this,e)||this;s._duration=null,s._stallDetected=!1,s._fadeManagers=null,s._shouldCoverGlitch=!0,s._initialized=!1,s._muted=!1,s._volume=1,s._deferredProvideMediaElementCallback=null,s._playInProgress={inProgress:!1},s._lastStallCheckPos=null,s._stallCheckTimerId=null,s._timeWhenPositionChanged=0,s._endedOverride=!1,s._pauseEventTimer=null,s._positionWhenMediaElementRevoked=0,s._playingWhenMediaElementRevoked=!1,s._provideMediaElementDeferred=null,s._mediaElementAndState=null,s._listeners=[],s._currentSeek=null,s._playDetectionPosition=0,s._playDetectionTimer=null,s._playDetectionTimerNumAttempts=0,s._fadeRate=null,s._seekFadeRate=null,s._webAudioOrchestration=null,s._fadeEndedHandle=null,s._onSeekFadeOutCompleted=null,s._fadeRateAfterSeek=1/0,s._mediaElPlayShouldBeAborted=new A.helpers.SCWeakMap,s._mediaElPaused=new A.helpers.SCWeakMap,s._mediaElPlayTracker=null,s._logger=B(s._logger,"HTML5PlayerBase"),s._playerDependencies=e,s._webAudioContext=e.webAudioContext||(T=T||new y.WebAudioContext);var t=s._webAudioOrchestration=e.fadeSupportEnabled?s._initWebAudio():null;t&&(s._logger.debug("Fading supported."),s._fadeManagers={pausePlay:new u.FadeManager(t.context,t.gainNodes.pausePlay),seek:new u.FadeManager(t.context,t.gainNodes.seek)}),s._handleDurationUpdates();var r=void 0!==e.mediaElement?e.mediaElement:s._createDefaultMediaElement();r&&s.provideMediaElement(r).catch(function(e){return e===P?void s._logger.debug("Initial provideMediaElement() call was aborted."):void s._triggerError(new p.InitializeError(e))});var a=s._fadeManagers;return a&&s.onChange.subscribe(function(e){var t,r,n,i=e.stalled,o=e.seek;e.ended&&a.seek.getDirection()===u.FadeDirection.UP&&a.seek.isFading()?(s._logger.debug("Completing fade in after seek early because reached end."),a.seek.performFade(1/0),s._notifyFadingForSeek(!1)):(r=(t=s.getSeekState())&&"COMPLETED"===t.state,n=o&&"COMPLETED"===o.state,(!1===i&&r||n&&!s.isStalled())&&a.seek.getDirection()===u.FadeDirection.DOWN&&(s._logger.debug("Fading in after seek.",s._fadeRateAfterSeek),a.seek.performFade(s._fadeRateAfterSeek,function(){return s._notifyFadingForSeek(!1)})))}),s._logger.info("Checking if the player can play the provided descriptor."),s._canPlayTimer=window.setTimeout(function(){s._canPlay().then(function(e){if(!s.isDead())return e instanceof A.errors.NotSupportedError?(s._logger.info("Player not supported.",e),void s._triggerError(e)):e?(s._logger.info("Player supported."),void s._initialize()):(s._logger.info("Player not supported."),void s._triggerError(new C))}).catch(function(e){s._logger.error("Unexpected error during can play check.",e),s._triggerError(new S("An unexpected error occured during initialization.",e))})},0),s}t.HTML5PlayerBase=Q},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(10),o=r(1);((n=t.helpers||(t.helpers={})).timeRanges||(n.timeRanges={})).buildTimeRanges=i.buildTimeRanges,(n.mimeType||(n.mimeType={})).buildMimeTypeFromFormat=o.buildMimeTypeFromFormat},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(8),o=r(9),s=r(7),a=r(2),l=r(5),A=r(3),u=r(6);(n=t.errors||(t.errors={})).DecodeError=i.DecodeError,n.NetworkError=o.NetworkError,n.MediaElementError=s.MediaElementError,n.WebAudioInitializeError=a.WebAudioInitializeError,n.WebAudioInitializeNoChannelsError=l.WebAudioInitializeNoChannelsError,n.WebAudioActivationError=A.WebAudioActivationError,n.WebAudioActivationTimeoutError=u.WebAudioActivationTimeoutError},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=r(11),l=r(1),A=s.helpers.Promise,u=(o=a.HTML5PlayerBase,i(h,o),h.prototype._getUrlForMediaElement=function(){return this._descriptor.url},h.prototype._canPlay=function(){return this._mimeType&&this._canPlayType(this._mimeType)?A.resolve(!0):A.resolve(!1)},h);function h(e,t){var r=o.call(this,t)||this;return r._descriptor=e,r._mimeType=e.format.mimeType||l.buildMimeTypeFromFormat(e.format,r._inferFormat(e.url)),r}t.HTML5Player=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.watchPlayer=function(i){var o=this;!this._suspendSupported||i.isDead()||0<=this._players.indexOf(i)||(i.onChange.subscribe(function(e){var t,r=e.dead,n=e.playing;void 0!==n&&o._handleCountChange(n),r&&0<=(t=o._players.indexOf(i))&&(o._players.splice(t,1),!o._players.length&&o._suspendTimerId&&(window.clearInterval(o._suspendTimerId),o._suspendTimerId=null))}),this._players.length||(this._suspendTimerId=window.setInterval(function(){0===o._playingCount&&null===o._timerId&&"suspended"!==o._audioContext.state&&o._scheduleSuspend(5e3)},5e3)),this._players.push(i),i.isPlaying()&&this._handleCountChange(!0))},i.prototype._handleCountChange=function(e){e?this._playingCount++:this._playingCount--,this._playingCount!==this._prevPlayingCount&&(this._prevPlayingCount=this._playingCount,0===this._playingCount?this._scheduleSuspend(this._idleTime):1===this._playingCount&&this._abortSuspend())},i.prototype._scheduleSuspend=function(e){var t=this;this._timerId=window.setTimeout(function(){t._timerId=null,t._audioContext.suspend()},e)},i.prototype._abortSuspend=function(){this._timerId&&(window.clearTimeout(this._timerId),this._timerId=null)},i);function i(e,t){void 0===t&&(t=2e4),this._audioContext=e,this._idleTime=t,this._players=[],this._prevPlayingCount=0,this._playingCount=0,this._timerId=null,this._suspendTimerId=null,this._suspendSupported="function"==typeof e.suspend}t.WebAudioContextSuspender=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"HTML5_PLAYER.INITIALIZE_ERROR"},l);function l(e){return o.call(this,"An error occurred when initializing the media element.",e)||this}t.InitializeError=a},function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),(i=n=t.FadeDirection||(t.FadeDirection={}))[i.UP=0]="UP",i[i.DOWN=1]="DOWN";var o=(s.prototype.isFading=function(){return!!this._fadeEndTimer},s.prototype.getDirection=function(){var e=this._currentFade,t=e.rate,r=e.startValue;return 0===t?0===r?n.DOWN:n.UP:t<0?n.DOWN:n.UP},s.prototype.performFade=function(e,t){var r=this;if(0===e)throw new Error("Rate cannot be 0.");this._fadeEndTimer&&window.clearTimeout(this._fadeEndTimer);var n,i,o,s,a,l,A,u,h=this._context.currentTime,c=this._gain;e===1/0||e===-1/0?(c.gain.cancelScheduledValues(h),n=e===1/0?1:0,c.gain.setValueAtTime(n,h),this._currentFade={startTime:h,startValue:n,rate:0},this._fadeEndTimer=null,t&&t()):(i=this._currentFade,l=0,A=1,u=i.startValue+1e3*i.rate*(h-i.startTime),o=Math.min(A,Math.max(l,u)),a=h+(s=(0<e?1-o:o)*(1/Math.abs(1e3*e))),this._currentFade={startTime:h,rate:e,startValue:o},c.gain.cancelScheduledValues(h),c.gain.setValueAtTime(o,h),c.gain.linearRampToValueAtTime(0<e?1:0,a),this._fadeEndTimer=window.setTimeout(function(){r._fadeEndTimer=null,t&&t()},1e3*s))},s);function s(e,t){this._context=e,this._gain=t,this._currentFade={startTime:0,startValue:1,rate:0},this._fadeEndTimer=null}t.FadeManager=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.0.0",t.buildNumber=1819;var n=r(11);t.HTML5PlayerBase=n.HTML5PlayerBase;var i=r(14);t.HTML5Player=i.HTML5Player;var o=r(13);t.errors=o.errors;var s=r(12);t.helpers=s.helpers;var a=r(4);t.WebAudioContext=a.WebAudioContext}]))},function(e,t,r){var n,i,o,s,a,l;window,e.exports=(n=r(6),i=r(10),o=r(11),s=r(2),a=r(3),l=r(1),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){e.exports=n},function(e,t){e.exports=i},function(e,t){e.exports=o},function(e,t){e.exports=s},function(e,t){e.exports=a},function(e,t){e.exports=l},function(e,t,r){"use strict";function f(e){return e.match(A)[0]}var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(5),g=r(4),m=r(3),a=r(2),l=r(1),y=r(0),A=/^[^\?#]*/,u=(o=s.BaseController,i(h,o),h.prototype.isRenditionSupported=function(e){return-1!==["hls","encrypted-hls"].indexOf(e.scProtocol)&&y.HLSMSEPlayer.isFormatSupported(e.maestroSegmentFormat||{})},h.prototype.buildPlayer=function(e){return new c(e,this._mediaElementManager)},h);function h(e){var t=o.call(this)||this;return t._mediaElementManager=e,t.name="MaestroHLSMSE",t}t.HLSMSEPlayerController=u;var c=(p.prototype.getPlayer=function(){return this._player},p.prototype.getUrl=function(){return this._currentUrl},p.prototype._buildPlaylist=function(e){var t=new a.ArrayBufferLoader({fetchEnabled:this._config.fetchEnabled});return new l.PlaylistHLS({url:e,playlistLoader:a.stringLoader,segmentLoader:t,keyLoader:t,segmentFormat:this._config.urlAndRendition.rendition.maestroSegmentFormat||{},logger:this._config.logger})},p.prototype._isErrorWhichShouldTriggerURLRefresh=function(e){if(e instanceof y.errors.RetrievalError){var t=e.getCause();if(t instanceof y.retrievalErrors.UnacceptableResponseStatusCodeError)return 403===t.getStatusCode()}return!1},p);function p(e,t){var n=this;this._config=e,this._mediaElementManager=t,this._urlRefreshRetrieveHandle=null;var i=e.logger,r=e.playerId,o=e.urlAndRendition,s=e.streamUrlExpires,a=e.reportError,l=e.fadeOnPauseAndPlay,A=e.fadeOnSeek,u=e.releaseControl,h=e.getNewUrl;this._currentUrl=o.url;var c=o.rendition.maestroSegmentFormat||{},p=this._buildPlaylist(o.url),d=this._player=new y.HLSMSEPlayer({playlist:p,segmentFormat:c},{name:r,mediaElement:null,fadeSupportEnabled:l||A,defaultFadeDuration:l?void 0:0,defaultSeekFadeInDuration:A?void 0:0,defaultSeekFadeOutDuration:A?void 0:0,logger:i,registerListeners:function(e){var t=e.onError,r=e.onChange;t.subscribe(function(e){if(s){if(e instanceof m.errors.URLUpdateError)return i.error("URL refresh failed for some reason.",e),void u({retry:!0});if(n._isErrorWhichShouldTriggerURLRefresh(e))return n._urlRefreshRetrieveHandle?void i.debug("Got a 403 status code, but URL refresh already in progress."):(i.info("Got a 403 status code. Peforming a URL refresh..."),void(n._urlRefreshRetrieveHandle=h()).whenComplete().then(function(e){n._urlRefreshRetrieveHandle=null,e?f(e)!==f(n._currentUrl)?(i.warn("Got a new URL but the rendition did not match the original."),u({retry:!1})):(n._currentUrl=e,i.info("Got a new URL. Updating..."),d.switchPlaylist(n._buildPlaylist(e))):(i.warn("Could not get a new URL."),u({retry:!1}))}).catch(function(e){i.error("Unexpected error when trying to retrieve a new URL.",e),u({retry:!1})}))}a(e.getCode()),g.HTML5PlayerController.errorQualifiesAbort(e)&&u({retry:!1})}),r.subscribe(function(e){e.dead&&(n._urlRefreshRetrieveHandle&&(n._urlRefreshRetrieveHandle.abort(),n._urlRefreshRetrieveHandle=null),u({retry:!1}))})}});this._mediaElementManager.registerPlayer(d,function(){return u({retry:!1})})}t.ControlledPlayer=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.1.0",t.buildNumber=845;var n=r(6);t.HLSMSEPlayerController=n.HLSMSEPlayerController;var i=r(0);t.HLSMSEPlayer=i.HLSMSEPlayer}]))},function(e,t,r){var n,i,o;window,e.exports=(n=r(2),i=r(4),o=r(7),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){e.exports=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"HLS_MSE_PLAYER.PLAYLIST_UPDATE_ERROR"},l);function l(){return null!==o&&o.apply(this,arguments)||this}t.PlaylistUpdateError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.NotSupportedError,i(l,o),l.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_TRANSMUXER_ERROR"},l);function l(){return o.call(this,"A transmuxer could not be found.")||this}t.NoTransmuxerError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerError,i(l,o),l.prototype.getCode=function(){return"HLS_MSE_PLAYER.RETRIEVAL_ERROR."+this._internalRetrievalError.getCode()},l);function l(e){var t=o.call(this,"An error occurred when trying to retrieve a playlist/segment/key.",e)||this;return t._internalRetrievalError=e,t}t.RetrievalError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerFatalError,i(l,o),l.prototype.getCode=function(){return"HLS_MSE_PLAYER.INITIALIZE_ERROR"},l);function l(e){return o.call(this,"An error occurred trying to initialize the buffer.",e)||this}t.InitializeError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.errors.PlayerError,i(l,o),l.prototype.getCode=function(){return"HLS_MSE_PLAYER.APPEND_ERROR"},l);function l(e){return o.call(this,"An error occurred trying to append to the buffer.",e)||this}t.AppendError=a},function(e,t){e.exports=i},function(e,t){e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(5),o=r(4),s=r(1),a=r(2),l=r(3);(n=t.errors||(t.errors={})).AppendError=i.AppendError,n.InitializeError=o.InitializeError,n.PlaylistUpdateError=s.PlaylistUpdateError,n.NoTransmuxerError=a.NoTransmuxerError,n.RetrievalError=l.RetrievalError},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=r(0),s=h.eventDispatcher.EventDispatcher,a=h.logger.prefixLogger,l=h.logger.noOpLogger,n=(i.prototype.start=function(){if(this._checkNotErrored(),this._started)throw new Error("Already started.");this._logger.debug("start() called."),this._scheduleGC(),this._started=!0,this._prepareUpdate()},i.prototype.kill=function(){this._error||(this._logger.debug("kill() called."),this._error=new Error("Killed."),this._clearTimers(),this._logger.debug("Killed."))},i.prototype.waitingForSegmentData=function(){return this._checkNotErrored(),this._waitingForData},i.prototype.provideNextSegmentData=function(e){if(this._checkNotErrored(),!this._waitingForData)throw new Error("Not waiting for data.");this._logger.debug("Segment data provided."),this._waitingForData=!1,this._update(e)},i.prototype._prepareUpdate=function(){var e,t;this._updateTimerId||(e=this._mse).hasInitialized()&&(h.TimeRange.getCoverage(e.getBuffered()).end<=this._getPosition()+15e3?(this._logger.debug("Requesting next segment data."),(t=this._getNextSegmentData())?(this._logger.debug("Got segment data."),this._update(t)):(this._logger.debug("Did not get any data."),this._waitingForData=!0)):this._scheduleUpdate())},i.prototype._gc=function(){var e,t,r,n=this,i=this._mse;i.hasInitialized()?(e=h.TimeRange.getCoverage(i.getBuffered()),t=this._getPosition()-5e3,e.start<t?(r=new h.TimeRange(e.start,t-e.start),this._logger.debug("Removing media that has been played.",r),i.remove(r).then(function(){n._logger.debug("Removed media that has been played.",r),n._error||n._scheduleGC()}).catch(function(e){n._logger.error("Error when attempting to remove media that has been played.",r,e),n._error||n._scheduleGC()})):this._scheduleGC()):this._scheduleGC()},i.prototype._update=function(e){var r=this,t=e.data,n=e.eventRepresentation,i=this._mse;this._onAppendQueued.dispatch({segment:n}),this._logger.debug("Appending...",n);var o=[],s=!1,a=!1,l=!1,A=this._currentRetrieveHandle=t.run(),u=function(){var e;s||r._error||((e=o.shift())&&!e.byteLength?(r._logger.warn("Got 0 bytes to append. Skipping..."),u()):e?(s=!0,r._logger.debug("Appending part...",n,e.byteLength),i.append(e).then(function(){a=!(s=!1),u()}).catch(function(e){r._error||(r._logger.error("Error updating MSE.",e,n),r._handleError(e||new Error("Error updating MSE.")))})):l&&(r._logger.debug("Append finished.",n),a||r._logger.warn("There was nothing to append."),r._currentRetrieveHandle=null,r._onAppendEnd.dispatch({segment:n}),r._prepareUpdate()))};A.onProgressUpdate(function(e){var t=r._needsInitData&&e.initData?h.helpers.arrayBuffer.combine([e.initData,e.data]):e.data;r._needsInitData=!1,o.push(t),u()}),A.onError(function(e){r._error||(r._logger.error("Error whilst retrieving data.",e,n),r._handleError(e||new Error("Error retrieving data for MSE.")))}),A.onCompletion(function(){r._logger.debug("Got all data for append.",n),l=!0,u()})},i.prototype._scheduleUpdate=function(){var e=this;this._updateTimerId=window.setTimeout(function(){e._updateTimerId=null,e._prepareUpdate()},500)},i.prototype._scheduleGC=function(){var e=this;this._gcTimerId||(this._gcTimerId=window.setTimeout(function(){e._gcTimerId=null,e._gc()},2e4))},i.prototype._checkNotErrored=function(){if(this._error)throw this._error},i.prototype._clearTimers=function(){this._updateTimerId&&(this._logger.debug("Clearing update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._gcTimerId&&(window.clearTimeout(this._gcTimerId),this._gcTimerId=null),this._currentRetrieveHandle&&(this._currentRetrieveHandle.abort(),this._currentRetrieveHandle=null)},i.prototype._handleError=function(e){this._error||(this._error=e,this._logger.error("Error occurred.",e),this._clearTimers(),this._onError(e))},i);function i(e,t,r,n,i){void 0===i&&(i=l);var o=this;this._onAppendQueued=new s,this._onAppendEnd=new s,this._needsInitData=!0,this._updateTimerId=null,this._gcTimerId=null,this._waitingForData=!1,this._started=!1,this._error=null,this._currentRetrieveHandle=null,this._logger=a(i,"SimpleMSE"),this.onAppendQueued=this._onAppendQueued.getHandle(),this.onAppendEnd=this._onAppendEnd.getHandle(),this._mse=e,this._getNextSegmentData=t,this._getPosition=r,this._onError=n,e.whenInitialized().then(function(){!o._error&&o._started&&(o._logger.debug("MSE initialized. Preparing to update."),o._prepareUpdate())}).catch(function(e){o._error||(o._logger.error("Error when waiting for MSE to initialize.",e),o._handleError(e||new Error("Error waiting for MSE to initialize.")))})}t.SimpleMSE=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,r,t){(function(e){var t,W=function(A){"use strict";function p(e,t){return void 0===e?p[0]:void 0===t||10==+t?R(e):q(e,t)}function d(e,t){this.value=e,this.sign=t,this.isSmall=!1}function f(e){this.value=e,this.sign=e<0,this.isSmall=!0}function h(e){return-O<e&&e<O}function g(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function m(e){y(e);var t=e.length;if(t<4&&P(e,H)<0)switch(t){case 0:return 0;case 1:return e[0];case 2:return e[0]+e[1]*k;default:return e[0]+(e[1]+e[2]*k)*k}return e}function y(e){for(var t=e.length;0===e[--t];);e.length=t+1}function v(e){for(var t=new Array(e),r=-1;++r<e;)t[r]=0;return t}function _(e){return 0<e?Math.floor(e):Math.ceil(e)}function r(e,t){for(var r,n=e.length,i=t.length,o=new Array(n),s=0,a=k,l=0;l<i;l++)s=a<=(r=e[l]+t[l]+s)?1:0,o[l]=r-s*a;for(;l<n;)s=(r=e[l]+s)===a?1:0,o[l++]=r-s*a;return 0<s&&o.push(s),o}function c(e,t){return e.length>=t.length?r(e,t):r(t,e)}function i(e,t){for(var r,n=e.length,i=new Array(n),o=k,s=0;s<n;s++)r=e[s]-o+t,t=Math.floor(r/o),i[s]=r-t*o,t+=1;for(;0<t;)i[s++]=t%o,t=Math.floor(t/o);return i}function E(e,t){for(var r,n=e.length,i=t.length,o=new Array(n),s=0,a=k,l=0;l<i;l++)s=(r=e[l]-s-t[l])<0?(r+=a,1):0,o[l]=r;for(l=i;l<n;l++){if(!((r=e[l]-s)<0)){o[l++]=r;break}r+=a,o[l]=r}for(;l<n;l++)o[l]=e[l];return y(o),o}function l(e,t,r){for(var n,i=e.length,o=new Array(i),s=-t,a=k,l=0;l<i;l++)n=e[l]+s,s=Math.floor(n/a),n%=a,o[l]=n<0?n+a:n;return"number"==typeof(o=m(o))?(r&&(o=-o),new f(o)):new d(o,r)}function w(e,t){for(var r,n,i,o=e.length,s=t.length,a=v(o+s),l=k,A=0;A<o;++A){i=e[A];for(var u=0;u<s;++u)r=i*t[u]+a[A+u],n=Math.floor(r/l),a[A+u]=r-n*l,a[A+u+1]+=n}return y(a),a}function b(e,t){for(var r,n=e.length,i=new Array(n),o=k,s=0,a=0;a<n;a++)r=e[a]*t+s,s=Math.floor(r/o),i[a]=r-s*o;for(;0<s;)i[a++]=s%o,s=Math.floor(s/o);return i}function B(e,t){for(var r=[];0<t--;)r.push(0);return r.concat(e)}function t(e,t,r){return new d(e<k?b(t,e):w(t,g(e)),r)}function n(e){for(var t,r,n,i=e.length,o=v(i+i),s=k,a=0;a<i;a++){r=0-(n=e[a])*n;for(var l=a;l<i;l++)t=n*e[l]*2+o[a+l]+r,r=Math.floor(t/s),o[a+l]=t-r*s;o[a+i]=r}return y(o),o}function C(e,t){for(var r,n,i=e.length,o=v(i),s=k,a=0,l=i-1;0<=l;--l)a=(n=a*s+e[l])-(r=_(n/t))*t,o[l]=0|r;return[o,0|a]}function S(e,t){var r,n=R(t),i=e.value,o=n.value;if(0===o)throw new Error("Cannot divide by zero");if(e.isSmall)return n.isSmall?[new f(_(i/o)),new f(i%o)]:[p[0],e];if(n.isSmall){if(1===o)return[e,p[0]];if(-1==o)return[e.negate(),p[0]];var s=Math.abs(o);if(s<k){A=m((r=C(i,s))[0]);var a=r[1];return e.sign&&(a=-a),"number"==typeof A?(e.sign!==n.sign&&(A=-A),[new f(A),new f(a)]):[new d(A,e.sign!==n.sign),new f(a)]}o=g(s)}var l=P(i,o);if(-1===l)return[p[0],e];if(0===l)return[p[e.sign===n.sign?1:-1],p[0]];A=(r=(i.length+o.length<=200?function(e,t){var r,n,i,o,s,a,l,A=e.length,u=t.length,h=k,c=v(t.length),p=t[u-1],d=Math.ceil(h/(2*p)),f=b(e,d),g=b(t,d);for(f.length<=A&&f.push(0),g.push(0),p=g[u-1],n=A-u;0<=n;n--){for(r=h-1,f[n+u]!==p&&(r=Math.floor((f[n+u]*h+f[n+u-1])/p)),o=i=0,a=g.length,s=0;s<a;s++)i+=r*g[s],l=Math.floor(i/h),o+=f[n+s]-(i-l*h),i=l,o=o<0?(f[n+s]=o+h,-1):(f[n+s]=o,0);for(;0!==o;){for(--r,s=i=0;s<a;s++)i=(i+=f[n+s]-h+g[s])<0?(f[n+s]=i+h,0):(f[n+s]=i,1);o+=i}c[n]=r}return f=C(f,d)[0],[m(c),m(f)]}:function(e,t){for(var r,n,i,o,s,a=e.length,l=t.length,A=[],u=[],h=k;a;)if(u.unshift(e[--a]),y(u),P(u,t)<0)A.push(0);else{i=u[(n=u.length)-1]*h+u[n-2],o=t[l-1]*h+t[l-2],l<n&&(i=(i+1)*h),r=Math.ceil(i/o);do{if(P(s=b(t,r),u)<=0)break;r--}while(r);A.push(r),u=E(u,s)}return A.reverse(),[m(A),m(u)]})(i,o))[0];var A,u=e.sign!==n.sign,h=r[1],c=e.sign;return[A="number"==typeof A?(u&&(A=-A),new f(A)):new d(A,u),h="number"==typeof h?(c&&(h=-h),new f(h)):new d(h,c)]}function P(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;0<=r;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function u(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(25)||void 0))}function o(e){return("number"==typeof e||"string"==typeof e)&&+Math.abs(e)<=k||e instanceof d&&e.value.length<=1}function s(e,t,r){t=R(t);for(var n=e.isNegative(),i=t.isNegative(),o=n?e.not():e,s=i?t.not():t,a=0,l=0,A=null,u=null,h=[];!o.isZero()||!s.isZero();)a=(A=S(o,V))[1].toJSNumber(),n&&(a=V-1-a),l=(u=S(s,V))[1].toJSNumber(),i&&(l=V-1-l),o=A[0],s=u[0],h.push(r(a,l));for(var c=W(0!==r(n?1:0,i?1:0)?-1:0),p=h.length-1;0<=p;--p)c=c.multiply(V).add(W(h[p]));return c}function a(e){var t=e.value,r="number"==typeof t?t|j:t[0]+t[1]*k|G;return r&-r}function F(e,t){return e=R(e),t=R(t),e.greater(t)?e:t}function x(e,t){return e=R(e),t=R(t),e.lesser(t)?e:t}function T(e,t){if(e=R(e).abs(),t=R(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,i=p[1];e.isEven()&&t.isEven();)r=Math.min(a(e),a(t)),e=e.divide(r),t=t.divide(r),i=i.multiply(r);for(;e.isEven();)e=e.divide(a(e));do{for(;t.isEven();)t=t.divide(a(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}function U(e,t,r){for(var n=p[0],i=p[1],o=e.length-1;0<=o;o--)n=n.add(e[o].times(i)),i=i.times(t);return r?n.negate():n}function Q(e){return e<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e):"<"+e+">"}function D(e,t){if((t=W(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(e-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(e.isNegative()&&t.isPositive()&&(n=!0,e=e.abs()),t.equals(1))return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+e)).map(Number.prototype.valueOf,1),isNegative:n};for(var i,o=[],s=e;s.isNegative()||0<=s.compareAbs(t);){s=(i=s.divmod(t)).quotient;var a=i.remainder;a.isNegative()&&(a=t.minus(a).abs(),s=s.next()),o.push(a.toJSNumber())}return o.push(s.toJSNumber()),{value:o.reverse(),isNegative:n}}function M(e,t){var r=D(e,t);return(r.isNegative?"-":"")+r.value.map(Q).join("")}function I(e){if(h(+e)){var t=+e;if(t===_(t))return new f(t);throw new Error("Invalid integer: "+e)}var r="-"===e[0];r&&(e=e.slice(1));var n=e.split(/e/i);if(2<n.length)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var i=n[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==_(i)||!h(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var o=n[0],s=o.indexOf(".");if(0<=s&&(i-=o.length-s-1,o=o.slice(0,s)+o.slice(s+1)),i<0)throw new Error("Cannot include negative exponent part for integers");e=o+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(e))throw new Error("Invalid integer: "+e);for(var a=[],l=e.length,A=N,u=l-A;0<l;)a.push(+e.slice(u,l)),(u-=A)<0&&(u=0),l-=A;return y(a),new d(a,r)}function R(e){return"number"==typeof e?function(e){if(h(e)){if(e!==_(e))throw new Error(e+" is not an integer.");return new f(e)}return I(e.toString())}(e):"string"==typeof e?I(e):e}var k=1e7,N=7,O=9007199254740992,H=g(O),L=Math.log(O);d.prototype=Object.create(p.prototype),f.prototype=Object.create(p.prototype),d.prototype.plus=d.prototype.add=function(e){var t=R(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return t.isSmall?new d(i(r,Math.abs(n)),this.sign):new d(c(r,n),this.sign)},f.prototype.plus=f.prototype.add=function(e){var t=R(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(h(r+n))return new f(r+n);n=g(Math.abs(n))}return new d(i(n,Math.abs(r)),r<0)},d.prototype.minus=d.prototype.subtract=function(e){var t=R(e);if(this.sign!==t.sign)return this.add(t.negate());var r,n,i,o,s=this.value,a=t.value;return t.isSmall?l(s,Math.abs(a),this.sign):(r=s,n=a,i=this.sign,0<=P(r,n)?o=E(r,n):(o=E(n,r),i=!i),"number"==typeof(o=m(o))?(i&&(o=-o),new f(o)):new d(o,i))},f.prototype.minus=f.prototype.subtract=function(e){var t=R(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new f(r-n):l(n,Math.abs(r),0<=r)},d.prototype.negate=function(){return new d(this.value,!this.sign)},f.prototype.negate=function(){var e=this.sign,t=new f(-this.value);return t.sign=!e,t},d.prototype.abs=function(){return new d(this.value,!1)},f.prototype.abs=function(){return new f(Math.abs(this.value))},d.prototype.times=d.prototype.multiply=function(e){var t,r,n,i=R(e),o=this.value,s=i.value,a=this.sign!==i.sign;if(i.isSmall){if(0===s)return p[0];if(1===s)return this;if(-1===s)return this.negate();if((t=Math.abs(s))<k)return new d(b(o,t),a);s=g(t)}return r=o.length,n=s.length,new d((0<-.012*r-.012*n+15e-6*r*n?function e(t,r){var n=Math.max(t.length,r.length);if(n<=30)return w(t,r);n=Math.ceil(n/2);var i=t.slice(n),o=t.slice(0,n),s=r.slice(n),a=r.slice(0,n),l=e(o,a),A=e(i,s),u=e(c(o,i),c(a,s)),h=c(c(l,B(E(E(u,l),A),n)),B(A,2*n));return y(h),h}:w)(o,s),a)},f.prototype._multiplyBySmall=function(e){return h(e.value*this.value)?new f(e.value*this.value):t(Math.abs(e.value),g(Math.abs(this.value)),this.sign!==e.sign)},d.prototype._multiplyBySmall=function(e){return 0===e.value?p[0]:1===e.value?this:-1===e.value?this.negate():t(Math.abs(e.value),this.value,this.sign!==e.sign)},f.prototype.times=f.prototype.multiply=function(e){return R(e)._multiplyBySmall(this)},d.prototype.square=function(){return new d(n(this.value),!1)},f.prototype.square=function(){var e=this.value*this.value;return h(e)?new f(e):new d(n(g(Math.abs(this.value))),!1)},f.prototype.divmod=d.prototype.divmod=function(e){var t=S(this,e);return{quotient:t[0],remainder:t[1]}},f.prototype.over=f.prototype.divide=d.prototype.over=d.prototype.divide=function(e){return S(this,e)[0]},f.prototype.remainder=f.prototype.mod=d.prototype.remainder=d.prototype.mod=function(e){return S(this,e)[1]},d.prototype.pow=function(e){var t,r,n,i=R(e),o=this.value,s=i.value;if(0===s)return p[1];if(0===o)return p[0];if(1===o)return p[1];if(-1===o)return i.isEven()?p[1]:p[-1];if(i.sign)return p[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&h(t=Math.pow(o,s)))return new f(_(t));for(r=this,n=p[1];!0&s&&(n=n.times(r),--s),0!==s;)s/=2,r=r.square();return n},f.prototype.pow=d.prototype.pow,f.prototype.modPow=d.prototype.modPow=function(e,t){if(e=R(e),(t=R(t)).isZero())throw new Error("Cannot take modPow with modulus 0");for(var r=p[1],n=this.mod(t);e.isPositive();){if(n.isZero())return p[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},d.prototype.compareAbs=function(e){var t=R(e),r=this.value,n=t.value;return t.isSmall?1:P(r,n)},f.prototype.compareAbs=function(e){var t=R(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:n<r?1:-1:-1},d.prototype.compareTo=d.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=R(e),r=this.value,n=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:P(r,n)*(this.sign?-1:1)},f.prototype.compareTo=f.prototype.compare=function(e){if(e===1/0)return-1;if(e===-1/0)return 1;var t=R(e),r=this.value,n=t.value;return t.isSmall?r==n?0:n<r?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},f.prototype.eq=f.prototype.equals=d.prototype.eq=d.prototype.equals=function(e){return 0===this.compare(e)},f.prototype.neq=f.prototype.notEquals=d.prototype.neq=d.prototype.notEquals=function(e){return 0!==this.compare(e)},f.prototype.gt=f.prototype.greater=d.prototype.gt=d.prototype.greater=function(e){return 0<this.compare(e)},f.prototype.lt=f.prototype.lesser=d.prototype.lt=d.prototype.lesser=function(e){return this.compare(e)<0},f.prototype.geq=f.prototype.greaterOrEquals=d.prototype.geq=d.prototype.greaterOrEquals=function(e){return 0<=this.compare(e)},f.prototype.leq=f.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals=function(e){return this.compare(e)<=0},d.prototype.isEven=function(){return 0==(1&this.value[0])},f.prototype.isEven=function(){return 0==(1&this.value)},d.prototype.isOdd=function(){return 1==(1&this.value[0])},f.prototype.isOdd=function(){return 1==(1&this.value)},d.prototype.isPositive=function(){return!this.sign},f.prototype.isPositive=function(){return 0<this.value},d.prototype.isNegative=function(){return this.sign},f.prototype.isNegative=function(){return this.value<0},d.prototype.isUnit=function(){return!1},f.prototype.isUnit=function(){return 1===Math.abs(this.value)},d.prototype.isZero=function(){return!1},f.prototype.isZero=function(){return 0===this.value},f.prototype.isDivisibleBy=d.prototype.isDivisibleBy=function(e){var t=R(e),r=t.value;return 0!==r&&(1===r||(2===r?this.isEven():this.mod(t).equals(p[0])))},f.prototype.isPrime=d.prototype.isPrime=function(){var e=u(this);if(e!==A)return e;for(var t,r,n,i,o=this.abs(),s=o.prev(),a=[2,3,5,7,11,13,17,19],l=s;l.isEven();)l=l.divide(2);for(n=0;n<a.length;n++)if(!(i=W(a[n]).modPow(l,o)).equals(p[1])&&!i.equals(s)){for(r=!0,t=l;r&&t.lesser(s);t=t.multiply(2))(i=i.square().mod(o)).equals(s)&&(r=!1);if(r)return!1}return!0},f.prototype.isProbablePrime=d.prototype.isProbablePrime=function(e){var t=u(this);if(t!==A)return t;for(var r=this.abs(),n=e===A?5:e,i=0;i<n;i++){if(!W.randBetween(2,r.minus(2)).modPow(r.prev(),r).isUnit())return!1}return!0},f.prototype.modInv=d.prototype.modInv=function(e){for(var t,r,n,i=W.zero,o=W.one,s=R(e),a=this.abs();!a.equals(W.zero);)t=s.divide(a),r=i,n=s,i=o,s=a,o=r.subtract(t.multiply(o)),a=n.subtract(t.multiply(a));if(!s.equals(1))throw new Error(this.toString()+" and "+e.toString()+" are not co-prime");return-1===i.compare(0)&&(i=i.add(e)),this.isNegative()?i.negate():i},d.prototype.next=function(){var e=this.value;return this.sign?l(e,1,this.sign):new d(i(e,1),this.sign)},f.prototype.next=function(){var e=this.value;return e+1<O?new f(e+1):new d(H,!1)},d.prototype.prev=function(){var e=this.value;return this.sign?new d(i(e,1),!0):l(e,1,this.sign)},f.prototype.prev=function(){var e=this.value;return-O<e-1?new f(e-1):new d(H,!0)};for(var z=[1];2*z[z.length-1]<=k;)z.push(2*z[z.length-1]);var K=z.length,V=z[K-1];f.prototype.shiftLeft=d.prototype.shiftLeft=function(e){if(!o(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftRight(-e);var t=this;if(t.isZero())return t;for(;K<=e;)t=t.multiply(V),e-=K-1;return t.multiply(z[e])},f.prototype.shiftRight=d.prototype.shiftRight=function(e){var t;if(!o(e))throw new Error(String(e)+" is too large for shifting.");if((e=+e)<0)return this.shiftLeft(-e);for(var r=this;K<=e;){if(r.isZero()||r.isNegative()&&r.isUnit())return r;r=(t=S(r,V))[1].isNegative()?t[0].prev():t[0],e-=K-1}return(t=S(r,z[e]))[1].isNegative()?t[0].prev():t[0]},f.prototype.not=d.prototype.not=function(){return this.negate().prev()},f.prototype.and=d.prototype.and=function(e){return s(this,e,function(e,t){return e&t})},f.prototype.or=d.prototype.or=function(e){return s(this,e,function(e,t){return e|t})},f.prototype.xor=d.prototype.xor=function(e){return s(this,e,function(e,t){return e^t})};var j=1<<30,G=(k&-k)*(k&-k)|j;f.prototype.bitLength=d.prototype.bitLength=function(){var e=this;return e.compareTo(W(0))<0&&(e=e.negate().subtract(W(1))),0===e.compareTo(W(0))?W(0):W(function e(t,r){if(r.compareTo(t)<=0){var n=e(t,r.square(r)),i=n.p,o=n.e,s=i.multiply(r);return s.compareTo(t)<=0?{p:s,e:2*o+1}:{p:i,e:2*o}}return{p:W(1),e:0}}(e,W(2)).e).add(W(1))};var q=function(e,t){for(var r=e.length,n=Math.abs(t),i=0;i<r;i++){if("-"!==(l=e[i].toLowerCase())&&/[a-z0-9]/.test(l)){if(/[0-9]/.test(l)&&n<=+l){if("1"===l&&1===n)continue;throw new Error(l+" is not a valid digit in base "+t+".")}if(l.charCodeAt(0)-87>=n)throw new Error(l+" is not a valid digit in base "+t+".")}}if(2<=t&&t<=36&&r<=L/Math.log(t)){var o=parseInt(e,t);if(isNaN(o))throw new Error(l+" is not a valid digit in base "+t+".");return new f(parseInt(e,t))}t=R(t);var s=[],a="-"===e[0];for(i=a?1:0;i<e.length;i++){var l,A=(l=e[i].toLowerCase()).charCodeAt(0);if(48<=A&&A<=57)s.push(R(l));else if(97<=A&&A<=122)s.push(R(l.charCodeAt(0)-87));else{if("<"!==l)throw new Error(l+" is not a valid character");for(var u=i;">"!==e[++i];);s.push(R(e.slice(u+1,i)))}}return U(s,t,a)};d.prototype.toArray=function(e){return D(this,e)},f.prototype.toArray=function(e){return D(this,e)},d.prototype.toString=function(e){if(e===A&&(e=10),10!==e)return M(this,e);for(var t,r=this.value,n=r.length,i=String(r[--n]);0<=--n;)t=String(r[n]),i+="0000000".slice(t.length)+t;return(this.sign?"-":"")+i},f.prototype.toString=function(e){return e===A&&(e=10),10!=e?M(this,e):String(this.value)},d.prototype.toJSON=f.prototype.toJSON=function(){return this.toString()},d.prototype.toJSNumber=d.prototype.valueOf=function(){return parseInt(this.toString(),10)},f.prototype.toJSNumber=f.prototype.valueOf=function(){return this.value};for(var e=0;e<1e3;e++)p[e]=new f(e),0<e&&(p[-e]=new f(-e));return p.one=p[1],p.zero=p[0],p.minusOne=p[-1],p.max=F,p.min=x,p.gcd=T,p.lcm=function(e,t){return e=R(e).abs(),t=R(t).abs(),e.divide(T(e,t)).multiply(t)},p.isInstance=function(e){return e instanceof d||e instanceof f},p.randBetween=function(e,t){var r=x(e=R(e),t=R(t)),n=F(e,t).subtract(r).add(1);if(n.isSmall)return r.add(Math.floor(Math.random()*n));for(var i=[],o=!0,s=n.value.length-1;0<=s;s--){var a=o?n.value[s]:k,l=_(Math.random()*a);i.unshift(l),l<a&&(o=!1)}return i=m(i),r.add("number"==typeof i?new f(i):new d(i,!1))},p.fromArray=function(e,t,r){return U(e.map(R),R(t||10),r)},p}();void 0!==e&&e.hasOwnProperty("exports")&&(e.exports=W),void 0===(t=function(){return W}.apply(r,[]))||(e.exports=t)}).call(this,t(10)(e))},function(e,t,r){"use strict";function s(e,t){for(var r=e.byteLength,n=0;n<r;){var i=e.getUint32(n);if(1===i)throw new Error("Large atom size not supported.");if(0===i&&(i=r-n),t(e.getUint32(n+4),new DataView(e.buffer,e.byteOffset+n+o,i-o)))break;n+=i}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),l=r(11),o=8;t.clearMP4InternalTimestamp=function(e,n){void 0===n&&(n=!1);var i=function(e){s(e,function(e,t){return 1952867444===e&&(r(t),1)})},r=function(e){var t=e.getUint8(0),r=n?l(0):(r=l(e.getUint32(4)),0<t&&(r=(r=r.shiftLeft(32)).add(e.getUint32(8))),null===o&&(o=r),r.subtract(o));0<t?(e.setUint32(4,r.shiftRight(32).toJSNumber()),e.setUint32(8,r.and(65535).toJSNumber())):e.setUint32(4,r.toJSNumber())},t=a.helpers.arrayBuffer.combine([e]),o=null;return s(new DataView(t.buffer,t.byteOffset,t.byteLength),function(e,t){switch(e){case 1936286840:n=(r=t).getUint8(0),r.setUint32(12,0),0<n&&r.setUint32(16,0);break;case 1836019558:s(t,function(e,t){return 1953653094===e&&(i(t),1)})}var r,n}),t}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),n=t(6),i=t(12),s=o.helpers.deferred.buildDeferred,a=n.helpers.timeRanges.buildTimeRanges,l=o.helpers.Promise,A=o.logger.prefixLogger,u=o.logger.noOpLogger,h=o.helpers.browser.isIE(),c=o.helpers.browser.isSafari(),p='audio/mp4; codecs="mp3"',d=o.helpers.browser.getSafariVersion(),f=o.helpers.browser.getChromeVersion(),g=c||!!(f&&f.major<=49),m=!!d&&d.major<10||!!f&&f.major<=49;r.killedError=new Error("MSE killed.");var y=(v.isSupported=function(e){return!h&&"MediaSource"in window&&(!e||!(!c||e!==p)||!(d&&d.major<10&&"audio/mpeg"===e)&&!(f&&f.major<50&&'audio/webm; codecs="opus"'===e)&&MediaSource.isTypeSupported(e))},v.prototype.whenInitialized=function(){return this._initializeDeferred.promise},v.prototype.whenIdle=function(){return this._whenIdleDeferred?this._whenIdleDeferred.promise:l.resolve(void 0)},v.prototype.isIdle=function(){return this._dead||!this._whenIdleDeferred},v.prototype.hasInitialized=function(){return this._initialized},v.prototype.getError=function(){return this._error},v.prototype.getUrl=function(){return this._ensureNotDead(),this._url},v.prototype.getBuffered=function(){if(this._ensureNotDead(),!this._sourceBuffer)return[];try{return a(this._sourceBuffer.buffered)}catch(e){if("InvalidStateError"===e.name&&"Failed to read the 'buffered' property from 'SourceBuffer': This SourceBuffer has been removed from the parent media source."===e.message)return[];throw e}},v.prototype.append=function(e){if(this._ensureNotDead(),this._ensureInitialized(),this._ensureNotEOS(),this._logger.debug("append() called."),g&&0===this._type.indexOf("audio/mp4")){this._logger.debug("Rewriting internal timestamp to 0.");try{e=i.clearMP4InternalTimestamp(e,!this._useSegmentsMode)}catch(e){return this._logger.error("Error rewriting timestamps.",e),this._handleError(e),l.reject(e)}}var t=s();return this._pendingActions.push({type:"append",data:e,deferred:t}),this._performNextAction(),t.promise},v.prototype.remove=function(e){if(0===e.duration)throw new Error("Remove range must have a duration > 0.");this._ensureNotDead(),this._ensureInitialized(),this._ensureNotEOS(),this._logger.debug("remove() called.",e);var t=s();return this._pendingActions.push({type:"remove",range:e,deferred:t}),this._performNextAction(),t.promise},v.prototype.signalEOS=function(){this._ensureNotDead(),this._ensureInitialized(),this._ensureNotEOS(),this._logger.debug("signalEOS() called."),this._eosSignalled=!0;var e=s();return this._pendingActions.push({type:"eos",deferred:e}),this._performNextAction(),e.promise},v.prototype.eosSignalled=function(){return this._eosSignalled},v.prototype.kill=function(){if(!this._dead){if(this._logger.debug("kill() called."),this._dead=!0,this._sourceBuffer){this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.removeEventListener("error",this._onSourceBufferError,!1);try{this._mediaSource.removeSourceBuffer(this._sourceBuffer)}catch(t){this._logger.error("Error from removeSourceBuffer()",t)}}this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.removeEventListener("sourceended",this._onMediaSourceEnded,!1),this._mediaSource.removeEventListener("error",this._onMediaSourceError,!1),URL.revokeObjectURL(this._url);var t=this._error||r.killedError;(this._currentAction?[this._currentAction]:[]).concat(this._pendingActions).forEach(function(e){e.deferred.reject(t)}),this._whenIdleDeferred||(this._whenIdleDeferred=s()),this._whenIdleDeferred.reject(t),this._initialized||this._initializeDeferred.reject(t),this._pendingActions.length=0,this._logger.debug("Killed.")}},v.prototype._ensureInitialized=function(){if(!this._initialized)throw new Error("Not initialized yet.")},v.prototype._ensureNotEOS=function(){if(this._eosSignalled)throw new Error("EOS signalled.")},v.prototype._ensureNotDead=function(){if(this._dead)throw new Error("MSE is dead.")},v.prototype._onMediaSourceInit=function(){this._logger.debug("MSE initialized."),this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1);try{this._logger.debug("Creating source buffer.",this._type),this._sourceBuffer=this._mediaSource.addSourceBuffer(this._type),this._sourceBuffer.mode=this._useSegmentsMode?"segments":"sequence",this._logger.debug("Using append mode: "+this._sourceBuffer.mode),this._sourceBuffer.addEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.addEventListener("error",this._onSourceBufferError,!1)}catch(e){this._handleError(e)}this._initializeDeferred.resolve(void 0),this._whenIdleDeferred.resolve(void 0),this._initialized=!0,this._performNextAction()},v.prototype._onMediaSourceEnded=function(){this._onSourceBufferUpdateEnd()},v.prototype._onMediaSourceError=function(e){this._handleError(e)},v.prototype._handleError=function(e){this._ensureNotDead(),this._logger.error("Error occurred.",e),this._error=e||new Error("Unknown error."),this.kill()},v.prototype._onSourceBufferUpdateEnd=function(){var e=this._currentAction;return this._logger.debug("Update ended.",this.getBuffered()),e?(this._currentAction=null,e.deferred.resolve(void 0),void this._performNextAction()):void this._handleError(new Error("No action in progress."))},v.prototype._onSourceBufferError=function(e){this._handleError(e)},v.prototype._performNextAction=function(){var e=this._whenIdleDeferred;if(!this._currentAction&&this._sourceBuffer){var t=this._pendingActions.shift();if(!t)return this._logger.debug("No more actions."),void(e&&(this._whenIdleDeferred=null,e.resolve(void 0)));switch(e||(this._whenIdleDeferred=s()),this._currentAction=t,this._logger.debug("Performing next action..."),t.type){case"append":var r=o.TimeRange.getCoverage(this.getBuffered());try{if("segments"===this._sourceBuffer.mode){var n=r.end/1e3;this._logger.debug("Setting timestampOffset because detected safari.",n);try{this._sourceBuffer.timestampOffset=n}catch(e){if(11!==e.code)throw e;this._logger.debug("Failed to set timestampOffset.",e)}}this._logger.debug("Calling appendBuffer()."),this._sourceBuffer.appendBuffer(t.data)}catch(e){this._handleError(e)}break;case"remove":try{var i=t.range;this._logger.debug("Calling remove().",i.start,i.end),this._sourceBuffer.remove(i.start/1e3,i.end/1e3)}catch(e){this._handleError(e)}break;case"eos":try{this._logger.debug("Calling endOfStream()."),this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._mediaSource.addEventListener("sourceended",this._onMediaSourceEnded,!1),this._mediaSource.endOfStream()}catch(e){this._handleError(e)}}}},v);function v(e,t){var r=this.constructor;if(void 0===t&&(t=u),this._sourceBuffer=null,this._initialized=!1,this._initializeDeferred=s(),this._whenIdleDeferred=s(),this._error=null,this._dead=!1,this._eosSignalled=!1,this._pendingActions=[],this._currentAction=null,this._logger=A(t,"MSE"),this._onMediaSourceInit=this._onMediaSourceInit.bind(this),this._onMediaSourceEnded=this._onMediaSourceEnded.bind(this),this._onMediaSourceError=this._onMediaSourceError.bind(this),this._onSourceBufferUpdateEnd=this._onSourceBufferUpdateEnd.bind(this),this._onSourceBufferError=this._onSourceBufferError.bind(this),!r.isSupported(e))throw this._logger.error("Not supported."),new Error("Not supported.");c&&e===p&&(e="audio/mp4"),this._type=e,this._useSegmentsMode=m&&0===e.indexOf("audio/mp4"),this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.addEventListener("error",this._onMediaSourceError,!1),this._url=URL.createObjectURL(this._mediaSource),this._logger.debug("Created URL.",this._url)}r.MSE=y},function(e,t,r){"use strict";function a(e){if(e.hasEnded()){var t=e.getCompleteDuration();if(null===t)throw new Error("Expected playlist duration to be available.");return t}return 1/0}function n(r){var e=l.TransmuxerFactory.retrieveTransmuxers(r),t=y(e,function(e){var t=s.helpers.mimeType.buildMimeTypeFromFormat(e.getOutputFormat(),r);return!!t&&A.MSE.isSupported(t)})||null;if(!t)return null;var n=t.getOutputFormat(),i=s.helpers.mimeType.buildMimeTypeFromFormat(n,r);return i?{transmuxer:t,mimeType:i}:null}var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var h,c=r(0),l=r(7),s=r(6),A=r(13),u=r(9),p=r(5),d=r(4),f=r(3),g=r(2),m=r(1),y=c.helpers.find,v=c.helpers.Promise,_=c.helpers.time.now,E=c.errors.PlayerFatalError,w=c.eventDispatcher.EventDispatcher,b=c.logger.prefixLogger,B=c.helpers.abortableJob.abortedError,C=c.helpers.browser.getSafariVersion(),S=c.helpers.browser.isSafari(),P=c.helpers.browser.isFirefox(),F=c.helpers.browser.isEdge(),x=(h=s.HTML5PlayerBase,o(T,h),T.isFormatSupported=function(e){return!!A.MSE.isSupported()&&!!n(e)},T.prototype.getBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?c.TimeRange.normalize(e.getSegmentsWithData().map(function(e){return e.segment.getTimeRange()})):[]},T.prototype.getCompleteBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?c.TimeRange.normalize(e.getSegmentsWithData().filter(function(e){return e.complete}).map(function(e){return e.segment.getTimeRange()})):[]},T.prototype.getMaxBufferLength=function(){return this._maxBufferLength},T.prototype.getBufferController=function(){var t=this;return{setMaxBufferLength:function(e){if(e<0)throw new Error("Max buffer length cannot be < 0.");t._logger.debug("Updating max buffer length.",e),t._maxBufferLength=e,t._playlistSegmentRetriever?t._playlistSegmentRetriever.updateMaxBufferLength(e):t._logger.debug("Cannot update right now. Playlist segment retriever doesn't exist.")}}},T.prototype.switchPlaylist=function(e){return this._logger.debug("Updating playlist."),this._hasInitialized()?(this._playlistSegmentRetriever&&(this._playlistSegmentRetriever.switchPlaylist(null),this._logger.debug("Removed current URL.")),this._disposePlaylist(),void this._setPlaylist(e)):(this._logger.debug("Cannot update right now. Still initializing."),void(this._queuedPlaylist=e))},T.prototype.getMemoryCacheMaxSize=function(){return null!==this._cacheSize?this._cacheSize:1e8},T.prototype.getMemoryCacheUsage=function(){return this._playlistSegmentRetriever?this._playlistSegmentRetriever.getCacheUsage():0},T.prototype.getMemoryCacheController=function(){var t=this;return{setMaxCacheSize:function(e){if(e<0)throw new Error("Max size cannot be < 0.");t._cacheSize=e,t._playlistSegmentRetriever&&t._playlistSegmentRetriever.updateCacheSize(e)}}},T.prototype._canPlay=function(){if(!A.MSE.isSupported())return this._logger.debug("MSE not supported."),v.resolve(!1);var e=n(this.__descriptor.segmentFormat);return e?(this._transmuxerAndMimeType=e,v.resolve(!0)):(this._logger.debug("No transmuxer found."),v.resolve(new g.NoTransmuxerError))},T.prototype._getUrlForMediaElement=function(){if(!this._mse)throw new Error("MSE does not exist.");return this._mse.getUrl()},T.prototype._handleDurationUpdates=function(){},T.prototype._signalReady=function(){this._html5PlayerReady=!0,this._initialPlaylistRetrieveCompleted&&h.prototype._signalReady.call(this)},T.prototype._initialize=function(){var e=this.__playerDependencies;if(null===this._maxBufferLength&&(void 0!==e.maxBufferLength?this._maxBufferLength=e.maxBufferLength:this._maxBufferLength=3e4),this._logger.debug("Initialized max buffer length.",this._maxBufferLength),null===this._cacheSize&&(void 0!==e.memoryCacheSize?this._cacheSize=e.memoryCacheSize:this._cacheSize=1e8),this._logger.debug("Initialized cache size.",this._cacheSize),h.prototype._initialize.call(this),!this._queuedPlaylist)throw new Error("Playlist should exist.");this._setPlaylist(this._queuedPlaylist),this._queuedPlaylist=null},T.prototype._initMediaElement=function(e,t){this._simpleMSE&&(this._simpleMSE.kill(),this._simpleMSE=null,this._logger.debug("Killed SimpleMSE.")),this._mse&&(this._mse.kill(),this._mse=null,this._logger.debug("Killed MSE.")),null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled seek attempt timer.")),this._onFirstSegmentRetrieved=null,this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null),t?(this._initMSE(),h.prototype._initMediaElement.call(this,e,!0)):h.prototype._initMediaElement.call(this,e,!1)},T.prototype._shouldBeEnded=function(){var e=this._lastSegmentAppended;if(!e||!e.isFinalSegment())return!1;if(!S)return h.prototype._shouldBeEnded.call(this);if(h.prototype._shouldBeEnded.call(this))return!0;if(!this.getMediaElement())return!1;var t=this._duration;return this._stallDetected&&null!==t&&this._getTruePosition()>=t-600},T.prototype._getTruePosition=function(){if(!this.getMediaElement())throw new Error("Media element should exist.");return this._startPositionOffset+this._getMediaElementPosition()},T.prototype._handleSeekChange=function(e,t){h.prototype._handleSeekChange.call(this,e,t),this._playlistSegmentRetriever&&(this._logger.debug("Explicitly updating playlist segment retriever, as seek requested."),this._playlistSegmentRetriever.update(),this._findSegmentAndAppendToMSE())},T.prototype._performSeek=function(e,o){var s=this,t=this._simpleMSE,r=this._mse,a=this.getMediaElement();if(!r)throw new Error("MSE should exist.");if(!a)throw new Error("Media element should exist.");var n=!this._isMediaElementPaused(a);null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled previous seek attempt timer.")),this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null,this._logger.debug("Removed previous loaded metadata event handler.")),t&&t.kill(),r.kill(),this._logger.debug("SimpleMSE and MSE destroyed."),this._startPositionOffset=e;var i=!1;this._onFirstSegmentRetrieved=function(){return i=!0},this._logger.debug("Initializing MSE and SimpleMSE for new position."),this._initMSE();var l,A=this._mse.getUrl();this._logger.debug("Updated media element MSE src.",A),h.prototype._initMediaElement.call(this,a,!0),n&&(this._logger.debug("Calling play() on media element as it was playing previously."),(l=this._callMediaElementPlay(a))&&l.catch&&l.catch(function(e){"AbortError"!==e.name&&(s._logger.error("Unexpected play() error.",e),s._triggerError(new E("Exception from calling play() after seek.",e)))}));function u(i){function e(){s._startPositionOffset=Math.max(0,s._startPositionOffset-i),s._logger.debug("Updated start position offset.",s._startPositionOffset,i);var n=function(){s._seekAttemptTimer=null,s._logger.debug("Attempting to seek to the required offset.",i);var e=s._mse?s._mse.getBuffered():[];if(!c.TimeRange.rangesContainTime(i,e))return s._logger.debug("Holding seek because not buffered yet.",i,e),void(s._seekAttemptTimer=window.setTimeout(n,50));a.currentTime=i/1e3;var t=1e3*a.currentTime,r=t-i;Math.abs(r)<=100?(s._logger.debug("Seeked to the required offset.",i,t,r),o()):(s._logger.warn("Seek attempt failed. Trying again shortly.",i,t,r),s._seekAttemptTimer=window.setTimeout(n,50))};n()}(C&&C.major<11||P)&&i<50&&(s._logger.debug("Tweaking offset to fix glitch issue."),i=50),s._onFirstSegmentRetrieved=null,F||a.readyState===a.HAVE_METADATA?(s._logger.debug("Media element has metadata. Seeking to offset."),e()):(s._logger.debug("Media element has not loaded metadata. Waiting for metadata..."),s._seekMetadataEventHandle=s._listenToOnce("loadedmetadata",function(){s._seekMetadataEventHandle=null,s._logger.debug("Got metadata. Seeking to offset."),e()},{earlyAttach:!0}))}i?(this._logger.debug("First segment already retrieved. Preparing to seek to initial offset."),u(this._firstSegmentOffset)):(this._logger.debug("Waiting for first segment to be retrieved."),this._onFirstSegmentRetrieved=function(){s._logger.debug("First segment retrieved. Preparing to seek to initial offset."),u(s._firstSegmentOffset)})},T.prototype._kill=function(){this._simpleMSE&&(this._logger.debug("Killing SimpleMSE."),this._simpleMSE.kill(),this._simpleMSE=null),this._mse&&(this._logger.debug("Killing MSE."),this._mse.kill(),this._mse=null),this._playlistSegmentRetriever&&(this._logger.debug("Killing playlist segment retriever."),this._playlistSegmentRetriever.kill(),this._playlistSegmentRetriever=null),this._disposePlaylist(),h.prototype._kill.call(this)},T.prototype._disposePlaylist=function(){this._playlistUpdateJob&&(this._logger.debug("Aborting playlist retrieve job."),this._playlistUpdateJob.abort(),this._playlistUpdateJob=null),this._playlistUpdateTimer&&(window.clearTimeout(this._playlistUpdateTimer),this._playlistUpdateTimer=null),this._playlistUpdateEventHandle&&(this._playlistUpdateEventHandle.remove(),this._playlistUpdateEventHandle=null),this._playlist=null},T.prototype._initMSE=function(){var r=this;if(!this._transmuxerAndMimeType)throw new Error("Transmuxer should have been configured.");this._lastSegmentAppended=null;var e=new A.MSE(this._transmuxerAndMimeType.mimeType,this._logger),t=new u.SimpleMSE(e,function(){return r._getSegmentDataToAppendNext()},function(){return r._getMediaElementPosition()},function(e){r._triggerError(new p.AppendError(e))},this._logger);t.onAppendQueued.subscribe(this._onSegmentAppendQueued.dispatch),t.onAppendEnd.subscribe(function(e){var t;!S||(t=r.getMediaElement())&&r._isMediaElementPaused(t)&&r.isActuallyPlaying()&&(r._logger.debug("Calling play() on media element because we just appended something and should be playing."),r._callMediaElementPlay(t)),r._onSegmentAppendEnd.dispatch(e)}),(this._simpleMSE=t).start(),(this._mse=e).whenInitialized().catch(function(e){e!==A.killedError&&(r._logger.error("Error during mse initialization.",e),r._triggerError(new d.InitializeError(e)))})},T.prototype._getMediaElementPosition=function(){var e=this.getMediaElement();if(!e)throw new Error("No media element.");return 1e3*e.currentTime},T.prototype._whenPlaylistRetrieved=function(){var r=this,e=this._playlist;if(!e)throw new Error("Playlist should have been retrieved.");this._playlistUpdateEventHandle=e.onUpdated.subscribe(function(){r._updateLocalDurationsFromPlaylist(),r._handleDurationChange(),r._schedulePlaylistUpdate()});var t=!this._initialPlaylistRetrieveCompleted;if(t)this._initialPlaylistRetrieveCompleted=!0;else{var n=a(e);if(this._playlistDuration<n)return this._logger.error("The duration from the new playlist was less than the previous one."),void this._triggerError(new m.PlaylistUpdateError("The duration from the new playlist was less than the previous one.",{oldDuration:this._playlistDuration,newDuration:n}))}if(!this._transmuxerAndMimeType)throw new Error("Transmuxer should have been configured.");if(this._playlistSegmentRetriever)this._logger.debug("Switching playlist for playlist segment retriever."),this._playlistSegmentRetriever.switchPlaylist(e);else{var i=this._maxBufferLength;if(null===i)throw new Error("maxBufferLength should have been initiaized by now.");this._logger.debug("Creating playlist segment retriever.");var o=this._cacheSize;if(null===o)throw new Error("cacheSize should be set.");var s=new l.PlaylistSegmentRetriever({playlist:e,getPosition:function(){return r.getPosition()},maxBufferLength:i,cacheSize:o,transmuxer:this._transmuxerAndMimeType.transmuxer,logger:this._logger});s.onSegmentRequestQueued.subscribe(this._onSegmentRequestQueued.dispatch),s.onSegmentRequestStart.subscribe(this._onSegmentRequestStart.dispatch),s.onSegmentRetrieved.subscribe(this._onSegmentRetrieved.dispatch),s.onSegmentRequestFailed.subscribe(this._onSegmentRequestFailed.dispatch),(this._playlistSegmentRetriever=s).onError.subscribe(function(e){r._logger.error("Error from playlist segment retriever.",e),e instanceof l.retrievalErrors.RetrievalError?r._triggerError(new f.RetrievalError(e)):r._triggerError(new E("Unexpected error when trying to retrieve segment.",e))}),s.onSegmentDataRetrieveStarted.subscribe(function(e){var t=e.segment;r._logger.debug("Segment retrieve started.",t.getEventRepresentation()),r._findSegmentAndAppendToMSE(),r._updateLocalDurationsFromPlaylist(),r._handleDurationChange(),r._onSegmentReady.dispatch({segment:t.getEventRepresentation()})})}this._initialPlaylistRetrieveCompleted=!0,e.hasEnded()||this._schedulePlaylistUpdate(),this._updateLocalDurationsFromPlaylist(),this._update(function(){t&&r._html5PlayerReady&&h.prototype._signalReady.call(r),r._handleDurationChange()})},T.prototype._schedulePlaylistUpdate=function(){var e,t,r,n,i,o=this,s=this._playlist;if(!s)throw new Error("Playlist should exist.");this._playlistUpdateJob&&!this._playlistUpdateJob.hasCompleted()||(this._playlistUpdateTimer&&(window.clearTimeout(this._playlistUpdateTimer),this._playlistUpdateTimer=null),s.hasEnded())||(e=this.isPlaying()?s.getDuration()-this.getPosition()-1e4:1/0,r=(t=s.getExpireTime())?_()-t:1/0,n=Math.max(0,this._earliestAllowedNextUpdateTime-_()),(i=Math.max(n,Math.min(e,r,s.getType()===l.PlaylistType.EVENT?1e4:1/0)))<1/0&&(this._earliestAllowedNextUpdateTime=_()+2e3,this._playlistUpdateTimer=window.setTimeout(function(){o._playlistUpdateTimer=null,(o._playlistUpdateJob=s.update()).onError(function(e){e!==B&&(o._handlePlaylistUpdateError(e),o._schedulePlaylistUpdate())})},i)))},T.prototype._updateLocalDurationsFromPlaylist=function(){var e=this._playlist;if(!e)throw new Error("Missing playlist.");this._duration=a(e),this._playlistDuration=e.getDuration()},T.prototype._findSegmentAndAppendToMSE=function(){var e,t=this._simpleMSE;t&&t.waitingForSegmentData()&&((e=this._getSegmentDataToAppendNext())&&(this._logger.debug("Providing segment to SimpleMSE.",e.eventRepresentation),t.provideNextSegmentData(e)))},T.prototype._setPlaylist=function(e){var t=this;if(this._playlist)throw new Error("Playlist already exists.");this._playlist=e,this._playlistUpdateJob=this._playlist.update(),this._playlistUpdateJob.onCompletion(function(){t._logger.debug("Playlist retrieved."),t._whenPlaylistRetrieved()}),this._playlistUpdateJob.onError(function(e){e!==B&&t._handlePlaylistUpdateError(e)})},T.prototype._handlePlaylistUpdateError=function(e){this._logger.error("Error when retrieving playlist.",e),e instanceof l.retrievalErrors.RetrievalError?this._triggerError(new f.RetrievalError(e)):this._triggerError(new E("Unexpected error when retrieving playlist.",e))},T.prototype._getSegmentDataToAppendNext=function(){var e=this._lastSegmentAppended;this._logger.debug("Looking for segment to append next.",!!e);var t=this._playlistSegmentRetriever;if(!t)return this._logger.debug("No segment retriever."),null;if(e){if(!(n=this._getSubsequentSegment(e)))return this._logger.debug("No segment found."),e.isFinalSegment()&&(this._logger.debug("The last segment we appended was the last one in the stream. Signalling EOS."),this._signalEOS()),null;var r=n.segment;return this._logger.debug("Found segment.",r.getEventRepresentation()),this._lastSegmentAppended=r,{data:n.dataRetrieveJob,eventRepresentation:r.getEventRepresentation()}}var n,i=this.getPosition();if(!(n=y(t.getSegmentsWithData(),function(e){return e.segment.getTimeRange().containsTime(i)})))return this._logger.debug("No segment found.",i),null;var r=n.segment,o=n.dataRetrieveJob,s=this._firstSegmentOffset=i-r.getTimeRange().start;if(!this.getMediaElement())throw new Error("Media element should exist.");var a={data:o,eventRepresentation:r.getEventRepresentation()};if(!r.isFinalSegment())for(var l=r.getTimeRange().duration-s;l<1e3;){var A=this._getSubsequentSegment(r);if(!A)return this._logger.debug("Not enough segments to cover min append duration.",l),null;A.segment.isFinalSegment()?l=1/0:l+=A.segment.getTimeRange().duration}return this._logger.debug("Found initial segment.",r.getEventRepresentation()),this._lastSegmentAppended=r,this._onFirstSegmentRetrieved&&this._onFirstSegmentRetrieved(),a},T.prototype._getSubsequentSegment=function(e){var t=this._playlistSegmentRetriever;if(!t)return this._logger.debug("No segment retriever."),null;var r=t.getSegmentsWithData(),n=r[r.map(function(e){return e.segment.getSequenceNumber()}).indexOf(e.getSequenceNumber())+1];return n&&n.segment.getTimeRange().start===e.getTimeRange().end?n:null},T.prototype._signalEOS=function(){var t=this;this._logger.debug("Signalling EOS."),this._simpleMSE&&(this._simpleMSE.kill(),this._logger.debug("Killed SimpleMSE."),this._simpleMSE=null);var r=this._mse;r&&!r.eosSignalled()&&r.signalEOS().catch(function(e){if(r===t._mse){if("InvalidStateError"===e.name)return void t._logger.error("InvalidStateError occurred when signalling EOS.",e);t._logger.error("Error occurred when signalling EOS.",e),t._triggerError(new p.AppendError(e))}})},T);function T(e,t){var r=h.call(this,t)||this;if(r._onSegmentRequestQueued=new w,r._onSegmentRequestStart=new w,r._onSegmentRetrieved=new w,r._onSegmentRequestFailed=new w,r._onSegmentReady=new w,r._onSegmentAppendQueued=new w,r._onSegmentAppendEnd=new w,r._playlist=null,r._playlistSegmentRetriever=null,r._playlistUpdateJob=null,r._initialPlaylistRetrieveCompleted=!1,r._playlistUpdateTimer=null,r._earliestAllowedNextUpdateTime=_(),r._mse=null,r._simpleMSE=null,r._html5PlayerReady=!1,r._startPositionOffset=0,r._transmuxerAndMimeType=null,r._lastSegmentAppended=null,r._maxBufferLength=null,r._cacheSize=null,r._onFirstSegmentRetrieved=null,r._firstSegmentOffset=0,r._seekAttemptTimer=null,r._seekMetadataEventHandle=null,r._playlistUpdateEventHandle=null,r._playlistDuration=null,r._logger=b(r._logger,"HLSMSEPlayer"),void 0!==t.maxBufferLength&&t.maxBufferLength<0)throw new Error("maxBufferLength cannot be < 0.");if(void 0!==t.memoryCacheSize&&t.memoryCacheSize<0)throw new Error("memoryCacheSize cannot be < 0.");return r.onSegmentRequestQueued=r._onSegmentRequestQueued.getHandle(),r.onSegmentRequestStart=r._onSegmentRequestStart.getHandle(),r.onSegmentRetrieved=r._onSegmentRetrieved.getHandle(),r.onSegmentRequestFailed=r._onSegmentRequestFailed.getHandle(),r.onSegmentReady=r._onSegmentReady.getHandle(),r.onSegmentAppendQueued=r._onSegmentAppendQueued.getHandle(),r.onSegmentAppendEnd=r._onSegmentAppendEnd.getHandle(),r.__descriptor=e,r.__playerDependencies=t,r._queuedPlaylist=e.playlist,r}t.HLSMSEPlayer=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.0.0",t.buildNumber=1819;var n=r(14);t.HLSMSEPlayer=n.HLSMSEPlayer;var i=r(8);t.errors=i.errors;var o=r(7);t.retrievalErrors=o.retrievalErrors}]))},function(e,t,r){var n,i,o;window,e.exports=(n=r(2),i=r(8),o=r(9),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}([function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getCode=function(){return"GENERIC"},i);function i(){}t.RetrievalError=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPartialMatch=function(e,t){return!(e.mimeType&&t.mimeType!==e.mimeType||e.audioCodec&&(!t.audioCodec||t.audioCodec.id!==e.audioCodec.id)||e.videoCodec&&(!t.videoCodec||t.videoCodec.id!==e.videoCodec.id))}},function(e,t){e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=r(0),p=r(5),d=r(21),f=44100,g=3,m=f;t.MP3ToMP4={getInputFormat:function(){return{mimeType:"audio/mpeg"}},getOutputFormat:function(){return{mimeType:"audio/mp4",audioCodec:{id:"mp3"}}},transmux:function(h){return new c.helpers.abortableJob.AbortableJob(function(){function t(){A.close(),u.flush()}function n(e){l=!0;try{t()}catch(e){}r.reject(e),h.abort()}var r=c.helpers.deferred.buildDeferred(),i=new c.eventDispatcher.EventDispatcher,o=[],s=!1,a=null,l=!1,A=new p.MP3Parser,u=new d.MP4Mux({audioTrackId:0,videoTrackId:-1,tracks:[{codecId:2,channels:2,samplerate:f,samplesize:16,timescale:m}]});return u.ondata=function(e){l||(a?(o.push(e),i.dispatch({initData:a,data:e})):a=e)},A.onFrame=function(e){if(!l)try{var t=new Uint8Array(e.length+1),r=32;r|=g<<2,r|=2,r|=1,t[0]=r,t.set(e,1);u.pushPacket(8,t,0)}catch(e){n(e)}},h.onProgressUpdate(function(e){var t=e.data;!s&&e.initData&&(t=c.helpers.arrayBuffer.combine([e.initData,e.data])),s=!0;try{A.push(t)}catch(e){n(e)}}),h.onCompletion(function(e){try{t(),r.resolve(e)}catch(e){n(e)}}),h.onError(n),{result:r.promise,progressUpdates:{onProgressUpdate:i,getProgressSoFar:function(){return o.length?{initData:a,data:c.helpers.arrayBuffer.combine(o)}:null}},abort:function(){l=!0,h.abort(),t()}}}).run()}}},function(e,t,r){"use strict";function n(){this.buffer=null,this.bufferSize=0}t.__esModule=!0,t.MP3Parser=n;var p=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],d=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];n.prototype.push=function(e){for(var t,r,n,i=0<this.bufferSize?(t=e.length+this.bufferSize,(!this.buffer||this.buffer.length<t)&&(r=new Uint8Array(t),0<this.bufferSize&&r.set(this.buffer.subarray(0,this.bufferSize)),this.buffer=r),this.buffer.set(e,this.bufferSize),this.bufferSize=t,e=this.buffer,t):e.length,o=0;o<i&&0<(n=this._parse(e,o,i));)o+=n;var s=i-o;0<s&&(!this.buffer||this.buffer.length<s?this.buffer=new Uint8Array(e.subarray(o,i)):this.buffer.set(e.subarray(o,i))),this.bufferSize=s},n.prototype._parse=function(e,t,r){if(r<t+2)return-1;if(255===e[t]||224==(224&e[t+1])){if(r<t+24)return-1;var n=e[t+1]>>3&3,i=e[t+1]>>1&3,o=e[t+2]>>4&15,s=e[t+2]>>2&3,a=!!(2&e[t+2]);if(1!=n&&0!=o&&15!=o&&3!=s){var l=1e3*p[14*(3==n?3-i:3==i?3:4)+o-1],A=d[3*(3==n?0:2==n?1:2)+s],u=a?1:0,h=3==i?(3==n?12:6)*l/A+u<<2:(3==n?144:72)*l/A+u|0;return r<t+h?-1:(this.onFrame&&this.onFrame(new Uint8Array(e.subarray(t,t+h))),h)}}for(var c=t+2;c<r;){if(255===e[c-1]&&224==(224&e[c]))return this.onNoise&&this.onNoise(new Uint8Array(e.subarray(t,c-1))),c-t-1;c++}return-1},n.prototype.close=function(){0<this.bufferSize&&this.onNoise&&this.onNoise(new Uint8Array(this.buffer.subarray(0,this.bufferSize))),this.buffer=null,this.bufferSize=0,this.onClose&&this.onClose()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PassThrough={getInputFormat:function(){return{}},getOutputFormat:function(){return{}},transmux:function(e){return e}}},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(1),a=(o=s.RetrievalError,i(l,o),l.prototype.getCode=function(){return"NO_DECRYPTOR"},l);function l(){return null!==o&&o.apply(this,arguments)||this}t.NoDecryptorError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(1),a=(o=s.RetrievalError,i(l,o),l.prototype.getStatusCode=function(){return this._statusCode},l.prototype.getCode=function(){return"UNACCEPTABLE_RESPONSE_STATUS_CODE"},l);function l(e){var t=o.call(this)||this;return t._statusCode=e,t}t.UnacceptableResponseStatusCodeError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getPlaylist=function(){return this._playlist},i.prototype.getUrl=function(){return this._url},i.prototype.getSequenceNumber=function(){return this._sequenceNumber},i);function i(e,t,r){this._playlist=e,this._url=t,this._sequenceNumber=r}t.Segment=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(1),a=(o=s.RetrievalError,i(l,o),l.prototype.getCode=function(){return"OGG_PARSER."+this._code},l);function l(e){var t=o.call(this)||this;return t._code=e,t}t.OggParserError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getUrl=function(){return this._url},i);function i(e){this._url=e}t.Playlist=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getPlaylist=function(){return this._playlist},i.prototype.getUrl=function(){return this._url},i);function i(e,t){this._playlist=e,this._url=t}t.Key=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getPlaylist=function(){return this._playlist},i.prototype.getUrl=function(){return this._url},i);function i(e,t){this._playlist=e,this._url=t}t.InitData=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(13),o=r(12),s=r(11),a=r(9);(n=t.events||(t.events={})).InitData=i.InitData,n.Key=o.Key,n.Playlist=s.Playlist,n.Segment=a.Segment},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(1),a=(o=s.RetrievalError,i(l,o),l.prototype.getCode=function(){return"UNSUPPORTED_ENCRYPTION_ERROR"},l);function l(){return null!==o&&o.apply(this,arguments)||this}t.UnsupportedEncryptionError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(1),a=(o=s.RetrievalError,i(l,o),l.prototype.getDetails=function(){return this._details},l.prototype.getCode=function(){return"PLAYLIST_PARSE"},l);function l(e){var t=o.call(this)||this;return t._details=e,t}t.PlaylistParseError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(7),o=r(16),s=r(10),a=r(1),l=r(8),A=r(15);(n=t.retrievalErrors||(t.retrievalErrors={})).NoDecryptorError=i.NoDecryptorError,n.PlaylistParseError=o.PlaylistParseError,n.OggParserError=s.OggParserError,n.RetrievalError=a.RetrievalError,n.UnacceptableResponseStatusCodeError=l.UnacceptableResponseStatusCodeError,n.UnsupportedEncryptionError=A.UnsupportedEncryptionError},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=r(0);t.MP4ToMP4={getInputFormat:function(){return{mimeType:"audio/mp4"}},getOutputFormat:function(){return{mimeType:"audio/mp4"}},transmux:function(r){return new h.helpers.abortableJob.AbortableJob(function(){function i(e){t.reject(e),r.abort()}var t=h.helpers.deferred.buildDeferred(),o=new h.eventDispatcher.EventDispatcher,s=[],a=[],l=new Uint8Array(0),n=null,A=!1,u=function(e){if(e.byteLength<4)l=e;else{if(null===n){var t=new DataView(e.buffer).getUint32(0);if(1===t)throw new Error("Large atom size not supported.");n=t}var r;0!==n&&e.byteLength>=n?(r=new Uint8Array(e.buffer.slice(0,n)),a.push(r),l=new Uint8Array(e.buffer.slice(n)),n=null,u(l)):l=e}};return r.onProgressUpdate(function(e){var t=e.data;!A&&e.initData&&(t=h.helpers.arrayBuffer.combine([e.initData,e.data])),A=!0;try{var r,n=h.helpers.arrayBuffer.combine([l,t]);u(n),a.length&&(r=h.helpers.arrayBuffer.combine(a),a.splice(0),s.push(r),o.dispatch({data:r}))}catch(e){i(e)}}),r.onCompletion(function(e){try{if(0===n)s.push(l),o.dispatch({data:l});else if(l.byteLength)throw new Error("Part way through an atom.");t.resolve(e)}catch(e){i(e)}}),r.onError(i),{result:t.promise,progressUpdates:{onProgressUpdate:o,getProgressSoFar:function(){return s.length?{data:h.helpers.arrayBuffer.combine(s)}:null}},abort:function(){r.abort()}}}).run()}}},function(e,t){e.exports=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=r(0),g=r(3),m=r(19);t.OggOpusToWebm={getInputFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},getOutputFormat:function(){return{mimeType:"audio/webm",audioCodec:{id:"opus"}}},transmux:function(r){return new f.helpers.abortableJob.AbortableJob(function(){function a(e){d=!0,t.reject(e),r.abort()}var t=f.helpers.deferred.buildDeferred(),l=new f.eventDispatcher.EventDispatcher,A=[],u=null,h=new Uint8Array(0),c=!1,p=null,d=!1;return r.onProgressUpdate(function(e){if(!d){var t=[h,e.data];!c&&e.initData&&(t=[e.initData].concat(t)),c=!0;var r=f.helpers.arrayBuffer.combine(t);try{var n=g.retrievePages(r).pages,i=n.reduce(function(e,t){return e+t.entirePage.byteLength},0);h=new Uint8Array(r.buffer.slice(i));var o,s=g.retrievePackets(n);if(s.length&&!u){if(s.length<2)throw new Error("Expecting at least 2 opus packets.");-2<m.parseOpusHead(s[0]).outputGain&&m.setOutputGain(s[0],-2),u=[s[0],s[1]],s=s.slice(2)}s.length&&u&&(A.push.apply(A,s),o=m.buildWebm(u.concat(s)),p=p||o.initData,l.dispatch({initData:p,data:o.data}))}catch(e){a(e)}}}),r.onCompletion(function(e){h.byteLength?t.reject(new Error("Still data left in buffer.")):t.resolve(e)}),r.onError(a),{result:t.promise,progressUpdates:{onProgressUpdate:l,getProgressSoFar:function(){if(A.length&&u){var e=m.buildWebm(u.concat(A)).data;return{initData:p,data:e}}return null}},abort:function(){d=!0,r.abort()}}}).run()}}},function(e,t,r){"use strict";t.__esModule=!0;function lt(e,t){function r(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var n,At,i,o,s,a,l;a=At=At||{},(l=a.StringUtilities||(a.StringUtilities={})).utf8decode=function(e){for(var t=new Uint8Array(4*e.length),r=0,n=0,i=e.length;n<i;n++){var o,s=e.charCodeAt(n);s<=127?t[r++]=s:(55296<=s&&s<=56319&&(56320<=(o=e.charCodeAt(n+1))&&o<=57343&&(s=((1023&s)<<10)+(1023&o)+65536,++n)),0!=(4292870144&s)?(t[r++]=248|s>>>24&3,t[r++]=128|s>>>18&63,t[r++]=128|s>>>12&63,t[r++]=128|s>>>6&63):0!=(4294901760&s)?(t[r++]=240|s>>>18&7,t[r++]=128|s>>>12&63,t[r++]=128|s>>>6&63):0!=(4294965248&s)?(t[r++]=224|s>>>12&15,t[r++]=128|s>>>6&63):t[r++]=192|s>>>6&31,t[r++]=128|63&s)}return t.subarray(0,r)},l.utf8encode=function(e){for(var t=0,r="";t<e.length;){var n=255&e[t++];if(n<=127)r+=String.fromCharCode(n);else{var i=192,o=5;do{if((n&(i>>1|128))===i)break;i=i>>1|128,--o}while(0<=o);if(o<=0)throw new Error("Invalid UTF8 character");for(var s=n&(1<<o)-1,a=5;o<=a;--a){var l=e[t++];if(128!=(192&l))throw new Error("Invalid UTF8 character sequence");s=s<<6|63&l}r+=65536<=s?String.fromCharCode(s-65536>>10&1023|55296,1023&s|56320):String.fromCharCode(s)}}return r},function(R){function E(e){for(var t=e.length>>1,r=new Uint8Array(t),n=0;n<t;n++)r[n]=parseInt(e.substr(2*n,2),16);return r}var h,e,c=[5500,11025,22050,44100],p=["PCM","ADPCM","MP3","PCM le","Nellymouser16","Nellymouser8","Nellymouser","G.711 A-law","G.711 mu-law",null,"AAC","Speex","MP3 8khz"];(e=h=h||{})[e.HEADER=0]="HEADER",e[e.RAW=1]="RAW";var k,t,a,r,l=[null,"JPEG","Sorenson","Screen","VP6","VP6 alpha","Screen2","AVC"];(t=k=k||{})[t.KEY=1]="KEY",t[t.INNER=2]="INNER",t[t.DISPOSABLE=3]="DISPOSABLE",t[t.GENERATED=4]="GENERATED",t[t.INFO=5]="INFO",(r=a=a||{})[r.HEADER=0]="HEADER",r[r.NALU=1]="NALU",r[r.END=2]="END";var w,n;(n=w=w||{})[n.CAN_GENERATE_HEADER=0]="CAN_GENERATE_HEADER",n[n.NEED_HEADER_DATA=1]="NEED_HEADER_DATA",n[n.MAIN_PACKETS=2]="MAIN_PACKETS";var i=(o.prototype.pushPacket=function(e,t,r){switch(this.state===w.CAN_GENERATE_HEADER&&this._tryGenerateHeader(),e){case 8:var n=this.audioTrackState,i=function(e){var t=0,r=h.RAW,n=e[t],i=n>>4,o=n>>2&3,s=2&n?16:8,a=1&n?2:1;switch(t++,i){case 10:var r=e[t++],l=1024;break;case 2:var A=e[t+1]>>3&3,u=e[t+1]>>1&3;l=1==u?3==A?1152:576:3==u?384:1152}return{codecDescription:p[i],codecId:i,data:e.subarray(t),rate:c[o],size:s,channels:a,samples:l,packetType:r}}(t);if(!n||n.trackInfo.codecId!==i.codecId)throw new Error("Unexpected audio packet codec: "+i.codecDescription);switch(i.codecId){default:throw new Error("Unsupported audio codec: "+i.codecDescription);case 2:break;case 10:if(i.packetType===h.HEADER)return void n.initializationData.push(i.data)}this.cachedPackets.push({packet:i,timestamp:r,trackId:n.trackId});break;case 9:var o=this.videoTrackState,s=function(e){var t=0,r=e[t]>>4,n=15&e[t];t++;var i={frameType:r,codecId:n,codecDescription:l[n]};switch(n){case 7:var o=e[t++];i.packetType=o,i.compositionTime=(e[t]<<24|e[t+1]<<16|e[t+2]<<8)>>8,t+=3;break;case 4:i.packetType=a.NALU,i.horizontalOffset=e[t]>>4&15,i.verticalOffset=15&e[t],i.compositionTime=0,t++}return i.data=e.subarray(t),i}(t);if(!o||o.trackInfo.codecId!==s.codecId)throw new Error("Unexpected video packet codec: "+s.codecDescription);switch(s.codecId){default:throw new Error("unsupported video codec: "+s.codecDescription);case 4:break;case 7:if(s.packetType===a.HEADER)return void o.initializationData.push(s.data)}this.cachedPackets.push({packet:s,timestamp:r,trackId:o.trackId});break;default:throw new Error("unknown packet type: "+e)}this.state===w.NEED_HEADER_DATA&&this._tryGenerateHeader(),50<=this.cachedPackets.length&&this.state===w.MAIN_PACKETS&&this._chunk()},o.prototype.flush=function(){0<this.cachedPackets.length&&this._chunk()},o.prototype._checkIfNeedHeaderData=function(){this.trackStates.some(function(e){return 10===e.trackInfo.codecId||7===e.trackInfo.codecId})?this.state=w.NEED_HEADER_DATA:this.state=w.CAN_GENERATE_HEADER},o.prototype._tryGenerateHeader=function(){if(this.trackStates.every(function(e){switch(e.trackInfo.codecId){case 10:case 7:return 0<e.initializationData.length;default:return!0}})){for(var e=["isom"],t=[],r=0;r<this.trackStates.length;r++){var n=this.trackStates[r],i=n.trackInfo;switch(i.codecId){case 10:var o=n.initializationData[0],s=new R.Iso.AudioSampleEntry("mp4a",1,i.channels,i.samplesize,i.samplerate),a=new Uint8Array(41+o.length);a.set(E("0000000003808080"),0),a[8]=32+o.length,a.set(E("00020004808080"),9),a[16]=18+o.length,a.set(E("40150000000000FA000000000005808080"),17),a[34]=o.length,a.set(o,35),a.set(E("068080800102"),35+o.length),s.otherBoxes=[new R.Iso.RawTag("esds",a)];var l=o[0]>>3;n.mimeTypeCodec="mp4a.40."+l;break;case 2:s=new R.Iso.AudioSampleEntry(".mp3",1,i.channels,i.samplesize,i.samplerate),n.mimeTypeCodec="mp3";break;case 7:var A=n.initializationData[0];(s=new R.Iso.VideoSampleEntry("avc1",1,i.width,i.height)).otherBoxes=[new R.Iso.RawTag("avcC",A)];var u=A[1]<<16|A[2]<<8|A[3];n.mimeTypeCodec="avc1."+(16777216|u).toString(16).substr(1),e.push("iso2","avc1","mp41");break;case 4:(s=new R.Iso.VideoSampleEntry("VP6F",1,i.width,i.height)).otherBoxes=[new R.Iso.RawTag("glbl",E("00"))],n.mimeTypeCodec="avc1.42001E";break;default:throw new Error("not supported track type")}var h,c=R.Iso.TrackHeaderFlags.TRACK_ENABLED|R.Iso.TrackHeaderFlags.TRACK_IN_MOVIE;n===this.audioTrackState?h=new R.Iso.TrackBox(new R.Iso.TrackHeaderBox(c,n.trackId,-1,0,0,1,r),new R.Iso.MediaBox(new R.Iso.MediaHeaderBox(i.timescale,-1,i.language),new R.Iso.HandlerBox("soun","SoundHandler"),new R.Iso.MediaInformationBox(new R.Iso.SoundMediaHeaderBox,new R.Iso.DataInformationBox(new R.Iso.DataReferenceBox([new R.Iso.DataEntryUrlBox(R.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new R.Iso.SampleTableBox(new R.Iso.SampleDescriptionBox([s]),new R.Iso.RawTag("stts",E("0000000000000000")),new R.Iso.RawTag("stsc",E("0000000000000000")),new R.Iso.RawTag("stsz",E("000000000000000000000000")),new R.Iso.RawTag("stco",E("0000000000000000")))))):n===this.videoTrackState&&(h=new R.Iso.TrackBox(new R.Iso.TrackHeaderBox(c,n.trackId,-1,i.width,i.height,0,r),new R.Iso.MediaBox(new R.Iso.MediaHeaderBox(i.timescale,-1,i.language),new R.Iso.HandlerBox("vide","VideoHandler"),new R.Iso.MediaInformationBox(new R.Iso.VideoMediaHeaderBox,new R.Iso.DataInformationBox(new R.Iso.DataReferenceBox([new R.Iso.DataEntryUrlBox(R.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new R.Iso.SampleTableBox(new R.Iso.SampleDescriptionBox([s]),new R.Iso.RawTag("stts",E("0000000000000000")),new R.Iso.RawTag("stsc",E("0000000000000000")),new R.Iso.RawTag("stsz",E("000000000000000000000000")),new R.Iso.RawTag("stco",E("0000000000000000"))))))),t.push(h)}var p=new R.Iso.MovieExtendsBox(null,[new R.Iso.TrackExtendsBox(1,1,0,0,0),new R.Iso.TrackExtendsBox(2,1,0,0,0)],null),d=new R.Iso.BoxContainerBox("udat",[new R.Iso.MetaBox(new R.Iso.RawTag("hdlr",E("00000000000000006D6469726170706C000000000000000000")),[new R.Iso.RawTag("ilst",E("00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034"))])]),f=new R.Iso.MovieHeaderBox(1e3,0,this.trackStates.length+1),g=new R.Iso.MovieBox(f,t,p,d),m=new R.Iso.FileTypeBox("isom",512,e),y=m.layout(0),v=g.layout(y),_=new Uint8Array(y+v);m.write(_),g.write(_),this.oncodecinfo(this.trackStates.map(function(e){return e.mimeTypeCodec})),this.ondata(_),this.filePos+=_.length,this.state=w.MAIN_PACKETS}},o.prototype._chunk=function(){var e=this.cachedPackets;if(this.videoTrackState){for(var t=e.length-1,r=this.videoTrackState.trackId;0<t&&(e[t].trackId!==r||e[t].packet.frameType!==k.KEY);)t--;0<t&&(e=e.slice(0,t))}if(0!==e.length){for(var n=[],i=0,o=[],s=[],a=0;a<this.trackStates.length;a++){var l=this.trackStates[a],A=l.trackInfo,u=l.trackId,h=e.filter(function(e){return e.trackId===u});if(0!==h.length){var c,p=new R.Iso.TrackFragmentBaseMediaDecodeTimeBox(l.cachedDuration);switch(s.push(i),A.codecId){case 10:case 2:c=[];for(t=0;t<h.length;t++){var d=h[t].packet,f=Math.round(d.samples*A.timescale/A.samplerate);n.push(d.data),i+=d.data.length,c.push({duration:f,size:d.data.length}),l.samplesProcessed+=d.samples}var g=R.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT,m=new R.Iso.TrackFragmentHeaderBox(g,u,0,0,0,0,R.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS),y=R.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|R.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|R.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT,v=new R.Iso.TrackRunBox(y,c,0,0);l.cachedDuration=Math.round(l.samplesProcessed*A.timescale/A.samplerate);break;case 7:case 4:c=[];for(var _=l.samplesProcessed,E=_*A.timescale/A.framerate,w=Math.round(E),t=0;t<h.length;t++){var b=h[t].packet;_++;var B=Math.round(_*A.timescale/A.framerate),C=B-w,w=B,S=Math.round(_*A.timescale/A.framerate+b.compositionTime*A.timescale/1e3);n.push(b.data),i+=b.data.length;var P=b.frameType===k.KEY?R.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS:R.Iso.SampleFlags.SAMPLE_DEPENDS_ON_OTHER|R.Iso.SampleFlags.SAMPLE_IS_NOT_SYNC;c.push({duration:C,size:b.data.length,flags:P,compositionTimeOffset:S-B})}g=R.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;m=new R.Iso.TrackFragmentHeaderBox(g,u,0,0,0,0,R.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);y=R.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|R.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|R.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT|R.Iso.TrackRunFlags.SAMPLE_FLAGS_PRESENT|R.Iso.TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET;v=new R.Iso.TrackRunBox(y,c,0,0),l.cachedDuration=w,l.samplesProcessed=_;break;default:throw new Error("Un codec")}var F=new R.Iso.TrackFragmentBox(m,p,v);o.push(F)}}this.cachedPackets.splice(0,e.length);for(var x=new R.Iso.MovieFragmentHeaderBox(++this.chunkIndex),T=new R.Iso.MovieFragmentBox(x,o),U=T.layout(0),Q=new R.Iso.MediaDataBox(n),D=Q.layout(U),M=U+8,a=0;a<o.length;a++)o[a].run.dataOffset=M+s[a];var I=new Uint8Array(U+D);T.write(I),Q.write(I),this.ondata(I),this.filePos+=I.length}},o);function o(e){var n=this;this.oncodecinfo=function(e){},this.ondata=function(e){throw new Error("MP4Mux.ondata is not set")},this.metadata=e,this.trackStates=this.metadata.tracks.map(function(e,t){var r={trackId:t+1,trackInfo:e,cachedDuration:0,samplesProcessed:0,initializationData:[]};return n.metadata.audioTrackId===t&&(n.audioTrackState=r),n.metadata.videoTrackId===t&&(n.videoTrackState=r),r},this),this._checkIfNeedHeaderData(),this.filePos=0,this.cachedPackets=[],this.chunkIndex=0}R.MP4Mux=i,R.parseFLVMetadata=function(e){var t,r,n=[],i=-1,o=-1,s=+e.asGetPublicProperty("duration"),a=e.asGetPublicProperty("audiocodecid");switch(a){case 2:case"mp3":t="mp3",r=2;break;case 10:case"mp4a":t="mp4a",r=10;break;default:if(!isNaN(a))throw new Error("Unsupported audio codec: "+a);t=null,r=-1}var l,A,u=e.asGetPublicProperty("videocodecid");switch(u){case 4:case"vp6f":l="vp6f",A=4;break;case 7:case"avc1":l="avc1",A=7;break;default:if(!isNaN(u))throw new Error("Unsupported video codec: "+u);l=null,A=-1}var h=null===t?null:{codecDescription:t,codecId:r,language:"und",timescale:+e.asGetPublicProperty("audiosamplerate")||44100,samplerate:+e.asGetPublicProperty("audiosamplerate")||44100,channels:+e.asGetPublicProperty("audiochannels")||2,samplesize:16},c=null===l?null:{codecDescription:l,codecId:A,language:"und",timescale:6e4,framerate:+e.asGetPublicProperty("videoframerate")||+e.asGetPublicProperty("framerate"),width:+e.asGetPublicProperty("width"),height:+e.asGetPublicProperty("height")},p=e.asGetPublicProperty("trackinfo");if(p)for(var d=0;d<p.length;d++){var f=p[d],g=f.asGetPublicProperty("sampledescription")[0];g.asGetPublicProperty("sampletype")===a?(h.language=f.asGetPublicProperty("language"),h.timescale=+f.asGetPublicProperty("timescale")):g.asGetPublicProperty("sampletype")===u&&(c.language=f.asGetPublicProperty("language"),c.timescale=+f.asGetPublicProperty("timescale"))}return c&&(o=n.length,n.push(c)),h&&(i=n.length,n.push(h)),{tracks:n,duration:s,audioTrackId:i,videoTrackId:o}},R.splitMetadata=function(e){var t=[];return 0<=e.audioTrackId&&t.push({tracks:[e.tracks[e.audioTrackId]],duration:e.duration,audioTrackId:0,videoTrackId:-1}),0<=e.videoTrackId&&t.push({tracks:[e.tracks[e.videoTrackId]],duration:e.duration,audioTrackId:-1,videoTrackId:0}),t}}((s=n=n||{}).MP4||(s.MP4={})),i=n=n||{},function(h){function o(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Array.prototype.concat.apply(e,t)}function s(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function i(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}function n(e){return(e-c)/1e3|0}function a(e){return 65536*e|0}function r(e){return 1073741824*e|0}function l(e){return 256*e|0}var A=At.StringUtilities.utf8decode,c=-20828448e5,p=[1,0,0,0,1,0,0,0,1],u=[0,0,0],e=(t.prototype.layout=function(e){this.offset=e;var t=8;return this.userType&&(t+=16),this.size=t},t.prototype.write=function(e){return s(e,this.offset,this.size),s(e,this.offset+4,i(this.boxtype)),this.userType?(e.set(this.userType,this.offset+8),24):8},t.prototype.toUint8Array=function(){var e=this.layout(0),t=new Uint8Array(e);return this.write(t),t},t);function t(e,t){"uuid"===(this.boxtype=e)&&(this.userType=t)}h.Box=e;var d,f=(lt(g,d=e),g.prototype.layout=function(e){return this.size=d.prototype.layout.call(this,e)+4,this.size},g.prototype.write=function(e){var t=d.prototype.write.call(this,e);return s(e,this.offset+t,this.version<<24|this.flags),t+4},g);function g(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0);var n=d.call(this,e)||this;return n.version=t,n.flags=r,n}h.FullBox=f;var m,y=(lt(v,m=e),v.prototype.layout=function(e){return this.size=m.prototype.layout.call(this,e)+4*(2+this.compatibleBrands.length),this.size},v.prototype.write=function(t){var r=this,n=m.prototype.write.call(this,t);return s(t,this.offset+n,i(this.majorBrand)),s(t,this.offset+n+4,this.minorVersion),n+=8,this.compatibleBrands.forEach(function(e){s(t,r.offset+n,i(e)),n+=4},this),n},v);function v(e,t,r){var n=m.call(this,"ftype")||this;return n.majorBrand=e,n.minorVersion=t,n.compatibleBrands=r,n}h.FileTypeBox=y;var _,E=(lt(w,_=e),w.prototype.layout=function(t){var r=_.prototype.layout.call(this,t);return this.children.forEach(function(e){e&&(r+=e.layout(t+r))}),this.size=r},w.prototype.write=function(t){var r=_.prototype.write.call(this,t);return this.children.forEach(function(e){e&&(r+=e.write(t))}),r},w);function w(e,t){var r=_.call(this,e)||this;return r.children=t,r}h.BoxContainerBox=E;var b,B=(lt(C,b=E),C);function C(e,t,r,n){var i=b.call(this,"moov",o([e],t,[r,n]))||this;return i.header=e,i.tracks=t,i.extendsBox=r,i.userData=n,i}h.MovieBox=B;var S,P,F=(lt(x,S=f),x.prototype.layout=function(e){return this.size=S.prototype.layout.call(this,e)+16+4+2+2+8+36+24+4,this.size},x.prototype.write=function(e){var t=S.prototype.write.call(this,e);return s(e,this.offset+t,n(this.creationTime)),s(e,this.offset+t+4,n(this.modificationTime)),s(e,this.offset+t+8,this.timescale),s(e,this.offset+t+12,this.duration),t+=16,s(e,this.offset+t,a(this.rate)),s(e,this.offset+t+4,l(this.volume)<<16),s(e,this.offset+t+8,0),s(e,this.offset+t+12,0),t+=16,s(e,this.offset+t,a(this.matrix[0])),s(e,this.offset+t+4,a(this.matrix[1])),s(e,this.offset+t+8,a(this.matrix[2])),s(e,this.offset+t+12,a(this.matrix[3])),s(e,this.offset+t+16,a(this.matrix[4])),s(e,this.offset+t+20,a(this.matrix[5])),s(e,this.offset+t+24,r(this.matrix[6])),s(e,this.offset+t+28,r(this.matrix[7])),s(e,this.offset+t+32,r(this.matrix[8])),t+=36,s(e,this.offset+t,0),s(e,this.offset+t+4,0),s(e,this.offset+t+8,0),s(e,this.offset+t+12,0),s(e,this.offset+t+16,0),s(e,this.offset+t+20,0),t+=24,s(e,this.offset+t,this.nextTrackId),t+4},x);function x(e,t,r,n,i,o,s,a){void 0===n&&(n=1),void 0===i&&(i=1),void 0===o&&(o=p),void 0===s&&(s=c),void 0===a&&(a=c);var l=S.call(this,"mvhd",0,0)||this;return l.timescale=e,l.duration=t,l.nextTrackId=r,l.rate=n,l.volume=i,l.matrix=o,l.creationTime=s,l.modificationTime=a,l}h.MovieHeaderBox=F,(P=h.TrackHeaderFlags||(h.TrackHeaderFlags={}))[P.TRACK_ENABLED=1]="TRACK_ENABLED",P[P.TRACK_IN_MOVIE=2]="TRACK_IN_MOVIE",P[P.TRACK_IN_PREVIEW=4]="TRACK_IN_PREVIEW";var T,U=(lt(Q,T=f),Q.prototype.layout=function(e){return this.size=T.prototype.layout.call(this,e)+20+8+6+2+36+8,this.size},Q.prototype.write=function(e){var t=T.prototype.write.call(this,e);return s(e,this.offset+t,n(this.creationTime)),s(e,this.offset+t+4,n(this.modificationTime)),s(e,this.offset+t+8,this.trackId),s(e,this.offset+t+12,0),s(e,this.offset+t+16,this.duration),t+=20,s(e,this.offset+t,0),s(e,this.offset+t+4,0),s(e,this.offset+t+8,this.layer<<16|this.alternateGroup),s(e,this.offset+t+12,l(this.volume)<<16),t+=16,s(e,this.offset+t,a(this.matrix[0])),s(e,this.offset+t+4,a(this.matrix[1])),s(e,this.offset+t+8,a(this.matrix[2])),s(e,this.offset+t+12,a(this.matrix[3])),s(e,this.offset+t+16,a(this.matrix[4])),s(e,this.offset+t+20,a(this.matrix[5])),s(e,this.offset+t+24,r(this.matrix[6])),s(e,this.offset+t+28,r(this.matrix[7])),s(e,this.offset+t+32,r(this.matrix[8])),t+=36,s(e,this.offset+t,a(this.width)),s(e,this.offset+t+4,a(this.height)),t+8},Q);function Q(e,t,r,n,i,o,s,a,l,A,u){void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=p),void 0===A&&(A=c),void 0===u&&(u=c);var h=T.call(this,"tkhd",0,e)||this;return h.trackId=t,h.duration=r,h.width=n,h.height=i,h.volume=o,h.alternateGroup=s,h.layer=a,h.matrix=l,h.creationTime=A,h.modificationTime=u,h}h.TrackHeaderBox=U;var D,M=(lt(I,D=f),I.prototype.layout=function(e){return this.size=D.prototype.layout.call(this,e)+16+4,this.size},I.prototype.write=function(e){var t,r=D.prototype.write.call(this,e);return s(e,this.offset+r,n(this.creationTime)),s(e,this.offset+r+4,n(this.modificationTime)),s(e,this.offset+r+8,this.timescale),s(e,this.offset+r+12,this.duration),s(e,this.offset+r+16,((31&(t=this.language).charCodeAt(0))<<10|(31&t.charCodeAt(1))<<5|31&t.charCodeAt(2))<<16),r+20},I);function I(e,t,r,n,i){void 0===r&&(r="unk"),void 0===n&&(n=c),void 0===i&&(i=c);var o=D.call(this,"mdhd",0,0)||this;return o.timescale=e,o.duration=t,o.language=r,o.creationTime=n,o.modificationTime=i,o}h.MediaHeaderBox=M;var R,k=(lt(N,R=f),N.prototype.layout=function(e){return this.size=R.prototype.layout.call(this,e)+8+12+(this._encodedName.length+1),this.size},N.prototype.write=function(e){var t=R.prototype.write.call(this,e);return s(e,this.offset+t,0),s(e,this.offset+t+4,i(this.handlerType)),s(e,this.offset+t+8,0),s(e,this.offset+t+12,0),s(e,this.offset+t+16,0),t+=20,e.set(this._encodedName,this.offset+t),e[this.offset+t+this._encodedName.length]=0,t+(this._encodedName.length+1)},N);function N(e,t){var r=R.call(this,"hdlr",0,0)||this;return r.handlerType=e,r.name=t,r._encodedName=A(r.name),r}h.HandlerBox=k;var O,H=(lt(L,O=f),L.prototype.layout=function(e){return this.size=O.prototype.layout.call(this,e)+4,this.size},L.prototype.write=function(e){var t=O.prototype.write.call(this,e);return s(e,this.offset+t,l(this.balance)<<16),t+4},L);function L(e){void 0===e&&(e=0);var t=O.call(this,"smhd",0,0)||this;return t.balance=e,t}h.SoundMediaHeaderBox=H;var z,K=(lt(V,z=f),V.prototype.layout=function(e){return this.size=z.prototype.layout.call(this,e)+8,this.size},V.prototype.write=function(e){var t=z.prototype.write.call(this,e);return s(e,this.offset+t,this.graphicsMode<<16|this.opColor[0]),s(e,this.offset+t+4,this.opColor[1]<<16|this.opColor[2]),t+8},V);function V(e,t){void 0===e&&(e=0),void 0===t&&(t=u);var r=z.call(this,"vmhd",0,0)||this;return r.graphicsMode=e,r.opColor=t,r}h.VideoMediaHeaderBox=K,h.SELF_CONTAINED_DATA_REFERENCE_FLAG=1;var j,G=(lt(q,j=f),q.prototype.layout=function(e){var t=j.prototype.layout.call(this,e);return this._encodedLocation&&(t+=this._encodedLocation.length+1),this.size=t},q.prototype.write=function(e){var t=j.prototype.write.call(this,e);return this._encodedLocation&&(e.set(this._encodedLocation,this.offset+t),e[this.offset+t+this._encodedLocation.length]=0,t+=this._encodedLocation.length),t},q);function q(e,t){void 0===t&&(t=null);var r=j.call(this,"url ",0,e)||this;return r.location=t,e&h.SELF_CONTAINED_DATA_REFERENCE_FLAG||(r._encodedLocation=A(t)),r}h.DataEntryUrlBox=G;var W,X=(lt(J,W=f),J.prototype.layout=function(t){var r=W.prototype.layout.call(this,t)+4;return this.entries.forEach(function(e){r+=e.layout(t+r)}),this.size=r},J.prototype.write=function(t){var r=W.prototype.write.call(this,t);return s(t,this.offset+r,this.entries.length),this.entries.forEach(function(e){r+=e.write(t)}),r},J);function J(e){var t=W.call(this,"dref",0,0)||this;return t.entries=e,t}h.DataReferenceBox=X;var Y,Z=(lt($,Y=E),$);function $(e){var t=Y.call(this,"dinf",[e])||this;return t.dataReference=e,t}h.DataInformationBox=Z;var ee,te=(lt(re,ee=f),re.prototype.layout=function(t){var r=ee.prototype.layout.call(this,t);return r+=4,this.entries.forEach(function(e){r+=e.layout(t+r)}),this.size=r},re.prototype.write=function(t){var r=ee.prototype.write.call(this,t);return s(t,this.offset+r,this.entries.length),r+=4,this.entries.forEach(function(e){r+=e.write(t)}),r},re);function re(e){var t=ee.call(this,"stsd",0,0)||this;return t.entries=e,t}h.SampleDescriptionBox=te;var ne,ie=(lt(oe,ne=E),oe);function oe(e,t,r,n,i){var o=ne.call(this,"stbl",[e,t,r,n,i])||this;return o.sampleDescriptions=e,o.timeToSample=t,o.sampleToChunk=r,o.sampleSizes=n,o.chunkOffset=i,o}h.SampleTableBox=ie;var se,ae=(lt(le,se=E),le);function le(e,t,r){var n=se.call(this,"minf",[e,t,r])||this;return n.header=e,n.info=t,n.sampleTable=r,n}h.MediaInformationBox=ae;var Ae,ue=(lt(he,Ae=E),he);function he(e,t,r){var n=Ae.call(this,"mdia",[e,t,r])||this;return n.header=e,n.handler=t,n.info=r,n}h.MediaBox=ue;var ce,pe=(lt(de,ce=E),de);function de(e,t){var r=ce.call(this,"trak",[e,t])||this;return r.header=e,r.media=t,r}h.TrackBox=pe;var fe,ge=(lt(me,fe=f),me.prototype.layout=function(e){return this.size=fe.prototype.layout.call(this,e)+20,this.size},me.prototype.write=function(e){var t=fe.prototype.write.call(this,e);return s(e,this.offset+t,this.trackId),s(e,this.offset+t+4,this.defaultSampleDescriptionIndex),s(e,this.offset+t+8,this.defaultSampleDuration),s(e,this.offset+t+12,this.defaultSampleSize),s(e,this.offset+t+16,this.defaultSampleFlags),t+20},me);function me(e,t,r,n,i){var o=fe.call(this,"trex",0,0)||this;return o.trackId=e,o.defaultSampleDescriptionIndex=t,o.defaultSampleDuration=r,o.defaultSampleSize=n,o.defaultSampleFlags=i,o}h.TrackExtendsBox=ge;var ye,ve=(lt(_e,ye=E),_e);function _e(e,t,r){var n=ye.call(this,"mvex",o([e],t,[r]))||this;return n.header=e,n.tracDefaults=t,n.levels=r,n}h.MovieExtendsBox=ve;var Ee,we=(lt(be,Ee=f),be.prototype.layout=function(t){var r=Ee.prototype.layout.call(this,t);return r+=this.handler.layout(t+r),this.otherBoxes.forEach(function(e){r+=e.layout(t+r)}),this.size=r},be.prototype.write=function(t){var r=Ee.prototype.write.call(this,t);return r+=this.handler.write(t),this.otherBoxes.forEach(function(e){r+=e.write(t)}),r},be);function be(e,t){var r=Ee.call(this,"meta",0,0)||this;return r.handler=e,r.otherBoxes=t,r}h.MetaBox=we;var Be,Ce,Se,Pe=(lt(Fe,Be=f),Fe.prototype.layout=function(e){return this.size=Be.prototype.layout.call(this,e)+4,this.size},Fe.prototype.write=function(e){var t=Be.prototype.write.call(this,e);return s(e,this.offset+t,this.sequenceNumber),t+4},Fe);function Fe(e){var t=Be.call(this,"mfhd",0,0)||this;return t.sequenceNumber=e,t}h.MovieFragmentHeaderBox=Pe,(Se=Ce=h.TrackFragmentFlags||(h.TrackFragmentFlags={}))[Se.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",Se[Se.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",Se[Se.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",Se[Se.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",Se[Se.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT";var xe,Te=(lt(Ue,xe=f),Ue.prototype.layout=function(e){var t=xe.prototype.layout.call(this,e)+4,r=this.flags;return r&Ce.BASE_DATA_OFFSET_PRESENT&&(t+=8),r&Ce.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(t+=4),r&Ce.DEFAULT_SAMPLE_DURATION_PRESENT&&(t+=4),r&Ce.DEFAULT_SAMPLE_SIZE_PRESENT&&(t+=4),r&Ce.DEFAULT_SAMPLE_FLAGS_PRESENT&&(t+=4),this.size=t},Ue.prototype.write=function(e){var t=xe.prototype.write.call(this,e),r=this.flags;return s(e,this.offset+t,this.trackId),t+=4,r&Ce.BASE_DATA_OFFSET_PRESENT&&(s(e,this.offset+t,0),s(e,this.offset+t+4,this.baseDataOffset),t+=8),r&Ce.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(s(e,this.offset+t,this.sampleDescriptionIndex),t+=4),r&Ce.DEFAULT_SAMPLE_DURATION_PRESENT&&(s(e,this.offset+t,this.defaultSampleDuration),t+=4),r&Ce.DEFAULT_SAMPLE_SIZE_PRESENT&&(s(e,this.offset+t,this.defaultSampleSize),t+=4),r&Ce.DEFAULT_SAMPLE_FLAGS_PRESENT&&(s(e,this.offset+t,this.defaultSampleFlags),t+=4),t},Ue);function Ue(e,t,r,n,i,o,s){var a=xe.call(this,"tfhd",0,e)||this;return a.trackId=t,a.baseDataOffset=r,a.sampleDescriptionIndex=n,a.defaultSampleDuration=i,a.defaultSampleSize=o,a.defaultSampleFlags=s,a}h.TrackFragmentHeaderBox=Te;var Qe,De=(lt(Me,Qe=f),Me.prototype.layout=function(e){return this.size=Qe.prototype.layout.call(this,e)+4,this.size},Me.prototype.write=function(e){var t=Qe.prototype.write.call(this,e);return s(e,this.offset+t,this.baseMediaDecodeTime),t+4},Me);function Me(e){var t=Qe.call(this,"tfdt",0,0)||this;return t.baseMediaDecodeTime=e,t}h.TrackFragmentBaseMediaDecodeTimeBox=De;var Ie,Re,ke,Ne,Oe=(lt(He,Ie=E),He);function He(e,t,r){var n=Ie.call(this,"traf",[e,t,r])||this;return n.header=e,n.decodeTime=t,n.run=r,n}h.TrackFragmentBox=Oe,(Re=h.SampleFlags||(h.SampleFlags={}))[Re.IS_LEADING_MASK=201326592]="IS_LEADING_MASK",Re[Re.SAMPLE_DEPENDS_ON_MASK=50331648]="SAMPLE_DEPENDS_ON_MASK",Re[Re.SAMPLE_DEPENDS_ON_OTHER=16777216]="SAMPLE_DEPENDS_ON_OTHER",Re[Re.SAMPLE_DEPENDS_ON_NO_OTHERS=33554432]="SAMPLE_DEPENDS_ON_NO_OTHERS",Re[Re.SAMPLE_IS_DEPENDED_ON_MASK=12582912]="SAMPLE_IS_DEPENDED_ON_MASK",Re[Re.SAMPLE_HAS_REDUNDANCY_MASK=3145728]="SAMPLE_HAS_REDUNDANCY_MASK",Re[Re.SAMPLE_PADDING_VALUE_MASK=917504]="SAMPLE_PADDING_VALUE_MASK",Re[Re.SAMPLE_IS_NOT_SYNC=65536]="SAMPLE_IS_NOT_SYNC",Re[Re.SAMPLE_DEGRADATION_PRIORITY_MASK=65535]="SAMPLE_DEGRADATION_PRIORITY_MASK",(Ne=ke=h.TrackRunFlags||(h.TrackRunFlags={}))[Ne.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",Ne[Ne.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",Ne[Ne.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",Ne[Ne.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",Ne[Ne.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",Ne[Ne.SAMPLE_COMPOSITION_TIME_OFFSET=2048]="SAMPLE_COMPOSITION_TIME_OFFSET";var Le,ze=(lt(Ke,Le=f),Ke.prototype.layout=function(e){var t=Le.prototype.layout.call(this,e)+4,r=this.samples.length,n=this.flags;return n&ke.DATA_OFFSET_PRESENT&&(t+=4),n&ke.FIRST_SAMPLE_FLAGS_PRESENT&&(t+=4),n&ke.SAMPLE_DURATION_PRESENT&&(t+=4*r),n&ke.SAMPLE_SIZE_PRESENT&&(t+=4*r),n&ke.SAMPLE_FLAGS_PRESENT&&(t+=4*r),n&ke.SAMPLE_COMPOSITION_TIME_OFFSET&&(t+=4*r),this.size=t},Ke.prototype.write=function(e){var t=Le.prototype.write.call(this,e),r=this.samples.length,n=this.flags;s(e,this.offset+t,r),t+=4,n&ke.DATA_OFFSET_PRESENT&&(s(e,this.offset+t,this.dataOffset),t+=4),n&ke.FIRST_SAMPLE_FLAGS_PRESENT&&(s(e,this.offset+t,this.firstSampleFlags),t+=4);for(var i=0;i<r;i++){var o=this.samples[i];n&ke.SAMPLE_DURATION_PRESENT&&(s(e,this.offset+t,o.duration),t+=4),n&ke.SAMPLE_SIZE_PRESENT&&(s(e,this.offset+t,o.size),t+=4),n&ke.SAMPLE_FLAGS_PRESENT&&(s(e,this.offset+t,o.flags),t+=4),n&ke.SAMPLE_COMPOSITION_TIME_OFFSET&&(s(e,this.offset+t,o.compositionTimeOffset),t+=4)}return t},Ke);function Ke(e,t,r,n){var i=Le.call(this,"trun",1,e)||this;return i.samples=t,i.dataOffset=r,i.firstSampleFlags=n,i}h.TrackRunBox=ze;var Ve,je=(lt(Ge,Ve=E),Ge);function Ge(e,t){var r=Ve.call(this,"moof",o([e],t))||this;return r.header=e,r.trafs=t,r}h.MovieFragmentBox=je;var qe,We=(lt(Xe,qe=e),Xe.prototype.layout=function(e){var t=qe.prototype.layout.call(this,e);return this.chunks.forEach(function(e){t+=e.length}),this.size=t},Xe.prototype.write=function(t){var r=this,n=qe.prototype.write.call(this,t);return this.chunks.forEach(function(e){t.set(e,r.offset+n),n+=e.length},this),n},Xe);function Xe(e){var t=qe.call(this,"mdat")||this;return t.chunks=e,t}h.MediaDataBox=We;var Je,Ye=(lt(Ze,Je=e),Ze.prototype.layout=function(e){return this.size=Je.prototype.layout.call(this,e)+8,this.size},Ze.prototype.write=function(e){var t=Je.prototype.write.call(this,e);return s(e,this.offset+t,0),s(e,this.offset+t+4,this.dataReferenceIndex),t+8},Ze);function Ze(e,t){var r=Je.call(this,e)||this;return r.dataReferenceIndex=t,r}h.SampleEntry=Ye;var $e,et=(lt(tt,$e=Ye),tt.prototype.layout=function(t){var r=$e.prototype.layout.call(this,t)+20;return this.otherBoxes&&this.otherBoxes.forEach(function(e){r+=e.layout(t+r)}),this.size=r},tt.prototype.write=function(t){var r=$e.prototype.write.call(this,t);return s(t,this.offset+r,0),s(t,this.offset+r+4,0),s(t,this.offset+r+8,this.channelCount<<16|this.sampleSize),s(t,this.offset+r+12,0),s(t,this.offset+r+16,this.sampleRate<<16),r+=20,this.otherBoxes&&this.otherBoxes.forEach(function(e){r+=e.write(t)}),r},tt);function tt(e,t,r,n,i,o){void 0===r&&(r=2),void 0===n&&(n=16),void 0===i&&(i=44100),void 0===o&&(o=null);var s=$e.call(this,e,t)||this;return s.channelCount=r,s.sampleSize=n,s.sampleRate=i,s.otherBoxes=o,s}h.AudioSampleEntry=et,h.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH=24;var rt,nt=(lt(it,rt=Ye),it.prototype.layout=function(t){var r=rt.prototype.layout.call(this,t)+16+12+4+2+32+2+2;return this.otherBoxes&&this.otherBoxes.forEach(function(e){r+=e.layout(t+r)}),this.size=r},it.prototype.write=function(t){var r=rt.prototype.write.call(this,t);s(t,this.offset+r,0),s(t,this.offset+r+4,0),s(t,this.offset+r+8,0),s(t,this.offset+r+12,0),r+=16,s(t,this.offset+r,this.width<<16|this.height),s(t,this.offset+r+4,a(this.horizResolution)),s(t,this.offset+r+8,a(this.vertResolution)),r+=12,s(t,this.offset+r,0),s(t,this.offset+r+4,this.frameCount<<16),r+=6,t[this.offset+r]=this.compressorName.length;for(var e=0;e<31;e++)t[this.offset+r+e+1]=e<this.compressorName.length?127&this.compressorName.charCodeAt(e):0;return r+=32,s(t,this.offset+r,this.depth<<16|65535),r+=4,this.otherBoxes&&this.otherBoxes.forEach(function(e){r+=e.write(t)}),r},it);function it(e,t,r,n,i,o,s,a,l,A){void 0===i&&(i=""),void 0===o&&(o=72),void 0===s&&(s=72),void 0===a&&(a=1),void 0===l&&(l=h.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH),void 0===A&&(A=null);var u=rt.call(this,e,t)||this;if(u.width=r,u.height=n,u.compressorName=i,u.horizResolution=o,u.vertResolution=s,u.frameCount=a,u.depth=l,u.otherBoxes=A,31<i.length)throw new Error("invalid compressor name");return u}h.VideoSampleEntry=nt;var ot,st=(lt(at,ot=e),at.prototype.layout=function(e){return this.size=ot.prototype.layout.call(this,e)+this.data.length,this.size},at.prototype.write=function(e){var t=ot.prototype.write.call(this,e);return e.set(this.data,this.offset+t),t+this.data.length},at);function at(e,t){var r=ot.call(this,e)||this;return r.data=t,r}h.RawTag=st}((o=i.MP4||(i.MP4={})).Iso||(o.Iso={})),t.MP4Mux=n.MP4.MP4Mux},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=r(0),c=r(5);t.MP3ToMP3={getInputFormat:function(){return{mimeType:"audio/mpeg"}},getOutputFormat:function(){return{mimeType:"audio/mpeg"}},transmux:function(u){return new h.helpers.abortableJob.AbortableJob(function(){function t(){A.close()}function n(e){l=!0;try{t()}catch(e){}r.reject(e),u.abort()}var r=h.helpers.deferred.buildDeferred(),i=new h.eventDispatcher.EventDispatcher,o=[],s=[],a=!1,l=!1,A=new c.MP3Parser;return A.onFrame=function(e){if(!l)try{s.push(e)}catch(e){n(e)}},u.onProgressUpdate(function(e){var t,r=e.data;!a&&e.initData&&(r=h.helpers.arrayBuffer.combine([e.initData,e.data])),a=!0;try{A.push(r),s.length&&(t=h.helpers.arrayBuffer.combine(s),o.push(t),s.splice(0),i.dispatch({data:t}))}catch(e){n(e)}}),u.onCompletion(function(e){try{t(),r.resolve(e)}catch(e){n(e)}}),u.onError(n),{result:r.promise,progressUpdates:{onProgressUpdate:i,getProgressSoFar:function(){return o.length?{data:h.helpers.arrayBuffer.combine(o)}:null}},abort:function(){l=!0,u.abort(),t()}}}).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6),i=r(22),o=r(4),s=r(20),a=r(18),l=[i.MP3ToMP3,a.MP4ToMP4,n.PassThrough,o.MP3ToMP4,s.OggOpusToWebm];t.default=l},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t(2),s=t(23);r.TransmuxerFactory={retrieveTransmuxers:function(n,i){return s.default.filter(function(e){var t=e.getInputFormat(),r=e.getOutputFormat();return(!n||o.isPartialMatch(t,n))&&(!i||o.isPartialMatch(r,i))})},retrieveTransmuxer:function(e,t){return r.TransmuxerFactory.retrieveTransmuxers(e,t)[0]||null}}},function(e,t,r){"use strict";function M(e){var t=e.byteLength,r=new DataView(e),n=t&&r.getUint8(t-1);if(n){for(var i=t-n,o=new Uint8Array(i),s=0;s<i;s++)o[s]=r.getUint8(s);return o.buffer}return e}t.__esModule=!0,t.removePadding=M;var n=t.AESDecryptor=(i.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),n=0;n<4;n++)r[n]=t.getUint32(4*n);return r},i.prototype.initTable=function(){for(var e=this.sBox,t=this.invSBox,r=this.subMix,n=r[0],i=r[1],o=r[2],s=r[3],a=this.invSubMix,l=a[0],A=a[1],u=a[2],h=a[3],c=new Uint32Array(256),p=0,d=0,f=0,f=0;f<256;f++)c[f]=f<128?f<<1:f<<1^283;for(f=0;f<256;f++){var g=(g=d^d<<1^d<<2^d<<3^d<<4)>>>8^255&g^99,m=c[t[e[p]=g]=p],y=c[m],v=c[y],_=257*c[g]^16843008*g;n[p]=_<<24|_>>>8,i[p]=_<<16|_>>>16,o[p]=_<<8|_>>>24,s[p]=_,_=16843009*v^65537*y^257*m^16843008*p,l[g]=_<<24|_>>>8,A[g]=_<<16|_>>>16,u[g]=_<<8|_>>>24,h[g]=_,p?(p=m^c[c[c[v^m]]],d^=c[c[d]]):p=d=1}},i.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,n=0;n<t.length&&r;)r=t[n]===this.key[n],n++;if(!r){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);for(var o=this.ksRows=4*(i+6+1),s=void 0,a=void 0,l=this.keySchedule=new Uint32Array(o),A=this.invKeySchedule=new Uint32Array(o),u=this.sBox,h=this.rcon,c=this.invSubMix,p=c[0],d=c[1],f=c[2],g=c[3],m=void 0,y=void 0,s=0;s<o;s++)s<i?m=l[s]=t[s]:(y=m,s%i==0?(y=u[(y=y<<8|y>>>24)>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=h[s/i|0]<<24):6<i&&s%i==4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),l[s]=m=(l[s-i]^y)>>>0);for(a=0;a<o;a++)s=o-a,y=3&a?l[s]:l[s-4],A[a]=a<4||s<=4?y:p[u[y>>>24]]^d[u[y>>>16&255]]^f[u[y>>>8&255]]^g[u[255&y]],A[a]=A[a]>>>0}},i.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},i.prototype.decrypt=function(e,t,r,n){for(var i,o,s,a,l=this.keySize+6,A=this.invKeySchedule,u=this.invSBox,h=this.invSubMix,c=h[0],p=h[1],d=h[2],f=h[3],g=this.uint8ArrayToUint32Array_(r),m=g[0],y=g[1],v=g[2],_=g[3],E=new Int32Array(e),w=new Int32Array(E.length),b=void 0,B=void 0,C=void 0,S=void 0,P=void 0,F=void 0,x=void 0,T=void 0,U=void 0,Q=void 0,D=this.networkToHostOrderSwap;t<E.length;){for(i=D(E[t]),o=D(E[t+1]),s=D(E[t+2]),a=D(E[t+3]),P=i^A[0],F=a^A[1],x=s^A[2],T=o^A[3],U=4,Q=1;Q<l;Q++)b=c[P>>>24]^p[F>>16&255]^d[x>>8&255]^f[255&T]^A[U],B=c[F>>>24]^p[x>>16&255]^d[T>>8&255]^f[255&P]^A[U+1],C=c[x>>>24]^p[T>>16&255]^d[P>>8&255]^f[255&F]^A[U+2],S=c[T>>>24]^p[P>>16&255]^d[F>>8&255]^f[255&x]^A[U+3],P=b,F=B,x=C,T=S,U+=4;b=u[P>>>24]<<24^u[F>>16&255]<<16^u[x>>8&255]<<8^u[255&T]^A[U],B=u[F>>>24]<<24^u[x>>16&255]<<16^u[T>>8&255]<<8^u[255&P]^A[U+1],C=u[x>>>24]<<24^u[T>>16&255]<<16^u[P>>8&255]<<8^u[255&F]^A[U+2],S=u[T>>>24]<<24^u[P>>16&255]<<16^u[F>>8&255]<<8^u[255&x]^A[U+3],U+=3,w[t]=D(b^m),w[t+1]=D(S^y),w[t+2]=D(C^v),w[t+3]=D(B^_),m=i,y=o,v=s,_=a,t+=4}return n?M(w.buffer):w.buffer},i.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},i);function i(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,i),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=r(0),p=r(25),n=null;t.JSCrypto={canDecrypt:function(e){return"AES-CBC"===e.cipher},decrypt:function(e,u){var h=n=n||new p.AESDecryptor;return new c.helpers.abortableJob.AbortableJob(function(){var t,i=new c.eventDispatcher.EventDispatcher,r=c.helpers.deferred.buildDeferred(),o=[],s=null,n=[],a=0,l=new Uint8Array(u.iv),A=!1;h.expandKey(u.key.buffer);return e.onProgressUpdate(function(e){A||(c.helpers.arrayBuffer.forEach(e,function(e){A||(a||(t=new Uint8Array(16)),t[a++]=e,16===a&&(n.push(t),a=0))}),n.length&&(function(e){var t=s;s=new Uint8Array(h.decrypt(e.buffer,0,l.buffer,!1));var r=e.byteLength-16;if(r<0)throw new Error("lastBlockOffset invalid.");for(var n=0;n<16;n++)l[n]=e[r+n];t&&(o.push(t),i.dispatch(t))}(c.helpers.arrayBuffer.combine(n)),n=[]))}),e.onCompletion(function(e){var t;A||(a?r.reject(new Error("Reached end part way through block.")):(s&&(t=new Uint8Array(p.removePadding(s.buffer)),o.push(t),i.dispatch(t)),r.resolve(e)))}),e.onError(r.reject),{result:r.promise,abort:function(){A=!0,e.abort()},progressUpdates:{onProgressUpdate:i,getProgressSoFar:function(){return c.helpers.arrayBuffer.combine(o)}}}}).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[r(26).JSCrypto];t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(27),o=n.helpers.find;t.DecryptorFactory={retrieveDecryptor:function(t){return o(i.default,function(e){return e.canDecrypt(t)})||null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var A=r(0),u=r(28),h=r(7);t.getSegmentDownloadAndDecryptJob=function(e){var s=e.encryptionConfig,a=e.downloadAbortableJob,l=e.logger;return new A.helpers.abortableJob.AbortableJob(function(){var t=new A.eventDispatcher.EventDispatcher,r=A.helpers.deferred.buildDeferred(),e=null;if(s&&(l.info("Finding a decryptor..."),!(e=u.DecryptorFactory.retrieveDecryptor(s))))return l.error("Could not find a decryptor."),r.reject(new h.NoDecryptorError),{result:r.promise,progressUpdates:{onProgressUpdate:t,getProgressSoFar:function(){return null}}};var n=a.run(),i=null,o=[];return s&&e?((i=e.decrypt(n,s)).onProgressUpdate(function(e){o.push(e),t.dispatch(e)}),i.onError(function(e){e!==A.helpers.abortableJob.abortedError&&l.error("Error occurred during decryption.",e),r.reject(e),n.abort()})):n.onProgressUpdate(function(e){o.push(e),t.dispatch(e)}),n.onCompletion(function(){function e(){return r.resolve(void 0)}i?i.whenComplete().then(e):e()}),n.onError(r.reject),{result:r.promise,progressUpdates:{onProgressUpdate:t,getProgressSoFar:function(){return o.length?A.helpers.arrayBuffer.combine(o):null}},abort:function(){n.abort(),i&&i.abort()}}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=r(0),w=r(8);t.getSegmentDownloadJob=function(e){var t=e.delayCalculator,c=e.segmentEventRepresentation,p=e.url,r=e.loader,d=e.onSegmentRequestQueued,f=e.onSegmentRequestStart,g=e.onSegmentRequestFailed,m=e.onSegmentRetrieved,y=e.isResponseCodeAcceptable,v=e.isResponseCodeRetryable,_=e.logger;return new E.helpers.abortableJob.AbortableJob(function(){var A=E.helpers.deferred.buildDeferred(),i=new E.eventDispatcher.EventDispatcher,u=[],h=0,e=E.helpers.retry.retry(t,function(e){var o=e.scheduleRetry,s=!1,n=0;d.dispatch({segment:c}),_.debug("Requesting segment.",p);var a=r.request({url:p});a.onRequestStart(function(){return f.dispatch({segment:c})});function l(e){var t,r=e.byteLength;r&&((n+=r)<=h?_.debug("Already downloaded this part. Skipping...",n,h):(t=new Uint8Array(e,r-(n-h)),h=n,u.push(t),i.dispatch(t)))}return a.onProgress(function(e){var t,r=e.initial,n=e.statusCode,i=e.part;r?y(n)?(_.debug("Segment response started.",p,n),l(i)):(t=null,v(n)?_.debug("Segment response code was not acceptable. Will retry.",p,n):(_.debug("Segment response code was not acceptable.",p,n),t=new w.UnacceptableResponseStatusCodeError(n)),a.abort(),g.dispatch({segment:c,statusCode:n}),t?A.reject(t):(s=!0,o())):(_.debug("Got segment response part.",p,n),l(i))}),a.onResponseReceived(function(e){s||(e?(m.dispatch({segment:c,statusCode:e.statusCode}),A.resolve(void 0)):(_.warn("Segment request timed out.",p),g.dispatch({segment:c,statusCode:null}),o()))}),a.onError(function(e){s||e!==E.helpers.abortableJob.abortedError&&(e instanceof E.loaderErrors.LoaderError?(_.warn("Error from loader. Will retry",p,e),o()):(_.error("Unexpected error when requesting segment.",e),A.reject(e)))}),{onCancel:function(){_.debug("Aborting segment request.",p),a.hasCompleted()||a.abort(),g.dispatch({segment:c,aborted:!0})}}},{onNoMoreRetries:function(){return A.reject(new Error("No more retries for requesting segment."))}}).cancel;return{result:A.promise,progressUpdates:{onProgressUpdate:i,getProgressSoFar:function(){return u.length?E.helpers.arrayBuffer.combine(u):null}},abort:function(){return e()}}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.DefaultSegmentParser={getFormat:function(){return{}},parseSegmentData:function(e){return n.helpers.abortableJob.map(function(){return e},{convertProgressUpdate:function(e){return{data:e}},convertResult:function(e){return e}}).run()}}},function(e,p,t){"use strict";Object.defineProperty(p,"__esModule",{value:!0});var d=t(0),f=t(3),n=d.helpers.abortableJob.AbortableJob,g=d.helpers.arrayBuffer.combine,m=new d.helpers.SCWeakMap;p.OggOpusSegmentParser={getFormat:function(){return{mimeType:"audio/ogg",audioCodec:{id:"opus"}}},parseSegmentData:function(r,h,c){return new n(function(){function i(e){t.reject(e),r.abort()}function o(e){m.set(c,e),s.dispatch({initData:e,data:g(a)})}var t=d.helpers.deferred.buildDeferred(),s=new d.eventDispatcher.EventDispatcher,a=[],l=null,A=null,u=null;return r.onProgressUpdate(function(e){var t,r,n;l&&"PRESENT"===l.state&&l.initDataEnded?(a.push(e),s.dispatch({initData:l.initData,data:e})):l&&"NOT_PRESENT"===l.state?a.push(e):(a.push(e),t=g(a),(l=function(e){var t=f.retrievePages(e).pages;if(t.length){var r=f.retrievePackets([t[0]])[0];if(r&&r.first){var n=1,i=t.slice(1).some(function(e,t){var r=!!(1&e.header.type[0]);return 0<t&&!r||(n=t+2,!1)});return{state:"PRESENT",initData:g(t.slice(0,n).map(function(e){return e.entirePage})),initDataEnded:i}}return{state:"NOT_PRESENT"}}return null}(t))&&("NOT_PRESENT"===l.state?(r=m.get(c),h.getSequenceNumber()<=c.getFirstSegmentIndex()?i(new Error("Could not find init data.")):r?o((l={state:"PRESENT",initData:r,initDataEnded:!0}).initData):((A=c.getSegment(c.getFirstSegmentIndex())).onCompletion(function(e){var n=u=p.OggOpusSegmentParser.parseSegmentData(d.helpers.abortableJob.map(function(){return e.retrieveData()},{convertProgressUpdate:function(e){return e.initData?d.helpers.arrayBuffer.combine([e.initData,e.data]):e.data},convertResult:function(e){return e}}).run(),e,c);n.onProgressUpdate(function(e){var t=e.initData;if(n.abort(),!t){var r=new Error("OggOpusSegmentParser should always provide init data.");throw i(r),r}l={state:"PRESENT",initData:t,initDataEnded:!0},o(t)}),n.onError(function(e){e!==d.helpers.abortableJob.abortedError&&i(e)})}),A.onError(i))):"PRESENT"===l.state&&l.initDataEnded&&(a.splice(0),t.byteLength>l.initData.byteLength&&(n=new Uint8Array(t.buffer.slice(l.initData.byteLength)),a.push(n)),o(l.initData))))}),r.onCompletion(function(e){l&&"PRESENT"===l.state&&!l.initDataEnded?(o(l.initData),t.resolve(e)):l&&"PRESENT"===l.state?t.resolve(e):t.reject(new Error("Could not find init data."))}),r.onError(i),{result:t.promise,progressUpdates:{onProgressUpdate:s,getProgressSoFar:function(){return l&&"PRESENT"===l.state&&l.initDataEnded?{initData:l.initData,data:g(a)}:null}},abort:function(){r.abort(),A&&A.abort(),u&&u.abort()}}}).run()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(32),i=r(31),o=[n.OggOpusSegmentParser,i.DefaultSegmentParser];t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(2),o=r(33),s=n.helpers.find;t.SegmentParserFactory={retrieveSegmentParser:function(t){var e=s(o.default,function(e){return i.isPartialMatch(e.getFormat(),t)});if(!e)throw new Error("No segment parser found.");return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=r(0),b=r(9),B=r(34),C=r(30),S=r(29),P=w.helpers.abortableJob.AbortableJob,F=w.eventDispatcher.EventDispatcher,x=w.logger.noOpLogger,n=(i.prototype.getFormat=function(){return this._format},i.prototype.getSequenceNumber=function(){return this._sequenceNumber},i.prototype.isFinalSegment=function(){var e=this._playlist;return e.hasEnded()&&e.getFirstSegmentIndex()+e.getSegmentCount()-1===this._sequenceNumber},i.prototype.getTimeRange=function(){return this._timeRange},i.prototype.getEventRepresentation=function(){return this._segmentEventRepresentation},i.prototype.retrieveData=function(){var r=this;return new P(function(){var e=w.helpers.deferred.buildDeferred(),n=new F,i=[],t=r._retrieveAbortableJob.run(),o=void 0;return t.onProgressUpdate(function(e){var t=e.data,r=e.initData;i.length||(o=r),i.push(t),n.dispatch({data:t,initData:o})}),t.onCompletion(function(){e.resolve(void 0)}),t.onError(e.reject),{result:e.promise,progressUpdates:{onProgressUpdate:n,getProgressSoFar:function(){return i.length?{initData:o,data:w.helpers.arrayBuffer.combine(i)}:null}},abort:function(){return t.abort()}}}).run()},i);function i(e){var t=e.url,r=e.sequenceNumber,n=e.playlist,i=e.timeRange,o=e.encryptionConfig,s=e.initData,a=e.format,l=e.loader,A=e.playlistEventRepresentation,u=e.logger,h=void 0===u?x:u,c=e.delayCalculator,p=void 0===c?w.helpers.retry.buildExponentialDelayCalculator():c,d=e.isResponseCodeAcceptable,f=void 0===d?function(e){return 200===e}:d,g=e.isResponseCodeRetryable,m=void 0===g?function(e){return!(400<=e&&e<500)}:g,y=this;this._onSegmentRequestQueued=new F,this._onSegmentRequestStart=new F,this._onSegmentRetrieved=new F,this._onSegmentRequestFailed=new F,this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this._sequenceNumber=r,this._playlist=n,this._timeRange=i,this._format=a;var v=this._segmentEventRepresentation=new b.Segment(A,t,r),_=C.getSegmentDownloadJob({delayCalculator:p,segmentEventRepresentation:v,url:t,loader:l,onSegmentRequestQueued:this._onSegmentRequestQueued,onSegmentRequestStart:this._onSegmentRequestStart,onSegmentRequestFailed:this._onSegmentRequestFailed,onSegmentRetrieved:this._onSegmentRetrieved,isResponseCodeAcceptable:f,isResponseCodeRetryable:m,logger:h}),E=S.getSegmentDownloadAndDecryptJob({encryptionConfig:o,downloadAbortableJob:_,logger:h});this._retrieveAbortableJob=new P(function(){var e=B.SegmentParserFactory.retrieveSegmentParser(y._format),t=new F,r=w.helpers.deferred.buildDeferred(),n=e.parseSegmentData(w.helpers.abortableJob.map(function(){return E.run()},{convertProgressUpdate:function(e,t){return t&&s?w.helpers.arrayBuffer.combine([s,e]):e},convertResult:function(e){return e}}).run(),y,y._playlist);return n.onProgressUpdate(t.dispatch,{skipPast:!0}),n.onCompletion(function(){return r.resolve(void 0)}),n.onError(r.reject),{result:r.promise,progressUpdates:{onProgressUpdate:t,getProgressSoFar:n.getProgressSoFar},abort:n.abort}})}t.Segment=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=r(0).eventDispatcher.EventDispatcher;(n=t.PlaylistType||(t.PlaylistType={}))[n.LIVE=0]="LIVE",n[n.EVENT=1]="EVENT",n[n.VOD=2]="VOD";var o=(s.prototype.update=function(){var e=this,t=this._update();return t.onCompletion(function(){return e._onUpdated.dispatch(void 0)}),t},s.prototype.getSegment=function(e){return this.getSegments(e,e+1)[0]},s.prototype.getSegments=function(e,t){var r=this.getSegmentCount(),n=this.getFirstSegmentIndex();if(void 0===t&&(t=n+r),void 0===e&&(e=n),e<n||t<e||n+r<t)throw new Error("Invalid range of segments.");for(var i=[],o=e;o<t;o++)i.push(this._getSegment(o));return i},s);function s(){this._onPlaylistRequestQueued=new i,this._onPlaylistRequestStart=new i,this._onPlaylistRetrieved=new i,this._onPlaylistRequestFailed=new i,this._onPlaylistParseStart=new i,this._onPlaylistParseEnd=new i,this._onKeyRequestQueued=new i,this._onKeyRequestStart=new i,this._onKeyRetrieved=new i,this._onKeyRequestFailed=new i,this._onInitDataRequestQueued=new i,this._onInitDataRequestStart=new i,this._onInitDataRetrieved=new i,this._onInitDataRequestFailed=new i,this._onUpdated=new i,this.onPlaylistRequestQueued=this._onPlaylistRequestQueued.getHandle(),this.onPlaylistRequestStart=this._onPlaylistRequestStart.getHandle(),this.onPlaylistRetrieved=this._onPlaylistRetrieved.getHandle(),this.onPlaylistRequestFailed=this._onPlaylistRequestFailed.getHandle(),this.onPlaylistParseStart=this._onPlaylistParseStart.getHandle(),this.onPlaylistParseEnd=this._onPlaylistParseEnd.getHandle(),this.onKeyRequestQueued=this._onKeyRequestQueued.getHandle(),this.onKeyRequestStart=this._onKeyRequestStart.getHandle(),this.onKeyRetrieved=this._onKeyRetrieved.getHandle(),this.onKeyRequestFailed=this._onKeyRequestFailed.getHandle(),this.onInitDataRequestQueued=this._onInitDataRequestQueued.getHandle(),this.onInitDataRequestStart=this._onInitDataRequestStart.getHandle(),this.onInitDataRetrieved=this._onInitDataRetrieved.getHandle(),this.onInitDataRequestFailed=this._onInitDataRequestFailed.getHandle(),this.onUpdated=this._onUpdated.getHandle()}t.Playlist=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l,n,A=r(0),u=r(3),h=r(10),a=r(2),s=A.helpers.find,c=A.eventDispatcher.EventDispatcher,p=A.helpers.abortableJob.abortedError,d=A.logger.prefixLogger,f=A.logger.noOpLogger;(n=l=l||{})[n.RETRIEVING_SEGMENT=0]="RETRIEVING_SEGMENT",n[n.RETRIEVED_SEGMENT=1]="RETRIEVED_SEGMENT",n[n.RETRIEVING_DATA=2]="RETRIEVING_DATA",n[n.COMPLETE=3]="COMPLETE";var i=(o.prototype.updateMaxBufferLength=function(e){if(this._ensureNotDead(),e<0)throw new Error("Max buffer length must be > 0.");this._logger.debug("updateMaxBufferLength() called.",e),this._maxBufferLength=e,this.update()},o.prototype.updateCacheSize=function(e){if(this._ensureNotDead(),e<0)throw new Error("Cache size must be > 0.");this._cacheSize=e,this.update()},o.prototype.getCacheSize=function(){return this._cacheSize},o.prototype.getCacheUsage=function(){return this._segments.reduce(function(e,t){return t.state===l.RETRIEVING_DATA||t.state===l.COMPLETE?e+t.size:e},0)},o.prototype.switchPlaylist=function(e){if(this._ensureNotDead(),e&&!e.hasInitialUpdateCompleted())throw new Error("Playlist retrieve has not completed.");this._logger.debug("switchPlaylist() called."),this._abortCurrentRetrieve(),this._playlist=e,this._segments=this._segments.filter(function(e){return e.state===l.COMPLETE}),this.update()},o.prototype.getSegmentsWithData=function(){return this._ensureNotDead(),this._segments.filter(function(e){return e.state===l.RETRIEVING_DATA&&e.size||e.state===l.COMPLETE}).map(function(e){return{segment:e.segment,dataRetrieveJob:e.dataRetrieveJob,complete:e.state===l.COMPLETE}})},o.prototype.update=function(){var t=this;this._ensureNotDead(),this._timerId&&(window.clearTimeout(this._timerId),this._timerId=null);var r=this._getPosition(),n=r,i=0;this._segments.some(function(e){if(e.state!==l.COMPLETE)return!1;var t=e.segment.getTimeRange();return t.containsTime(i)&&(i=t.end),!(t.end<r)&&(t.start>n||(n=t.end,!1))});var o=r+this._maxBufferLength;if(!function(){var e=t._playlist;if(e&&(e.hasEnded()&&n===e.getDuration()))return n=i,e.getDuration()+i<o;return n<o}())return this._abortCurrentRetrieve(),this._garbageCollect(r),void this._scheduleNextUpdate();var e=s(this._segments,function(e){return(e.state===l.RETRIEVED_SEGMENT||e.state===l.RETRIEVING_DATA)&&e.segment.getTimeRange().containsTime(n)});e?this._retrieveSegmentData(e):this._retrieveSegment(n),this._garbageCollect(r)},o.prototype.kill=function(){this._dead||(this._logger.debug("kill() called."),this._abortCurrentRetrieve(),this._dead=!0,this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId)),this._segments=[],this._logger.debug("Killed."))},o.prototype._retrieveSegmentData=function(n){var i,e,o,s,a=this;if(n.state!==l.RETRIEVED_SEGMENT&&n.state!==l.RETRIEVING_DATA)throw new Error("Segment in incorrect state for data to be retrieved.");this._retrievingSegment&&this._retrievingSegment.state===l.RETRIEVING_DATA&&n.segment===this._retrievingSegment.segment||(this._abortCurrentRetrieve(),e=(i=A.helpers.abortableJob.map(function(){return a._transmuxer.transmux(n.segment.retrieveData())},{convertResult:function(e){return e},convertProgressUpdate:function(e){return e},abortableJobOpts:{storeResult:!0}})).run(),o=!1,s=this._retrievingSegment={state:l.RETRIEVING_DATA,dataRetrieveJob:i,dataRetrieveJobHandle:e,segment:n.segment,size:0},this._switchSegment(n,s),e.onProgressUpdate(function(e){var t=s.size,r=t;!o&&e.initData&&(t+=e.initData.byteLength),o=!0,t+=e.data.byteLength,s.size=t,0===r&&0<t&&a._onSegmentDataRetrieveStarted.dispatch({segment:n.segment,dataRetrieveJob:i,complete:!1})}),e.onCompletion(function(){if(a._retrievingSegment=null,s.state!==l.RETRIEVING_DATA)throw new Error("Incorrect retrieval state.");a._switchSegment(s,{state:l.COMPLETE,dataRetrieveJob:s.dataRetrieveJob,dataRetrieveJobHandle:s.dataRetrieveJobHandle,segment:n.segment,size:s.size}),a._logger.debug("Segment retrieve completed.",n.segment.getEventRepresentation()),a.update(),a._onSegmentReady.dispatch({segment:n.segment,complete:!0,dataRetrieveJob:s.dataRetrieveJob})}),e.onError(function(e){e!==p&&(a._logger.error("Error retrieving segment data.",e,n.segment.getEventRepresentation()),a._scheduleNextUpdate(),e instanceof u.OggParserError&&(e=e instanceof u.ChecksumFailedError?new h.OggParserError("CHECKSUM_FAILED"):e instanceof u.NoSegmentsInPageError?new h.OggParserError("NO_SEGMENTS_IN_PAGE"):e instanceof u.PageFromDifferentBitstreamError?new h.OggParserError("PAGE_FROM_DIFFERENT_BITSTREAM"):e instanceof u.PageSequenceNumberDidNotIncrementError?new h.OggParserError("SEQUENCE_NUMBER_DID_NOT_INCREMENT"):e instanceof u.UnexpectedBOSError?new h.OggParserError("UNEXPECTED_BOS"):e instanceof u.UnexpectedEOSError?new h.OggParserError("UNEXPECTED_EOS"):new h.OggParserError("UNKNOWN")),a._onError.dispatch(e))}))},o.prototype._retrieveSegment=function(e){var t,i,o=this,r=this._retrievingSegment,n=this._playlist,s=n?n.getSegmentIndexContainingTime(e):null;r&&r.state===l.RETRIEVING_SEGMENT&&r.segmentIndex===s||(this._abortCurrentRetrieve(),n?null===s?this._scheduleNextUpdate():(t=n.getSegment(s),this._logger.debug("Retrieving segment.",s),t.onCompletion(function(e){if(o._logger.debug("Retrieved segment.",s),!a.isPartialMatch(o._transmuxer.getInputFormat(),e.getFormat())){var t=new Error("Segment format is not supported by transmuxer.");return o._logger.error("Segment incorrect format.",t),o._scheduleNextUpdate(),void o._onError.dispatch(t)}e.onSegmentRequestQueued.subscribe(o._onSegmentRequestQueued.dispatch),e.onSegmentRequestStart.subscribe(o._onSegmentRequestStart.dispatch),e.onSegmentRetrieved.subscribe(o._onSegmentRetrieved.dispatch),e.onSegmentRequestFailed.subscribe(o._onSegmentRequestFailed.dispatch),o._segments.splice(o._segments.indexOf(i),1);var r=e.getTimeRange(),n=o._segments.length;o._segments.some(function(e,t){return e.state!==l.RETRIEVING_SEGMENT&&e.segment.getTimeRange().start>r.start&&(n=t,!0)}),o._segments.splice(n,0,{state:l.RETRIEVED_SEGMENT,segment:e}),o._retrievingSegment=null,o.update()}),t.onError(function(e){e!==p&&(o._logger.error("Error retrieving segment.",e),o._scheduleNextUpdate(),o._onError.dispatch(e))}),i={state:l.RETRIEVING_SEGMENT,segmentIndex:s,segmentRetrieveJob:t},this._segments.push(i),this._retrievingSegment=i):(this._logger.debug("Cannot retrieve segment as there is no playlist."),this._scheduleNextUpdate()))},o.prototype._abortCurrentRetrieve=function(){var e=this._retrievingSegment;e&&(e.state===l.RETRIEVING_SEGMENT?(this._logger.debug("Aborting segment retrieve job."),e.segmentRetrieveJob.abort()):e.state===l.RETRIEVING_DATA&&(this._logger.debug("Aborting segment data retrieve job."),e.dataRetrieveJobHandle.abort(),this._switchSegment(e,{state:l.RETRIEVED_SEGMENT,segment:e.segment})),this._retrievingSegment=null)},o.prototype._switchSegment=function(e,t){var r=this._segments.indexOf(e);if(-1===r)throw new Error("Old segment missing.");this._segments.splice(r,1,t)},o.prototype._garbageCollect=function(o){var e,t,r,s,n=this._segments,i=this._cacheSize,a=this.getCacheUsage();a<=i||(t=(e=this._playlist)&&e.getCompleteDuration(),r=null!==t?t:1/0,s=o+this._maxBufferLength,r<s&&o<=(s-=r)||n.filter(function(e){return e.state===l.COMPLETE&&(t=e.segment,r=o,n=s,i=t.getTimeRange(),!(n!==r&&(r<n?i.end>r&&i.start<n:i.end>r||i.start<n)));var t,r,n,i}).map(function(e){var t=e.segment.getTimeRange().start;return{segment:e,distance:Math.min(Math.abs(o-t),t+r-o),size:e.size}}).sort(function(e,t){return t.distance-e.distance}).some(function(e){return a<=i||(n.splice(n.indexOf(e.segment),1),a-=e.size,!1)}))},o.prototype._scheduleNextUpdate=function(){var e=this;this._timerId||(this._timerId=window.setTimeout(function(){e._timerId=null,e.update()},1e3))},o.prototype._ensureNotDead=function(){if(this._dead)throw new Error("Playlist segment retriever has been killed.")},o);function o(e){this._onSegmentRequestQueued=new c,this._onSegmentRequestStart=new c,this._onSegmentRetrieved=new c,this._onSegmentRequestFailed=new c,this._onSegmentDataRetrieveStarted=new c,this._onSegmentReady=new c,this._onError=new c,this._segments=[],this._retrievingSegment=null,this._timerId=null,this._dead=!1;var t=e.playlist,r=e.getPosition,n=e.maxBufferLength,i=e.cacheSize,o=e.transmuxer,s=e.logger,a=void 0===s?f:s;if(this._logger=d(a,"PlaylistSegmentRetriever"),t&&!t.hasInitialUpdateCompleted())throw new Error("Playlist retrieve has not completed.");if(n<0)throw new Error("Max buffer length must be > 0.");if(i<0)throw new Error("Cache size must be > 0.");this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDataRetrieveStarted=this._onSegmentDataRetrieveStarted.getHandle(),this.onSegmentReady=this._onSegmentReady.getHandle(),this.onError=this._onError.getHandle(),this._playlist=t,this._transmuxer=o,this._getPosition=r,this._maxBufferLength=n,this._cacheSize=i,this.update()}t.PlaylistSegmentRetriever=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.0.0",t.buildNumber=1819;var n=r(37);t.PlaylistSegmentRetriever=n.PlaylistSegmentRetriever;var i=r(36);t.Playlist=i.Playlist,t.PlaylistType=i.PlaylistType;var o=r(35);t.Segment=o.Segment;var s=r(24);t.TransmuxerFactory=s.TransmuxerFactory;var a=r(4);t.MP3ToMP4Transmuxer=a.MP3ToMP4;var l=r(6);t.PassThroughTransmuxer=l.PassThrough;var A=r(17);t.retrievalErrors=A.retrievalErrors;var u=r(14);t.events=u.events}]))},function(e,t,r){var n;window,e.exports=(n=r(2),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.getMsg=function(){return this._msg},i);function i(e){this._msg=e}t.OggParserError=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.OggParserError,i(l,o),l);function l(){return null!==o&&o.apply(this,arguments)||this}t.IncompletePageError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.OggParserError,i(l,o),l);function l(){return null!==o&&o.apply(this,arguments)||this}t.NoSegmentsInPageError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.OggParserError,i(l,o),l);function l(){return null!==o&&o.apply(this,arguments)||this}t.UnexpectedEOSError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.OggParserError,i(l,o),l);function l(){return null!==o&&o.apply(this,arguments)||this}t.UnexpectedBOSError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.OggParserError,i(l,o),l);function l(){return null!==o&&o.apply(this,arguments)||this}t.PageSequenceNumberDidNotIncrementError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.OggParserError,i(l,o),l);function l(){return null!==o&&o.apply(this,arguments)||this}t.PageFromDifferentBitstreamError=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.OggParserError,i(l,o),l);function l(){return null!==o&&o.apply(this,arguments)||this}t.ChecksumFailedError=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]);t.calculateCRC=function(e){var r=0;return e.forEach(function(e){for(var t=0;t<e.length;t++)r=r<<8^n[r>>24&255^e[t]]}),r>>>0}},function(e,t){e.exports=n},function(e,t,r){"use strict";function l(e,t,r){if(void 0===r&&(r=1),t<0||t+r>e.byteLength)throw new Error("extract() out of bounds. "+t+" "+r+" "+e.byteLength);return e.slice(t,t+r)}function f(e,t){return void 0===t&&(t=!0),new DataView(e).getUint32(0,t)}function a(e){var t=new Uint8Array(e.buffer,e.byteOffset),r=t.byteLength;if(r<E)throw new c.IncompletePageError("Incomplete page.");var n=l(t,26);if(r<E+n[0])throw new c.IncompletePageError("Incomplete page.");var i=l(t,E,n[0]),o={version:l(t,4),type:l(t,5),granulePosition:l(t,6,8),bitstreamSerialNumber:l(t,14,4),pageSequenceNumber:l(t,18,4),checksum:l(t,22,4),pageSegments:n,segmentTable:i},s=[],a=E+n[0];if(i.forEach(function(e){if(r<a+e)throw new c.IncompletePageError("Incomplete page.");s.push(l(t,a,e)),a+=e}),!s.length)throw new h.NoSegmentsInPageError("No segments.");if(A.calculateCRC([p,o.version,o.type,o.granulePosition,o.bitstreamSerialNumber,o.pageSequenceNumber,d,n,i].concat(s))!==f(o.checksum.buffer))throw new u.ChecksumFailedError("Checksum failed.");return{header:o,segments:s,entirePage:l(t,0,a)}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),A=r(8),u=r(7),g=r(6),m=r(5),y=r(4),v=r(3),h=r(2),c=r(1),_=n.helpers.arrayBuffer.combine,p=new Uint8Array([79,103,103,83]),d=new Uint8Array([0,0,0,0]),E=27;t.retrievePages=function(e){for(var t=e.buffer,r=[],n=e.byteOffset,i=!0;n<e.byteOffset+e.byteLength;){var o=new DataView(t,n);try{var s=a(o);r.push(s),n+=s.entirePage.byteLength}catch(e){if(e instanceof c.IncompletePageError){i=!1;break}throw e}}return{pages:r,eos:i}},t.parsePage=a,t.retrievePackets=function(u){if(!u.length)return[];var h=f(u[0].header.bitstreamSerialNumber.buffer),c=-1,p=null,d=[];return u.forEach(function(n,e){if(f(n.header.bitstreamSerialNumber.buffer)!==h)throw new g.PageFromDifferentBitstreamError("Got a page from a different bitstream.");var t=f(n.header.pageSequenceNumber.buffer);if(t<=c)throw new m.PageSequenceNumberDidNotIncrementError("Page sequence number was not greater than the previous one.");var i=t!==c+1;c=t;var r=n.header.type[0],o=!!(1&r),s=!!(2&r);if(s&&0<e)throw new y.UnexpectedBOSError("Got BOS on a page which is not the first.");var a=!!(4&r);if(a&&e!==u.length-1)throw new v.UnexpectedEOSError("Got EOS on a page which is not the last.");var l=0;i&&(p=null);var A=n.segments.length;n.segments.forEach(function(e,t){var r;p?p.data=_([p.data,e]):o&&0===t||(p={granulePosition:null,pageSequenceNumber:c,packetOffset:l,discontinuity:i&&0===l,first:s&&0===l,last:!1,data:e},l++),p&&e.byteLength<255&&((r=t===A-1)&&(p.granulePosition=f(n.header.granulePosition.buffer)),p.last=a&&r,d.push(p),p=null)})}),d}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version="29.0.0",r.buildNumber=1819,function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(t(10));var n=t(0);r.OggParserError=n.OggParserError;var i=t(7);r.ChecksumFailedError=i.ChecksumFailedError;var o=t(2);r.NoSegmentsInPageError=o.NoSegmentsInPageError;var s=t(6);r.PageFromDifferentBitstreamError=s.PageFromDifferentBitstreamError;var a=t(5);r.PageSequenceNumberDidNotIncrementError=a.PageSequenceNumberDidNotIncrementError;var l=t(4);r.UnexpectedBOSError=l.UnexpectedBOSError;var A=t(3);r.UnexpectedEOSError=A.UnexpectedEOSError;var u=t(1);r.IncompletePageError=u.IncompletePageError}]))},function(e,t,r){var n;window,e.exports=(n=r(2),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0).helpers.arrayBuffer,i=n.combine,o=n.numberToUint8Array,s=n.createVintBuffer;t.IDS={EBML:440786851,EBMLVersion:17030,EBMLReadVersion:17143,EBMLMaxIDLength:17138,EBMLMaxSizeLength:17139,DocType:17026,DocTypeVersion:17031,DocTypeReadVersion:17029,Segment:408125543,Info:357149030,Duration:17545,Tracks:374648427,TrackEntry:174,TrackNumber:215,TrackUID:29637,FlagLacing:156,CodecID:134,CodecDelay:22186,SeekPreRoll:22203,TrackType:131,Audio:225,Channels:159,SamplingFrequency:181,CodecPrivate:25506,Cluster:524531317,Timecode:231,SimpleBlock:163},t.encodeElement=function(e,t){var r=o(e),n=s(t.byteLength);return i([r,n,t])}},function(e,t,r){"use strict";function l(e){if(!e.first)throw new Error("OpusHead is always in the first packet.");var t=e.data,r=new DataView(t.buffer),n=r.getUint8(9),i=r.getUint8(18),o=void 0,s=void 0,a=void 0;if(0<i){o=r.getUint8(18),s=r.getUint8(19),a=[];for(var l=0;l<n;l++)a.push(r.getUint8(20+l))}return{version:r.getUint8(8),channelCount:n,preSkip:r.getUint16(10,!0),inputSampleRate:r.getUint32(12,!0),outputGain:r.getInt16(16,!0)*Math.pow(2,-8),channelMapFamily:i,streamCount:o,twoChannelStreamCount:s,channelMappingTable:a}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),A=r(1),i=n.helpers.arrayBuffer,u=i.combine,h=i.numberToUint8Array,c=[10,20,40,60,10,20,40,60,10,20,40,60,10,20,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20,2.5,5,10,20];t.parseOpusHead=l,t.setOutputGain=function(e,t){if(128<=t||t<-128)throw new Error("outputGainOverride invalid. It must be >= -128 and < 128.");l(e),new DataView(e.data.buffer).setInt16(16,Math.round(t*Math.pow(2,8)),!0)},t.buildWebm=function(e){var t=e[0];if(!t||!t.first)throw new Error("Missing start of stream.");var r,n,i=e.slice(2),o=l(t),s=0,a=i.map(function(e){var t=new Uint8Array(4);t[0]=129,new DataView(t.buffer).setInt16(1,s),t[3]=128;var r,n,i=(r=e.data,0==(n=3&r[0])?1:3!=n?2:63&r[1]);return s+=i*function(e){var t=e[0]>>>3&31;if(t>=c.length)throw new Error("Invalid configuration.");return c[t]}(e.data),A.encodeElement(A.IDS.SimpleBlock,u([t,e.data]))});return{initData:u([A.encodeElement(A.IDS.EBML,u([A.encodeElement(A.IDS.EBMLVersion,h(1)),A.encodeElement(A.IDS.EBMLReadVersion,h(1)),A.encodeElement(A.IDS.EBMLMaxIDLength,h(4)),A.encodeElement(A.IDS.EBMLMaxSizeLength,h(8)),A.encodeElement(A.IDS.DocType,new Uint8Array([119,101,98,109])),A.encodeElement(A.IDS.DocTypeVersion,h(1)),A.encodeElement(A.IDS.DocTypeReadVersion,h(2))])),A.encodeElement(A.IDS.Segment,A.encodeElement(A.IDS.Info,A.encodeElement(A.IDS.Duration,(n=new Uint8Array(8),new DataView(n.buffer).setFloat64(0,s),n)))),A.encodeElement(A.IDS.Tracks,A.encodeElement(A.IDS.TrackEntry,u([A.encodeElement(A.IDS.TrackNumber,h(1)),A.encodeElement(A.IDS.TrackUID,h(1)),A.encodeElement(A.IDS.FlagLacing,h(0)),A.encodeElement(A.IDS.CodecID,new Uint8Array([65,95,79,80,85,83])),A.encodeElement(A.IDS.CodecDelay,h(o.preSkip/48e3*1e9)),A.encodeElement(A.IDS.SeekPreRoll,new Uint8Array([4,196,180,0])),A.encodeElement(A.IDS.TrackType,h(2)),A.encodeElement(A.IDS.Audio,u([A.encodeElement(A.IDS.Channels,h(o.channelCount)),A.encodeElement(A.IDS.SamplingFrequency,new Uint8Array([64,231,112,0,0,0,0,0]))])),A.encodeElement(A.IDS.CodecPrivate,t.data)])))]),data:A.encodeElement(A.IDS.Cluster,((r=[A.encodeElement(A.IDS.Timecode,h(0))]).push.apply(r,a),u(r)))}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version="29.0.0",r.buildNumber=1819,function(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}(t(2))}]))},function(e,t,r){var n,i;window,e.exports=(n=r(7),i=r(2),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=n},function(e,t){e.exports=i},function(e,t,r){"use strict";function P(e){return!(400<=e&&e<500)}function x(e){var t,r,n={};for(A.lastIndex=0;null!==(t=A.exec(e));){var i=t[1].trim().toLowerCase(),o=0===(r=t[2].trim()).indexOf('"')&&r.lastIndexOf('"')===r.length-1?r.slice(1,-1):r;n[i]=o}return n}var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var T,o,U=r(1),Q=r(0),F=Q.retrievalErrors.UnacceptableResponseStatusCodeError,D=Q.retrievalErrors.PlaylistParseError,s=Q.retrievalErrors.UnsupportedEncryptionError,M=U.helpers.abortableJob.AbortableJob,I=U.helpers.deferred.buildDeferred,R=U.helpers.cache.buildCache,a=U.helpers.retry,k=a.retry,N=a.buildExponentialDelayCalculator,O=U.helpers.Promise,l=U.helpers.find,H=U.helpers.url,L=U.logger.prefixLogger,z=U.logger.noOpLogger,K=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(MAP):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF): *(\d+(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:#EXT-X-(BYTERANGE): *(\d+(?:@\d+(?:\.\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g,A=/(.+?)=(.+?)(?:,|$)/g,V=/^\d*(\.\d+)?$/;(o=T=T||{})[o.NONE=0]="NONE",o[o.AES_128=1]="AES_128",o[o.SAMPLE_AES=2]="SAMPLE_AES";var j,u=(j=Q.Playlist,i(h,j),h.prototype.hasInitialUpdateCompleted=function(){return!!this._data},h.prototype.getType=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.type},h.prototype.getExpireTime=function(){var e=this._data,t=this._lastUpdateTime;return e&&e.type===Q.PlaylistType.LIVE&&null!==t?t+e.segments.reduce(function(e,t){return e+t.timeRange.duration},0)/2:null},h.prototype.hasEnded=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.ended},h.prototype.getCompleteDuration=function(){return this._data&&this._data.ended?this._data.totalDuration:null},h.prototype.getDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.totalDuration},h.prototype.getTargetDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.targetDuration},h.prototype.getFirstSegmentIndex=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.mediaSequence},h.prototype.getSegmentCount=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.segments.length},h.prototype.getSegmentIndexContainingTime=function(t){var e=this._data;if(!e)throw new Error("Not loaded yet.");var r=l(e.segments,function(e){return e.timeRange.containsTime(t)});return r?e.mediaSequence+e.segments.indexOf(r):null},h.prototype._update=function(){return this._updateJob.run()},h.prototype._getSegment=function(i){var o=this,e=this._data;if(!e)throw new Error("Not loaded yet.");var s=e.segments[i-e.mediaSequence];return new M(function(){var e=s.encryptionData,r=o._playlistEventRepresentation;if(!r)throw new Error("Playlist event representation should exist.");var t=o._buildEncryptionConfig(e,i),n=s.initDataUrl?o._retrieveInitData(s.initDataUrl):null;return{result:t.whenComplete().then(function(t){function e(e){return new Q.Segment({url:s.url,sequenceNumber:i,playlist:o,timeRange:s.timeRange,format:o._segmentFormat,loader:o._segmentLoader,playlistEventRepresentation:r,logger:o._logger,delayCalculator:o._segmentDelayCalculator,isResponseCodeAcceptable:o._isSegmentResponseCodeAcceptable,isResponseCodeRetryable:o._isSegmentResponseCodeRetryable,encryptionConfig:t,initData:e})}return n?n.whenComplete().then(e):e(void 0)}),abort:function(){t.abort(),n&&n.abort()}}}).run()},h.prototype._buildEncryptionConfig=function(t,r){var n=this;return new M(function(){if(t.method===T.NONE)return{result:O.resolve(void 0)};if(t.method!==T.AES_128)return n._logger.error("Unsupported encryption method.",t.method),{result:O.reject(new s)};if(!n._keyLoader)return{result:O.reject(new Error("Encryption method not supported as no key loader provided."))};var e=n._retrieveKey(t.keyUrl);return{result:e.whenComplete().then(function(e){return{cipher:"AES-CBC",key:e,iv:t.iv||function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t}(r)}}),abort:function(){return e.abort()}}},{storeResult:!0}).run()},h.prototype._retrieveKey=function(e){var t=this,r=this._keyLoader;if(!r)throw new Error("No key loader.");var n=this._playlistEventRepresentation;if(!n)throw new Error("Playlist event representation should exist.");var i=new Q.events.Key(n,e);return this._retrieveKeyOrInitData({url:e,loader:r,cache:this._keyRetrievalJobsCache,onRequestQueued:function(){return t._onKeyRequestQueued.dispatch({key:i})},onRequestStart:function(){return t._onKeyRequestStart.dispatch({key:i})},onRequestTimedOut:function(){t._onKeyRequestFailed.dispatch({key:i,statusCode:null})},onRequestFailed:function(e){t._onKeyRequestFailed.dispatch({key:i,statusCode:e})},onRequestAborted:function(){t._onKeyRequestFailed.dispatch({key:i,aborted:!0})},onRetrieved:function(e){t._onKeyRetrieved.dispatch({key:i,statusCode:e})},type:"key"})},h.prototype._retrieveInitData=function(e){var t=this,r=this._playlistEventRepresentation;if(!r)throw new Error("Playlist event representation should exist.");var n=new Q.events.InitData(r,e);return this._retrieveKeyOrInitData({url:e,loader:this._segmentLoader,cache:this._initDataRetrievalJobsCache,onRequestQueued:function(){return t._onInitDataRequestQueued.dispatch({initData:n})},onRequestStart:function(){return t._onInitDataRequestStart.dispatch({initData:n})},onRequestTimedOut:function(){t._onInitDataRequestFailed.dispatch({initData:n,statusCode:null})},onRequestFailed:function(e){t._onInitDataRequestFailed.dispatch({initData:n,statusCode:e})},onRequestAborted:function(){t._onInitDataRequestFailed.dispatch({initData:n,aborted:!0})},onRetrieved:function(e){t._onInitDataRetrieved.dispatch({initData:n,statusCode:e})},type:"init data"})},h.prototype._retrieveKeyOrInitData=function(e){var o=this,s=e.url,r=e.loader,t=e.cache,a=e.onRequestQueued,l=e.onRequestStart,A=e.onRequestTimedOut,u=e.onRequestFailed,h=e.onRequestAborted,c=e.onRetrieved,p=e.type,n=t.get(s);return n?this._logger.debug(p+" retrieval already in progress.",s):(n=new M(function(){var i=U.helpers.deferred.buildDeferred(),e=k(o._keyDelayCalculator,function(e){var n=e.scheduleRetry;a();var t=r.request({url:s});return t.onRequestStart(l),o._logger.debug("Retrieving "+p+".",s),t.onResponseReceived(function(e){if(!e)return o._logger.warn(p+" request timed out.",s),A(),void n();var t=e.statusCode;if(o._isKeyOrInitDataResponseCodeAcceptable(t)){var r=e.getData();return r?(o._logger.debug("Got "+p+" response.",s,t),c(t),void i.resolve(new Uint8Array(r))):(o._logger.warn(p+" response contained no data.",s,t),u(t),void n())}return o._isKeyOrInitDataResponseCodeRetryable(t)?(o._logger.warn(p+" response code was not acceptable. Will retry.",s,t),u(t),void n()):(o._logger.warn(p+" response code was not acceptable.",s,t),u(t),void i.reject(new F(t)))}),t.onError(function(e){return e instanceof U.loaderErrors.LoaderError?(o._logger.warn("Error from loader. Will retry",s,e),void n()):void i.reject(e)}),{onCancel:function(){o._logger.debug("Aborting "+p+" request.",s),t.hasCompleted()||t.abort(),h()}}},{onNoMoreRetries:function(){return i.reject(new Error("No more retries for requesting "+p+"."))}}).cancel;return{result:i.promise,abort:function(){return e()}}},{storeResult:!0}),t.set(s,n)),n.run()},h.prototype._parsePlaylist=function(e){for(var t,r=this._data,n={version:null,type:Q.PlaylistType.LIVE,mediaSequence:null,targetDuration:null,totalDuration:0,ended:!1},i=[],o={method:T.NONE},s=null,a=null,l=K.lastIndex=0,A=!1;null!==(t=K.exec(e));){var u=t.filter(function(e,t){return 0!==t&&void 0!==e}).map(function(e,t){return 0===t?e.toLowerCase():e}),h=u[0],c=u.slice(1);if(0===l){if("extm3u"!==h)throw new D("First line did not contain EXTM3U tag.")}else{if(!A)switch(h){case"playlist-type":if(n.type!==Q.PlaylistType.LIVE)throw new D("Already have playlist type.");switch(c[0].toLowerCase()){case"vod":n.type=Q.PlaylistType.VOD;break;case"event":n.type=Q.PlaylistType.EVENT;break;default:throw new D("Invalid playlist type.")}break;case"media-sequence":if(null!==n.mediaSequence)throw new D("Already have media sequence number.");var p=parseInt(c[0],10);if(p+""!==c[0])throw new D("Invalid media sequence number.");n.mediaSequence=p;break;case"targetduration":if(null!==n.targetDuration)throw new D("Already have target duration.");var d=parseInt(c[0],10);if(d+""!==c[0]||d<0)throw new D("Invalid target duration.");n.targetDuration=1e3*d;break;case"version":if(null!==n.version)throw new D("Already have version.");var f=parseInt(c[0],10);if(f+""!==c[0])throw new D("Invalid version.");if(f<3)throw new D("HLS version must be 3 or above.");n.version=f;break;default:A=!0}if(A)switch(h){case"key":var g,m="method"in(g=x(c[0]))?g.method.toLowerCase():null,y="uri"in g?H.buildAbsoluteUrl(this._url,g.uri):null,v="iv"in g?function(e){0===e.indexOf("0x")&&(e=e.substr(2));var t=new Uint16Array(8);if(e.length%4!=0)throw new D("Failed to parse IV (length is not multiple of 4).");for(var r=0;r<e.length;r+=4){var n=parseInt(e.substr(r,4),16);if(isNaN(n))throw new D("Failed to parse hex number in IV string.");t[r/4]=n}return new Uint8Array(t)}(g.iv):null;if(!m)throw new D("Missing encryption method.");if(!y&&"none"!==m)throw new D("Missing key url.");switch(m){case"none":if(null!==y)throw new D("Key url not allowed.");if(null!==v)throw new D("IV not allowed.");o={method:T.NONE};break;case"aes-128":if(!y)throw new D("Key url required.");o={method:T.AES_128,keyUrl:y,iv:v};break;case"sample-aes":if(!y)throw new D("Key url required.");o={method:T.SAMPLE_AES,keyUrl:y,iv:v};break;default:throw new D("Unknown encryption method.")}break;case"map":if(!("uri"in(g=x(c[0]))))throw new D("URI missing from EXT-X-MAP tag.");if("byterange"in g)throw new D("BYTERANGE in EXT-X-MAP tag is currently unsupported.");s=g.uri?H.buildAbsoluteUrl(this._url,g.uri):null;break;case"inf":if(!c[0].match(V))throw new D("Invalid segment duration.");a=1e3*parseFloat(c[0]);break;case"":if(n.ended)throw new D("Already received ENDLIST tag.");if(null===a)throw new D("Not received segment duration.");var _=H.buildAbsoluteUrl(this._url,c[0]);i.push({url:_,timeRange:new U.TimeRange(n.totalDuration,a),initDataUrl:s,encryptionData:o}),n.totalDuration+=a,a=null;break;case"endlist":if(n.ended)throw new D("Already had ENDLIST tag.");n.ended=!0;break;default:this._logger.warn("Unable to parse playlist line.",h)}}l++}var E=n.version,w=n.type,b=n.mediaSequence,B=n.targetDuration,C=n.ended,S=n.totalDuration;if(null===E)throw new D("Missing version.");if(null===B)throw new D("Missing target duration.");if(C&&w===Q.PlaylistType.LIVE)throw new D("Cannot be ended if type is LIVE.");if(!C&&w===Q.PlaylistType.VOD)throw new D("Must be ended if type is VOD.");if(null===b&&(b=0),r){if(r.type!==w)throw new D("Playlist type has changed since last update.");if(r.type===Q.PlaylistType.EVENT&&b!==r.mediaSequence)throw new D("Media sequence number has changed. Not valid for EVENT playlist.");var P=r.segments[b-r.mediaSequence];if(!P)throw new D("Tracking lost. The last segment of the previous playlist is no longer in the new one.");var F=P.timeRange.start;i.forEach(function(e){var t=e.timeRange;e.timeRange=new U.TimeRange(t.start+F,t.duration)}),S+=F}return{version:E,type:w,mediaSequence:b,targetDuration:B,totalDuration:S,ended:C,segments:i}},h);function h(e){var s=e.url,t=e.playlistLoader,r=e.segmentLoader,n=e.keyLoader,i=void 0===n?null:n,o=e.segmentFormat,a=e.logger,l=void 0===a?z:a,A=e.delayCalculator,u=void 0===A?N():A,h=e.keyDelayCalculator,c=void 0===h?N():h,p=e.segmentDelayCalculator,d=e.isPlaylistResponseCodeAcceptable,f=void 0===d?function(e){return 200===e}:d,g=e.isPlaylistResponseCodeRetryable,m=void 0===g?P:g,y=e.isSegmentResponseCodeAcceptable,v=void 0===y?function(e){return 200===e}:y,_=e.isSegmentResponseCodeRetryable,E=void 0===_?P:_,w=e.isKeyResponseCodeAcceptable,b=void 0===w?function(e){return 200===e}:w,B=e.isKeyResponseCodeRetryable,C=void 0===B?P:B,S=j.call(this)||this;return S._keyRetrievalJobsCache=R(),S._initDataRetrievalJobsCache=R(),S._data=null,S._lastUpdateTime=null,S._playlistEventRepresentation=null,S._logger=L(l,"PlaylistHLS"),S._url=s,S._playlistLoader=t,S._segmentLoader=r,S._keyLoader=i,S._segmentFormat=o,S._keyDelayCalculator=c,S._isPlaylistResponseCodeAcceptable=f,S._isPlaylistResponseCodeRetryable=m,S._isSegmentResponseCodeAcceptable=v,S._isSegmentResponseCodeRetryable=E,S._isKeyOrInitDataResponseCodeAcceptable=b,S._isKeyOrInitDataResponseCodeRetryable=C,S._segmentDelayCalculator=p,S._downloadAbortableJob=new M(function(){var o=U.helpers.deferred.buildDeferred(),e=k(u,function(e){var n=e.scheduleRetry,i=new Q.events.Playlist(s);S._onPlaylistRequestQueued.dispatch({playlist:i});var t=S._playlistLoader.request({url:s});return t.onRequestStart(function(){S._onPlaylistRequestStart.dispatch({playlist:i})}),S._logger.debug("Requesting playlist.",s),t.onResponseReceived(function(e){if(!e)return S._logger.warn("Playlist request timed out.",s),S._onPlaylistRequestFailed.dispatch({playlist:i,statusCode:null}),void n();var t=e.statusCode;if(S._isPlaylistResponseCodeAcceptable(t)){var r=e.getData();return r?(S._logger.debug("Got playlist response.",s,t),S._onPlaylistRetrieved.dispatch({playlist:i,statusCode:t}),void o.resolve({playlistContent:r,eventRepresentation:i})):(S._logger.warn("Playlist response contained no data.",s,t),S._onPlaylistRequestFailed.dispatch({playlist:i,statusCode:t}),void n())}return S._isPlaylistResponseCodeRetryable(t)?(S._logger.debug("Playlist response code was not acceptable. Will retry.",s,t),S._onPlaylistRequestFailed.dispatch({playlist:i,statusCode:t}),void n()):(S._logger.debug("Playlist response code was not acceptable.",s,t),S._onPlaylistRequestFailed.dispatch({playlist:i,statusCode:t}),void o.reject(new F(t)))}),t.onError(function(e){return e instanceof U.loaderErrors.LoaderError?(S._logger.warn("Error from loader. Will retry",s,e),void n()):void o.reject(e)}),{onCancel:function(){S._logger.debug("Aborting playlist request.",s),t.hasCompleted()||t.abort(),S._onPlaylistRequestFailed.dispatch({playlist:i,aborted:!0})}}},{onNoMoreRetries:function(){return o.reject(new Error("No more retries for requesting playlist."))}}).cancel;return{result:o.promise,abort:function(){return e()}}}),S._updateJob=new M(function(){if(S._data&&S._data.ended)return{result:O.resolve(void 0)};var n=I(),e=S._downloadAbortableJob.run();return e.onCompletion(function(e){var t=e.playlistContent,r=e.eventRepresentation;S._lastUpdateTime=U.helpers.time.now(),S._onPlaylistParseStart.dispatch({playlist:r});try{S._data=S._parsePlaylist(t)}catch(e){return S._logger.error("Error when parsing playlist.",e,t),void n.reject(e)}S._playlistEventRepresentation=r,S._onPlaylistParseEnd.dispatch({playlist:r}),n.resolve(void 0)}),e.onError(n.reject),{result:n.promise,abort:function(){return e.abort()}}}),S}t.PlaylistHLS=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.0.0",t.buildNumber=1819;var n=r(2);t.PlaylistHLS=n.PlaylistHLS}]))},function(e,t,r){var n;window,e.exports=(n=r(2),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){e.exports=n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=(o=s.loader.LoaderRequest,i(l,o),l.prototype._abort=function(){this._xhr.abort()},l.prototype._onAbort=function(){this.hasCompleted()||this._onTimeout()},l.prototype._onManualTimeout=function(){this.hasCompleted()||(this._signalTimeout(),this._xhr.abort())},l.prototype._onTimeout=function(){this.hasCompleted()||this._signalTimeout()},l.prototype._onLoad=function(){var e;this.hasCompleted()||(this._isChunkedResponse()||(e=this._xhr,this._provideStatusAndHeaders({statusCode:e.status,headers:this._parseHeaders(e.getAllResponseHeaders()||"")},e.response)),this.hasCompleted()||this._finalize())},l.prototype._onError=function(e){switch(this.getState()){case s.loader.ResponseState.COMPLETED:case s.loader.ResponseState.ERRORED:break;case s.loader.ResponseState.PENDING:if(0===this._xhr.status){this._provideStatusAndHeaders({statusCode:0,headers:{}},this._getEmptyData()),this._finalize();break}default:this._finalize(new s.loaderErrors.LoaderError("An error occurred.",e))}},l.prototype._onLoadEnd=function(){window.clearTimeout(this._timeoutTimer),this.hasCompleted()||this._finalize(new s.loaderErrors.LoaderError("Unexpected error occurred."))},l.prototype._onProgress=function(){var e;this.hasCompleted()||(e=this._xhr,this._isChunkedResponse()&&(this._responseStarted?this._providePart(e.response):(this._responseStarted=!0,this._provideStatusAndHeaders({statusCode:e.status,headers:this._parseHeaders(e.getAllResponseHeaders()||"")},e.response))))},l.prototype._isChunkedResponse=function(){return"moz-chunked-arraybuffer"===this._xhr.responseType},l.prototype._parseHeaders=function(e){var t={};if(!e)return t;for(var r=e.split("\r\n"),n=0,i=r.length;n<i;n++){var o,s,a=r[n],l=a.indexOf(": ");0<l&&(o=a.substring(0,l).trim(),s=a.substring(l+2),t[o]=s)}return t},l);function l(e,t,r){void 0===t&&(t={}),void 0===r&&(r=2e4);var n=o.call(this)||this;if(n._responseStarted=!1,r<0)throw new Error("Invaid timeout.");if(n._timeoutTimer=window.setTimeout(function(){return n._onManualTimeout()},r),n._xhr=new XMLHttpRequest,n._xhr.addEventListener("load",function(){return n._onLoad()}),n._xhr.addEventListener("abort",function(){return n._onAbort()}),n._xhr.addEventListener("error",function(e){return n._onError(e)}),n._xhr.addEventListener("timeout",function(){return n._onTimeout()}),n._xhr.addEventListener("loadend",function(){return n._onLoadEnd()}),n._xhr.addEventListener("progress",function(){return n._onProgress()}),n._xhr.open("GET",e,!0),n._xhr.timeout=r,!n._getResponseType().some(function(e){return n._xhr.responseType=e,n._xhr.responseType===e}))throw new Error("Failed setting response type.");return Object.keys(t).forEach(function(e){return n._xhr.setRequestHeader(e,t[e])}),n._signalRequestStart(),n._xhr.send(),n}t.LoaderRequest=a},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var l,A=r(0),o=A.helpers.browser.isFirefox(),s=(l=A.loader.LoaderRequest,i(u,l),u.isSupported=function(){return"fetch"in window&&"Request"in window&&"AbortController"in window&&!o},u.prototype._abort=function(){window.clearTimeout(this._abortTimer),this._abortController.abort()},u.prototype._reduceParts=function(e){return A.helpers.arrayBuffer.combine(e.map(function(e){return new Uint8Array(e)})).buffer},u);function u(e,t,r){void 0===t&&(t={}),void 0===r&&(r=2e4);var i=l.call(this)||this;if(!u.isSupported())throw new Error("Not supported.");var n=i._abortController=new AbortController,o=new Request(e,{headers:t,redirect:"follow",signal:n.signal});i._signalRequestStart();var s=i._abortTimer=window.setTimeout(function(){i._signalTimeout(),i._abort()},r),a=fetch(o).then(function(e){var r={};if(e.headers.forEach(function(e,t){return r[e]=t}),i._provideStatusAndHeaders({statusCode:e.status,headers:r},new ArrayBuffer(0)),e.body){var t=e.body.getReader(),n=function(){return t.read().then(function(e){var t=e.done,r=e.value;if(!t&&!i.hasCompleted())return i._providePart(r.buffer),n()})};return n()}return e.arrayBuffer().then(function(e){e&&i._providePart(e)})}).then(function(){i.hasCompleted()||i._finalize()}).catch(function(e){var t;i.hasCompleted()||(t=e instanceof A.loaderErrors.LoaderError?e:new A.loaderErrors.LoaderError(e),i._finalize(t))});return A.helpers.always(a,function(){return window.clearTimeout(s)}),i}t.ArrayBufferLoaderRequest=s},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(0),a=r(1),l=s.helpers.browser.getFirefoxVersion(),A=l&&60<=l.major?["moz-chunked-arraybuffer","arraybuffer"]:["arraybuffer"],u=(o=a.LoaderRequest,i(h,o),h.prototype._getResponseType=function(){return A},h.prototype._getEmptyData=function(){return new ArrayBuffer(0)},h.prototype._reduceParts=function(e){return s.helpers.arrayBuffer.combine(e.map(function(e){return new Uint8Array(e)})).buffer},h);function h(){return null!==o&&o.apply(this,arguments)||this}t.ArrayBufferLoaderRequest=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(3),o=r(2),n=(s.prototype.request=function(e){var t=e.url,r=e.headers,n=e.timeout;return this._fetchEnabled&&o.ArrayBufferLoaderRequest.isSupported()?new o.ArrayBufferLoaderRequest(t,r,n):new i.ArrayBufferLoaderRequest(t,r,n)},s);function s(e){var t=(void 0===e?{}:e).fetchEnabled,r=void 0===t||t;this._fetchEnabled=r}t.ArrayBufferLoader=n,t.arrayBufferLoader=new n},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=r(1),a=["text"],l=(o=s.LoaderRequest,i(A,o),A.prototype._getResponseType=function(){return a},A.prototype._getEmptyData=function(){return""},A.prototype._reduceParts=function(e){return e.join("")},A);function A(){return null!==o&&o.apply(this,arguments)||this}t.StringLoaderRequest=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(5);t.stringLoader={request:function(e){var t=e.url,r=e.headers,n=e.timeout;return new i.StringLoaderRequest(t,r,n)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="29.0.0",t.buildNumber=1819;var n=r(6);t.stringLoader=n.stringLoader;var i=r(4);t.arrayBufferLoader=i.arrayBufferLoader,t.ArrayBufferLoader=i.ArrayBufferLoader}]))},function(e,t,r){var n,i;window,e.exports=(n=r(1),i=r(2),function(r){function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var i={};return n.m=r,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(i.prototype.execute=function(e){var t=this,r={job:e};return this._jobs.push(r),this._executeNextJob(),{abort:function(){var e=t._jobs.indexOf(r);0<=e&&t._jobs.splice(e,1)}}},i.prototype._executeNextJob=function(){var e,t=this;this._jobsRunInPeriod<this._limit&&((e=this._jobs.shift())&&(this._jobsRunInPeriod++,window.setTimeout(function(){t._jobsRunInPeriod--,t._executeNextJob()},this._period),e.job()))},i);function i(e,t){if(void 0===t&&(t=6e4),this._limit=e,this._period=t,this._jobs=[],e<=(this._jobsRunInPeriod=0))throw new Error("limit must be > 0.");if(t<=0)throw new Error("period must be > 0.")}t.Limiter=n},function(e,t){e.exports=n},function(e,t){e.exports=i},function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var m,o=r(2),A=r(1),s=r(0),l=o.helpers.abortableJob.AbortableJob,u=o.helpers.find,h=o.helpers.time,a=new s.Limiter(300,3e5),c=[A.renditions.encryptedHlsMp3,A.renditions.hlsMp3,A.renditions.encryptedHlsOpus,A.renditions.hlsOpus,A.renditions.httpMp3],p=(m=A.BaseStreamUrlRetriever,i(d,m),d.prototype.getTrackId=function(){return this._trackId},d.prototype.excludeRendition=function(e){this._excludedRenditions.indexOf(e)<0&&this._excludedRenditions.push(e)},d.prototype.updateRequestAuthorization=function(e){if(null!==e&&"string"!=typeof e)throw new Error("requestAuthorizaton invalid.");this._requestAuthorization=e},d.prototype.clearCache=function(){this._clearResponseTimer&&(window.clearTimeout(this._clearResponseTimer),this._clearResponseTimer=null),this._getUrlsJob=null},d.prototype.getMaxBitrate=function(){return this._maxBitrate},d.prototype.setMaxBitrate=function(e){if("number"!=typeof e||e<=0)throw new Error("maxBitrate must be > 0.");this._maxBitrate=e},d.prototype.getUrl=function(){var r=this,s=this._maxBitrate,a=this._excludedRenditions;return new l(function(){var t=o.helpers.deferred.buildDeferred(),e=r._getUrls();return e.onCompletion(function(e){var n=e.urls,i=e.timeRetrieved,o=null;c.filter(function(e){return a.indexOf(e)<0}).some(function(t){var e=n.filter(function(e){return e.rendition===t}).map(function(e){return{url:e.url,bitrate:e.bitrate}}),r=u(e.sort(function(e,t){return t.bitrate-e.bitrate}),function(e){return e.bitrate<=s});return!!r&&(o={success:!0,url:r.url,rendition:t,bitrate:r.bitrate,timeRetrieved:i},!0)}),t.resolve(o)}),e.onError(function(e){e instanceof A.UrlRetrieverError?t.resolve({success:!1,error:e}):t.reject(e)}),{result:t.promise,abort:function(){return e.abort()}}}).run()},d.prototype._getUrls=function(){var i=this;return this._getUrlsJob||(this._getUrlsJob=new l(function(){var r=o.helpers.deferred.buildDeferred(),n=null,e=a.execute(function(){var e=i._requestAuthorization?{Authorization:i._requestAuthorization}:{},t=i._endpointBaseUrl+"i1/tracks/"+encodeURI(i._trackId+"")+"/streams?client_id="+encodeURIComponent(i._clientId);i._encryptedStreamsEnabled&&(t+="&with_encrypted_streams=true"),i._secretToken&&(t+="&secret_token="+encodeURIComponent(i._secretToken)),(n=i._loader.request({url:t,headers:e})).getResponse().then(function(e){if(!e)throw new A.UrlRetrieverError("TIMED_OUT",!0);if(200!==e.statusCode)throw new A.UrlRetrieverError("INVALID_STATUS_"+e.statusCode);var t=e.getData();if(!t)throw new A.UrlRetrieverError("NO_DATA");var r=h.now(),a=JSON.parse(t),l=[];return Object.keys(a).map(function(e){var t,r=e.split("_"),n=r[0],i=r[1],o=r[2],s=parseInt(o,10);!n||!i||isNaN(s)||(t=u(c,function(e){return e.scProtocol===n&&e.scFormat===i}))&&l.push({rendition:t,bitrate:s,url:a[e]})}),{urls:l,timeRetrieved:r}}).then(r.resolve,r.reject)});return{result:r.promise,abort:function(){e.abort(),n&&n.abort()}}}),this._clearResponseTimer=window.setTimeout(function(){i._clearResponseTimer=null,i._getUrlsJob=null},5e3)),this._getUrlsJob.run()},d);function d(e){var t=e.loader,r=e.clientId,n=e.trackId,i=e.secretToken,o=void 0===i?null:i,s=e.requestAuthorization,a=void 0===s?null:s,l=e.excludedRenditions,A=void 0===l?[]:l,u=e.maxBitrate,h=void 0===u?1/0:u,c=e.endpointBaseUrl,p=void 0===c?"https://api.soundcloud.com/":c,d=e.encryptedStreamsEnabled,f=void 0!==d&&d,g=m.call(this)||this;if(g.name="PublicAPI",g._getUrlsJob=null,g._clearResponseTimer=null,!t)throw new Error("loader required.");if("string"!=typeof r)throw new Error("clientId invalid.");if("number"!=typeof n)throw new Error("trackId invalid.");if(null!==o&&"string"!=typeof o)throw new Error("secretToken invalid.");if(null!==a&&"string"!=typeof a)throw new Error("requestAuthorizaton invalid.");if("number"!=typeof h||h<=0)throw new Error("maxBitrate must be > 0.");if("string"!=typeof p)throw new Error("endpointBaseUrl must be > 0.");if("boolean"!=typeof f)throw new Error("encryptedStreamsEnabled invalid.");return g._loader=t,g._clientId=r,g._requestAuthorization=a,g._trackId=n,g._secretToken=o,g._endpointBaseUrl=p,g._encryptedStreamsEnabled=f,g._excludedRenditions=A,g._maxBitrate=h,g}t.StreamUrlRetriever=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="23.1.0",t.buildNumber=845;var n=r(3);t.StreamUrlRetriever=n.StreamUrlRetriever}]))}],r.c=i,r.p="",r(0))},function(e,Y,Z){var $;(function(q,W,X,J){(function(){"use strict";function A(e){return"function"==typeof e}function t(){return function(){setTimeout(r,1)}}function r(){for(var e=0;e<C;e+=2){(0,Q[e])(Q[e+1]),Q[e]=void 0,Q[e+1]=void 0}C=0}function s(){}function o(e,n,i){S(function(t){var r=!1,e=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(i,n,function(e){r||(r=!0,(n!==e?u:h)(t,e))},function(e){r||(r=!0,c(t,e))},t._label);!r&&e&&(r=!0,c(t,e))},e)}function n(e,t){var r,n,i;t.constructor===e.constructor?(n=e,(i=t)._state===I?h(n,i._result):i._state===R?c(n,i._result):a(i,void 0,function(e){u(n,e)},function(e){c(n,e)})):(r=function(e){try{return e.then}catch(e){return k.error=e,k}}(t))===k?c(e,k.error):void 0!==r&&A(r)?o(e,t,r):h(e,t)}function u(e,t){var r;e===t?c(e,new TypeError("You cannot resolve a promise with itself")):("function"==typeof(r=t)||"object"==typeof r&&null!==r?n:h)(e,t)}function i(e){e._onerror&&e._onerror(e._result),l(e)}function h(e,t){e._state===M&&(e._result=t,e._state=I,0!==e._subscribers.length&&S(l,e))}function c(e,t){e._state===M&&(e._state=R,e._result=t,S(i,e))}function a(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+I]=r,i[o+R]=n,0===o&&e._state&&S(l,e)}function l(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,i,o=e._result,s=0;s<t.length;s+=3)n=t[s],i=t[s+r],n?p(r,n,i,o):i(o);e._subscribers.length=0}}function e(){this.error=null}function p(e,t,r,n){var i,o,s,a,l=A(r);if(l){if((i=function(e,t){try{return e(t)}catch(e){return N.error=e,N}}(r,n))===N?(a=!0,o=i.error,i=null):s=!0,t===i)return c(t,new TypeError("A promises callback cannot return that same promise.")),0}else i=n,s=!0;t._state!==M||(l&&s?u(t,i):a?c(t,o):e===I?h(t,i):e===R&&c(t,i))}function d(e,t){var r=this;r._instanceConstructor=e,r.promise=new e(s),r._validateInput(t)?(r._input=t,r.length=t.length,r._remaining=t.length,r._init(),0===r.length?h(r.promise,r._result):(r.length=r.length||0,r._enumerate(),0===r._remaining&&h(r.promise,r._result))):c(r.promise,r._validationError())}function f(e){this._id=K++,this._state=void 0,this._result=void 0,this._subscribers=[],s!==e&&(A(e)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof f||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(t,e){try{e(function(e){u(t,e)},function(e){c(t,e)})}catch(e){c(t,e)}}(this,e))}var g,m,y,v,_,E,w,b,B=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},C=0,S=function(e,t){Q[C]=e,Q[C+1]=t,2===(C+=2)&&(m?m(r):D())},P="undefined"!=typeof window?window:void 0,F=P||{},x=F.MutationObserver||F.WebKitMutationObserver,T=void 0!==q&&"[object process]"==={}.toString.call(q),U="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),D=T?(w=q.nextTick,b=q.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/),Array.isArray(b)&&"0"===b[1]&&"10"===b[2]&&(w=W),function(){w(r)}):x?(v=0,_=new x(r),E=document.createTextNode(""),_.observe(E,{characterData:!0}),function(){E.data=v=++v%2}):U?((y=new MessageChannel).port1.onmessage=r,function(){y.port2.postMessage(0)}):(void 0===P?function(){try{var e=Z(29);return g=e.runOnLoop||e.runOnContext,function(){g(r)}}catch(e){return t()}}:t)(),M=void 0,I=1,R=2,k=new e,N=new e;d.prototype._validateInput=function(e){return B(e)},d.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},d.prototype._init=function(){this._result=new Array(this.length)};var O=d;d.prototype._enumerate=function(){for(var e=this.length,t=this.promise,r=this._input,n=0;t._state===M&&n<e;n++)this._eachEntry(r[n],n)},d.prototype._eachEntry=function(e,t){var r,n=this._instanceConstructor;"object"==typeof(r=e)&&null!==r?e.constructor===n&&e._state!==M?(e._onerror=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(n.resolve(e),t):(this._remaining--,this._result[t]=e)},d.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===M&&(this._remaining--,e===R?c(n,r):this._result[t]=r),0===this._remaining&&h(n,this._result)},d.prototype._willSettleAt=function(e,t){var r=this;a(e,void 0,function(e){r._settledAt(I,t,e)},function(e){r._settledAt(R,t,e)})};function H(e){function t(e){u(n,e)}function r(e){c(n,e)}var n=new this(s);if(!B(e))return c(n,new TypeError("You must pass an array to race.")),n;for(var i=e.length,o=0;n._state===M&&o<i;o++)a(this.resolve(e[o]),void 0,t,r);return n}function L(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(s);return u(t,e),t}function z(e){var t=new this(s);return c(t,e),t}var K=0,V=f;f.all=function(e){return new O(this,e).promise},f.race=H,f.resolve=L,f.reject=z,f._setScheduler=function(e){m=e},f._setAsap=function(e){S=e},f._asap=S,f.prototype={constructor:f,then:function(e,t){var r=this._state;if(r===I&&!e||r===R&&!t)return this;var n,i=new this.constructor(s),o=this._result;return r?(n=arguments[r-1],S(function(){p(r,i,n,o)})):a(this,i,e,t),i},catch:function(e){return this.then(null,e)}};var j=function(){var e;if(void 0!==X)e=X;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=V)},G={Promise:V,polyfill:j};Z(23).amd?void 0===($=function(){return G}.call(Y,Z,Y,J))||(J.exports=$):void 0!==J&&J.exports?J.exports=G:void 0!==this&&(this.ES6Promise=G),j()}).call(this)}).call(Y,Z(6),Z(25).setImmediate,function(){return this}(),Z(24)(e))},function(e,t){"use strict";var r={oauth_token:void 0,baseURL:"https://api.soundcloud.com",connectURL:"//connect.soundcloud.com",client_id:void 0,redirect_uri:void 0};e.exports={get:function(e){return r[e]},set:function(e,t){t&&(r[e]=t)}}},function(e,t,r){(function(p){"use strict";function d(e,t,r,n){var i,o,s,a,l,A,u=(i=e,o=t,s=r,a=n,l=void 0,(A=new c(function(e){var t=p.FormData&&s instanceof FormData;(l=new XMLHttpRequest).upload&&l.upload.addEventListener("progress",a),l.open(i,o,!0),t||l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.onreadystatechange=function(){4===l.readyState&&e({responseText:l.responseText,request:l})},l.send(s)})).request=l,A),h=u.then(function(e){var t=e.responseText,r=e.request,n=function(e){var t=e.responseText,r=e.request,n=void 0,i=void 0;try{i=JSON.parse(t)}catch(e){}return i?i.errors&&(n={message:""},i.errors[0]&&i.errors[0].error_message&&(n={message:i.errors[0].error_message})):n=r?{message:"HTTP Error: "+r.status}:{message:"Unknown error"},n&&(n.status=r.status),{json:i,error:n}}({responseText:t,request:r});if(n.json&&"302 - Found"===n.json.status)return d("GET",n.json.location,null);if(200!==r.status&&n.error)throw n.error;return n.json});return h.request=u.request,h}var f=r(3),g=r(20),c=r(2).Promise;e.exports={request:function(e,t){var r,n,i,o,s=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a=arguments.length<=3||void 0===arguments[3]?function(){}:arguments[3],l=f.get("oauth_token"),A=f.get("client_id"),u={},h=p.FormData&&s instanceof FormData,c=void 0;return u.format="json",l?u.oauth_token=l:u.client_id=A,n=s,i=u,o=h,Object.keys(i).forEach(function(e){o?n.append(e,i[e]):n[e]=i[e]}),"GET"!==e&&(c=h?s:g.encode(s),s={oauth_token:l}),t="/"!==t[0]?"/"+t:t,r=""+f.get("baseURL")+t+"?"+g.encode(s),d(e,r,c,a)},oEmbed:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.element;delete t.element,t.url=e;var n="https://soundcloud.com/oembed.json?"+g.encode(t);return d("GET",n,null).then(function(e){return r&&e.html&&(r.innerHTML=e.html),e})},upload:function(){var r=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=r.asset_data||r.file;if(!(f.get("oauth_token")&&r.title&&e))return new c(function(e,t){t({status:0,error_message:"oauth_token needs to be present and title and asset_data / file passed as parameters"})});var t=Object.keys(r),n=new FormData;return t.forEach(function(e){var t=r[e];"file"===e&&(e="asset_data",t=r.file),n.append("track["+e+"]",t)}),this.request("POST","/tracks",n,r.progress)},resolve:function(e){return this.request("GET","/resolve",{url:e,_status_code_map:{302:200}})}}}).call(t,function(){return this}())},function(e,t){"use strict";var r={};e.exports={get:function(e){return r[e]},set:function(e,t){r[e]=t}}},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(A===setTimeout)return setTimeout(t,0);if((A===r||!A)&&setTimeout)return A=setTimeout,setTimeout(t,0);try{return A(t,0)}catch(e){try{return A.call(null,t,0)}catch(e){return A.call(this,t,0)}}}function o(){d&&c&&(d=!1,c.length?p=c.concat(p):f=-1,p.length&&s())}function s(){if(!d){var e=i(o);d=!0;for(var t=p.length;t;){for(c=p,p=[];++f<t;)c&&c[f].run();f=-1,t=p.length}c=null,d=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function l(){}var A,u,h=e.exports={};!function(){try{A="function"==typeof setTimeout?setTimeout:r}catch(e){A=r}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var c,p=[],d=!1,f=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new a(e,t)),1!==p.length||d||i(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=l,h.addListener=l,h.once=l,h.off=l,h.removeListener=l,h.removeAllListeners=l,h.emit=l,h.prependListener=l,h.prependOnceListener=l,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(22);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""))?e.split("&").reduce(function(e,t){var r=t.replace(/\+/g," ").split("="),n=r.shift(),i=0<r.length?r.join("="):void 0,n=decodeURIComponent(n),i=void 0===i?null:decodeURIComponent(i);return e.hasOwnProperty(n)?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i,e},{}):{}},t.stringify=function(r){return r?Object.keys(r).sort().map(function(t){var e=r[t];return Array.isArray(e)?e.sort().map(function(e){return n(t)+"="+n(e)}).join("&"):n(t)+"="+n(e)}).filter(function(e){return 0<e.length}).join("&"):""}},function(e,t,r){"use strict";var o=r(7),s=r(5);e.exports={notifyDialog:function(e){var t=o.parse(e.search),r=o.parse(e.hash),n={oauth_token:t.access_token||r.access_token,dialog_id:t.state||r.state,error:t.error||r.error,error_description:t.error_description||r.error_description},i=s.get(n.dialog_id);i&&i.handleConnectResponse(n)}}},function(e,t,r){"use strict";function n(e){return i.set("oauth_token",e.oauth_token),e}var i=r(3),o=r(11),s=r(2).Promise;e.exports=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=i.get("oauth_token");if(t)return new s(function(e){e({oauth_token:t})});var r={client_id:e.client_id||i.get("client_id"),redirect_uri:e.redirect_uri||i.get("redirect_uri"),response_type:"code_and_token",scope:e.scope||"non-expiring",display:"popup"};if(!r.client_id||!r.redirect_uri)throw new Error("Options client_id and redirect_uri must be passed");return new o(r).open().then(n)}},function(e,t,r){"use strict";var n=r(2).Promise;e.exports=function(){var r={};return r.promise=new n(function(e,t){r.resolve=e,r.reject=t}),r}},function(e,t,r){"use strict";var n=function(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e},i=r(10),o=r(5),s=r(12),a=r(7),l="SoundCloud_Dialog",A=function(){return[l,Math.ceil(1e6*Math.random()).toString(16)].join("_")},u=(n(h,[{key:"open",value:function(){var e,t=(e=this.options,"https://soundcloud.com/connect?"+a.stringify(e));return this.popup=s.open(t,this.width,this.height),o.set(this.id,this),this.deferred.promise}},{key:"handleConnectResponse",value:function(e){e.error?this.deferred.reject(e):this.deferred.resolve(e),this.popup.close()}}]),h);function h(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,h),this.id=A(),this.options=e,this.options.state=this.id,this.width=420,this.height=670,this.deferred=i()}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=u},function(e,t){"use strict";e.exports={open:function(e,t,r){var n,i={};return i.location=1,i.width=t,i.height=r,i.left=window.screenX+(window.outerWidth-t)/2,i.top=window.screenY+(window.outerHeight-r)/2,i.toolbar="no",i.scrollbars="yes",n=Object.keys(i).map(function(e){return e+"="+i[e]}).join(", "),window.open(e,i.name,n)}}},function(e,t,r){"use strict";var a=r(19),n=r(1).MaestroCore,l=n.errors.PlayerFatalError,A=n.State,i=r(1).SCAudio.errors,u=i.NoStreamsError,h=i.NotSupportedError;e.exports=function(t){function e(){switch(t.getState()){case A.PLAYING:return"playing";case A.PAUSED:return t.isEnded()?"ended":"paused";case A.DEAD:return t.getFatalError()?"error":"dead";case A.LOADING:default:return"loading"}}var r=!1;t.onStateChange.subscribe(function(){return o.trigger("state-change",e())}),t.onPlay.subscribe(function(){o.trigger(r?"play-resume":"play-start"),r=!0}),t.onPlayIntent.subscribe(function(){return o.trigger("play")}),t.onPlayRejection.subscribe(function(e){return o.trigger("play-rejection",e)}),t.onPauseIntent.subscribe(function(){return o.trigger("pause")}),t.onSeek.subscribe(function(){return o.trigger("seeked")}),t.onSeekRejection.subscribe(function(e){return o.trigger("seek-rejection",e)}),t.onLoadStart.subscribe(function(){return o.trigger("buffering_start")}),t.onLoadEnd.subscribe(function(){return o.trigger("buffering_end")}),t.onEnded.subscribe(function(){return o.trigger("finish")}),t.onError.subscribe(function(e){e instanceof u?o.trigger("no_streams"):e instanceof h?o.trigger("no_protocol"):e instanceof l&&o.trigger("audio_error")});var n,i,o={play:t.play.bind(t),pause:t.pause.bind(t),seek:t.seek.bind(t),getVolume:t.getVolume.bind(t),setVolume:t.setVolume.bind(t),currentTime:t.getPosition.bind(t),getDuration:t.getDuration.bind(t),isBuffering:t.isLoading.bind(t),isPlaying:t.isPlaying.bind(t),isActuallyPlaying:t.isActuallyPlaying.bind(t),isEnded:t.isEnded.bind(t),isDead:t.isDead.bind(t),kill:t.kill.bind(t),hasErrored:function(){return!!t.getFatalError()},getState:e};return a.mixin(o),n=0,i=null,t.onChange.subscribe(function(e){var t=e.playing,r=e.seeking;e.dead?window.clearTimeout(n):void 0===t&&void 0===r||s()}),o;function s(){window.clearTimeout(n),t.isPlaying()&&!t.isEnded()&&(n=window.setTimeout(s,1e3/60));var e=t.getPosition();e!==i&&(i=e,o.trigger("time",e))}}},function(n,e){(function(e){"use strict";var t=e.AudioContext||e.webkitAudioContext,r=null;n.exports=function(){return r||(r=new t)}}).call(e,function(){return this}())},function(e,t){(function(n){"use strict";var i=n.navigator.getUserMedia||n.navigator.webkitGetUserMedia||n.navigator.mozGetUserMedia;e.exports=function(e,t,r){i.call(n.navigator,e,t,r)}}).call(t,function(){return this}())},function(e,t,r){"use strict";var n=function(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e},i=r(14),o=r(15),s=r(2).Promise,a=r(28),l=(n(A,[{key:"start",value:function(){var t=this;return function(){var r=this,n=this.context;return new s(function(t,e){r.source?r.source instanceof AudioNode?t(r.source):e(new Error("source needs to be an instance of AudioNode")):o({audio:!0},function(e){r.stream=e,r.source=n.createMediaStreamSource(e),t(r.source)}.bind(r),e)})}.call(this).then(function(e){return t._recorder=new a(e),t._recorder.record(),e})}},{key:"stop",value:function(){var e;this._recorder&&this._recorder.stop(),this.stream&&(this.stream.stop?this.stream.stop():!this.stream.getTracks||(e=this.stream.getTracks()[0])&&e.stop())}},{key:"getBuffer",value:function(){var i=this;return new s(function(n,e){i._recorder?i._recorder.getBuffer(function(e){var t=i.context.sampleRate,r=i.context.createBuffer(2,e[0].length,t);r.getChannelData(0).set(e[0]),r.getChannelData(1).set(e[1]),n(r)}.bind(i)):e(new Error("Nothing has been recorded yet."))})}},{key:"getWAV",value:function(){var r=this;return new s(function(t,e){r._recorder?r._recorder.exportWAV(function(e){t(e)}):e(new Error("Nothing has been recorded yet."))})}},{key:"play",value:function(){var r=this;return this.getBuffer().then(function(e){var t=r.context.createBufferSource();return t.buffer=e,t.connect(r.context.destination),t.start(0),t})}},{key:"saveAs",value:function(t){return this.getWAV().then(function(e){a.forceDownload(e,t)})}},{key:"delete",value:function(){this._recorder&&(this._recorder.stop(),this._recorder.clear(),this._recorder=null),this.stream&&this.stream.stop()}}]),A);function A(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,A),this.context=e.context||i(),this._recorder=null,this.source=e.source,this.stream=null}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=l},function(e,t,r){"use strict";var n=r(4),l=r(3),A=r(13),u=r(1).SCAudio,h=r(1).MaestroCore.logger,c=r(1).SCAudioPublicApiStreamURLRetriever.StreamUrlRetriever,i=r(1).SCAudioControllerHTML5Player.MediaElementManager,p=r(1).SCAudioControllerHTML5Player.HTML5PlayerController,d=r(1).SCAudioControllerHLSMSEPlayer.HLSMSEPlayerController,f=r(1).MaestroLoaders.stringLoader,g=new i("audio",h.noOpLogger);e.exports=function(e,a){var t=a?{secret_token:a}:{};return n.request("GET",e,t).then(function(r){var n=l.get("baseURL"),i=l.get("client_id"),e=l.get("oauth_token"),t=!1,o=new c({clientId:i,secretToken:a,trackId:r.id,requestAuthorization:e?"OAuth "+e:null,loader:f}),s=new u.Player({controllers:[new d(g),new p(g)],streamUrlRetriever:o,getURLOpts:{preview:"SNIP"===r.policy},streamUrlsExpire:!0,mediaSessionEnabled:!0,logger:h.noOpLogger});return s.onPlay.subscribe(function(){t||(t=!0,function(){var e=n+"/tracks/"+encodeURIComponent(r.id)+"/plays?client_id="+encodeURIComponent(i);a&&(e+="&secret_token="+encodeURIComponent(a));var t=new XMLHttpRequest;t.open("POST",e,!0),t.send()}())}),s.onEnded.subscribe(function(){s.pause()}),s.onPlayIntent.subscribe(function(){s.isEnded()&&s.seek(0)}),A(s)})},e.exports.activateAudioElement=function(){g.activate()}},function(e,t,r){var s,n,i,o,h,a,l,c,A;s=Array.prototype.forEach,n=Object.prototype.hasOwnProperty,i=Array.prototype.slice,o=0,h={keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,r=[];for(t in e)e.hasOwnProperty(t)&&(r[r.length]=t);return r},uniqueId:function(e){var t=++o+"";return e?e+t:t},has:function(e,t){return n.call(e,t)},each:function(e,t,r){if(null!=e)if(s&&e.forEach===s)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var o in e)this.has(e,o)&&t.call(r,e[o],o,e)},once:function(e){var t,r=!1;return function(){return r||(r=!0,t=e.apply(this,arguments),e=null),t}}},a={on:function(e,t,r){return c(this,"on",e,[t,r])&&t&&(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:r,ctx:r||this})),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var n=this,i=h.once(function(){n.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,r)},off:function(e,t,r){var n,i,o,s,a,l,A,u;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events={},this;for(a=0,l=(s=e?[e]:h.keys(this._events)).length;a<l;a++)if(e=s[a],o=this._events[e]){if(this._events[e]=n=[],t||r)for(A=0,u=o.length;A<u;A++)i=o[A],(t&&t!==i.callback&&t!==i.callback._callback||r&&r!==i.context)&&n.push(i);n.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!c(this,"trigger",e,t))return this;var r=this._events[e],n=this._events.all;return r&&A(r,t),n&&A(n,arguments),this},stopListening:function(e,t,r){var n=this._listeners;if(!n)return this;var i=!t&&!r;for(var o in"object"==typeof t&&(r=this),e&&((n={})[e._listenerId]=e),n)n[o].off(t,r,this),i&&delete this._listeners[o];return this}},l=/\s+/,c=function(e,t,r,n){if(!r)return!0;if("object"==typeof r){for(var i in r)e[t].apply(e,[i,r[i]].concat(n));return!1}if(l.test(r)){for(var o=r.split(l),s=0,a=o.length;s<a;s++)e[t].apply(e,[o[s]].concat(n));return!1}return!0},A=function(e,t){var r,n=-1,i=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++n<i;)(r=e[n]).callback.call(r.ctx);return;case 1:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o);return;case 2:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o,s);return;case 3:for(;++n<i;)(r=e[n]).callback.call(r.ctx,o,s,a);return;default:for(;++n<i;)(r=e[n]).callback.apply(r.ctx,t)}},h.each({listenTo:"on",listenToOnce:"once"},function(i,e){a[e]=function(e,t,r){var n=this._listeners||(this._listeners={});return"object"==typeof t&&(r=this),(n[e._listenerId||(e._listenerId=h.uniqueId("l"))]=e)[i](t,r,this),this}}),a.bind=a.on,a.unbind=a.off,a.mixin=function(t){return h.each(["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"],function(e){t[e]=this[e]},this),t},void 0!==e&&e.exports&&(t=e.exports=a),t.BackboneEvents=a},function(e,t,r){e.exports=r(18)},function(e,t){e.exports={encode:function(t,e){function l(e){return e.filter(function(e){return"string"==typeof e&&e.length}).join("&")}function A(e){var t=Object.keys(e);return n?t.sort():t}function u(e,t){var r,n,i,o=encodeURIComponent,s=typeof t,a=null;return Array.isArray(t)?(i=e,a=l(t.map(function(e){return u(":name[]".replace(/:name/,i),e)}))):"string"==s?a=o(e)+"="+t.replace(/[^ !'()~\*]*/g,encodeURIComponent).replace(/ /g,"+").replace(/[!'()~\*]/g,h):"number"==s?a=o(e)+"="+o(t).replace(/%20/g,"+"):"boolean"==s?a=o(e)+"="+t:"object"==s&&(null!==t?(r=e,a=l(A(n=t).map(function(e){return u(":name[:prop]".replace(/:name/,r).replace(/:prop/,e),n[e])}))):c||(a=o(e)+"=null")),a}function h(e){return"%"+("0"+e.charCodeAt(0).toString(16)).slice(-2).toUpperCase()}var r="object"==typeof e?e:{},c=r.ignorenull||!1,n=r.sorted||!1;return l(A(t).map(function(e){return u(e,t[e])}))}}},function(e,t,r){(function(e,d){!function(r,n){"use strict";function i(e){delete l[e]}function o(e){if(A)setTimeout(o,0,e);else{var t=l[e];if(t){A=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{i(e),A=!1}}}}var s,a,l,A,u,e,h,t,c;function p(e){e.source===r&&"string"==typeof e.data&&0===e.data.indexOf(c)&&o(+e.data.slice(c.length))}r.setImmediate||(a=1,A=!(l={}),u=r.document,e=(e=Object.getPrototypeOf&&Object.getPrototypeOf(r))&&e.setTimeout?e:r,s="[object process]"==={}.toString.call(r.process)?function(e){d.nextTick(function(){o(e)})}:function(){if(r.postMessage&&!r.importScripts){var e=!0,t=r.onmessage;return r.onmessage=function(){e=!1},r.postMessage("","*"),r.onmessage=t,e}}()?(c="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",p,!1):r.attachEvent("onmessage",p),function(e){r.postMessage(c+e,"*")}):r.MessageChannel?((t=new MessageChannel).port1.onmessage=function(e){o(e.data)},function(e){t.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(h=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){o(e),t.onreadystatechange=null,h.removeChild(t),t=null},h.appendChild(t)}):function(e){setTimeout(o,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return l[a]=n,s(a),a++},e.clearImmediate=i)}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,function(){return this}(),r(6))},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,i,o){(function(e){function t(e,t){this._id=e,this._clearFn=t}var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;i.setTimeout=function(){return new t(n.call(setTimeout,r,arguments),clearTimeout)},i.setInterval=function(){return new t(n.call(setInterval,r,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(e){e&&e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(r,this._id)},i.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},i.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},i._unrefActive=i.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},o(21),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(i,function(){return this}())},function(e,t){var n=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var r;try{(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),r=r.getBlob()}catch(t){r=new Blob([e])}return new Worker(n.createObjectURL(r))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){return new Worker(t)}}},function(e,t,r){e.exports=function(){return r(26)('!function(t){function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n){(function(t){function n(t){h=t.sampleRate,v=t.numChannels,s()}function e(t){for(var n=0;n<v;n++)p[n].push(t[n]);g+=t[0].length}function r(t){for(var n=[],e=0;e<v;e++)n.push(i(p[e],g));if(2===v)var r=f(n[0],n[1]);else var r=n[0];var a=l(r),o=new Blob([a],{type:t});this.postMessage(o)}function a(){for(var t=[],n=0;n<v;n++)t.push(i(p[n],g));this.postMessage(t)}function o(){g=0,p=[],s()}function s(){for(var t=0;t<v;t++)p[t]=[]}function i(t,n){for(var e=new Float32Array(n),r=0,a=0;a<t.length;a++)e.set(t[a],r),r+=t[a].length;return e}function f(t,n){for(var e=t.length+n.length,r=new Float32Array(e),a=0,o=0;a<e;)r[a++]=t[o],r[a++]=n[o],o++;return r}function c(t,n,e){for(var r=0;r<e.length;r++,n+=2){var a=Math.max(-1,Math.min(1,e[r]));t.setInt16(n,a<0?32768*a:32767*a,!0)}}function u(t,n,e){for(var r=0;r<e.length;r++)t.setUint8(n+r,e.charCodeAt(r))}function l(t){var n=new ArrayBuffer(44+2*t.length),e=new DataView(n);return u(e,0,"RIFF"),e.setUint32(4,36+2*t.length,!0),u(e,8,"WAVE"),u(e,12,"fmt "),e.setUint32(16,16,!0),e.setUint16(20,1,!0),e.setUint16(22,v,!0),e.setUint32(24,h,!0),e.setUint32(28,4*h,!0),e.setUint16(32,2*v,!0),e.setUint16(34,16,!0),u(e,36,"data"),e.setUint32(40,2*t.length,!0),c(e,44,t),e}var h,v,g=0,p=[];t.onmessage=function(t){switch(t.data.command){case"init":n(t.data.config);break;case"record":e(t.data.buffer);break;case"exportWAV":r(t.data.type);break;case"getBuffer":a();break;case"clear":o()}}}).call(n,function(){return this}())}]);\n//# sourceMappingURL=9f9aac32c9a7432b5555.worker.js.map',r.p+"9f9aac32c9a7432b5555.worker.js")}},function(e,t,r){function n(e,t){var r=t||{},n=r.bufferLen||4096,i=r.numChannels||2;this.context=e.context,this.node=(this.context.createScriptProcessor||this.context.createJavaScriptNode).call(this.context,n,i,i);var o=new l;o.postMessage({command:"init",config:{sampleRate:this.context.sampleRate,numChannels:i}});var s,a=!1;this.node.onaudioprocess=function(e){if(a){for(var t=[],r=0;r<i;r++)t.push(e.inputBuffer.getChannelData(r));o.postMessage({command:"record",buffer:t})}},this.configure=function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])},this.record=function(){a=!0},this.stop=function(){a=!1},this.clear=function(){o.postMessage({command:"clear"})},this.getBuffer=function(e){s=e||r.callback,o.postMessage({command:"getBuffer"})},this.exportWAV=function(e,t){if(s=e||r.callback,t=t||r.type||"audio/wav",!s)throw new Error("Callback not set");o.postMessage({command:"exportWAV",type:t})},o.onmessage=function(e){var t=e.data;s(t)},e.connect(this.node),this.node.connect(this.context.destination)}var l=r(27);n.forceDownload=function(e,t){var r=(window.URL||window.webkitURL).createObjectURL(e),n=window.document.createElement("a");n.href=r,n.download=t||"output.wav";var i=document.createEvent("Event");i.initEvent("click",!0,!0),n.dispatchEvent(i)},e.exports=n},function(e,t){}],r.c=i,r.p="",r(0);function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var n,i}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Headroom=t()}(this,function(){"use strict";function e(){return"undefined"!=typeof window}function t(e,n,i){var t,r,o,s,a,l,A,u=function(){var e=!1;try{var t={get passive(){e=!0}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){e=!1}return e}(),h=!1,c=(r=e)&&r.document&&9===r.document.nodeType?(a=(s=r).document,l=a.body,A=a.documentElement,{scrollHeight:function(){return Math.max(l.scrollHeight,A.scrollHeight,l.offsetHeight,A.offsetHeight,l.clientHeight,A.clientHeight)},height:function(){return s.innerHeight||A.clientHeight||l.clientHeight},scrollY:function(){return void 0!==s.pageYOffset?s.pageYOffset:(A||l.parentNode||l).scrollTop}}):(o=r,{scrollHeight:function(){return Math.max(o.scrollHeight,o.offsetHeight,o.clientHeight)},height:function(){return Math.max(o.offsetHeight,o.clientHeight)},scrollY:function(){return o.scrollTop}}),p=c.scrollY(),d={};function f(){var e=Math.round(c.scrollY()),t=c.height(),r=c.scrollHeight();d.scrollY=e,d.lastScrollY=p,d.direction=p<e?"down":"up",d.distance=Math.abs(e-p),d.isOutOfBounds=e<0||r<e+t,d.top=e<=n.offset,d.bottom=r<=e+t,d.toleranceExceeded=d.distance>n.tolerance[d.direction],i(d),p=e,h=!1}function g(){h||(h=!0,t=requestAnimationFrame(f))}var m=!!u&&{passive:!0,capture:!1};return e.addEventListener("scroll",g,m),{destroy:function(){cancelAnimationFrame(t),e.removeEventListener("scroll",g,m)}}}function n(e,t){var r;t=t||{},Object.assign(this,n.options,t),this.classes=Object.assign({},n.options.classes,t.classes),this.elem=e,this.tolerance=(r=this.tolerance)===Object(r)?r:{down:r,up:r},this.initialised=!1,this.frozen=!1}return n.prototype={constructor:n,init:function(){return n.cutsTheMustard&&!this.initialised&&(this.addClass("initial"),this.initialised=!0,setTimeout(function(e){e.scrollTracker=t(e.scroller,{offset:e.offset,tolerance:e.tolerance},e.update.bind(e))},100,this)),this},destroy:function(){this.initialised=!1,Object.keys(this.classes).forEach(this.removeClass,this),this.scrollTracker.destroy()},unpin:function(){!this.hasClass("pinned")&&this.hasClass("unpinned")||(this.addClass("unpinned"),this.removeClass("pinned"),this.onUnpin&&this.onUnpin.call(this))},pin:function(){this.hasClass("unpinned")&&(this.addClass("pinned"),this.removeClass("unpinned"),this.onPin&&this.onPin.call(this))},freeze:function(){this.frozen=!0,this.addClass("frozen")},unfreeze:function(){this.frozen=!1,this.removeClass("frozen")},top:function(){this.hasClass("top")||(this.addClass("top"),this.removeClass("notTop"),this.onTop&&this.onTop.call(this))},notTop:function(){this.hasClass("notTop")||(this.addClass("notTop"),this.removeClass("top"),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){this.hasClass("bottom")||(this.addClass("bottom"),this.removeClass("notBottom"),this.onBottom&&this.onBottom.call(this))},notBottom:function(){this.hasClass("notBottom")||(this.addClass("notBottom"),this.removeClass("bottom"),this.onNotBottom&&this.onNotBottom.call(this))},shouldUnpin:function(e){return"down"===e.direction&&!e.top&&e.toleranceExceeded},shouldPin:function(e){return"up"===e.direction&&e.toleranceExceeded||e.top},addClass:function(e){this.elem.classList.add(this.classes[e])},removeClass:function(e){this.elem.classList.remove(this.classes[e])},hasClass:function(e){return this.elem.classList.contains(this.classes[e])},update:function(e){e.isOutOfBounds||!0!==this.frozen&&(e.top?this.top():this.notTop(),e.bottom?this.bottom():this.notBottom(),this.shouldUnpin(e)?this.unpin():this.shouldPin(e)&&this.pin())}},n.options={tolerance:{up:0,down:0},offset:0,scroller:e()?window:null,classes:{frozen:"headroom--frozen",pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},n.cutsTheMustard=!!(e()&&function(){}.bind&&"classList"in document.documentElement&&Object.assign&&Object.keys&&requestAnimationFrame),n}),function(i){i&&(i.fn.headroom=function(n){return this.each(function(){var e=i(this),t=e.data("headroom"),r="object"==typeof n&&n,r=i.extend(!0,{},Headroom.options,r);t||((t=new Headroom(this,r)).init(),e.data("headroom",t)),"string"==typeof n&&(t[n](),"destroy"===n&&e.removeData("headroom"))})},i("[data-headroom]").each(function(){var e=i(this);e.headroom(e.data())}))}(window.Zepto||window.jQuery),function(t,r){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("jquery")):t.jQueryBridget=r(t,t.jQuery)}(window,function(e,t){"use strict";var h=Array.prototype.slice,r=e.console,c=void 0===r?function(){}:function(e){r.error(e)};function n(A,i,u){(u=u||t||e.jQuery)&&(i.prototype.option||(i.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))}),u.fn[A]=function(e){if("string"!=typeof e)return n=e,this.each(function(e,t){var r=u.data(t,A);r?(r.option(n),r._init()):(r=new i(t,n),u.data(t,A,r))}),this;var t,o,s,a,l,n,r=h.call(arguments,1);return s=r,l="$()."+A+'("'+(o=e)+'")',(t=this).each(function(e,t){var r,n,i=u.data(t,A);i?(r=i[o])&&"_"!=o.charAt(0)?(n=r.apply(i,s),a=void 0===a?n:a):c(l+" is not a valid method"):c(A+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:t},o(u))}function o(e){!e||e&&e.bridget||(e.bridget=n)}return o(t||e.jQuery),n}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var r=this._events=this._events||{},n=r[e]=r[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var r=this._onceEvents=this._onceEvents||{};return(r[e]=r[e]||{})[t]=!0,this}},t.off=function(e,t){var r=this._events&&this._events[e];if(r&&r.length){var n=r.indexOf(t);return-1!=n&&r.splice(n,1),this}},t.emitEvent=function(e,t){var r=this._events&&this._events[e];if(r&&r.length){r=r.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],i=0;i<r.length;i++){var o=r[i];n&&n[o]&&(this.off(e,o),delete n[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function _(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var r="undefined"==typeof console?function(){}:function(e){console.error(e)},E=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],w=E.length;function b(e){var t=getComputedStyle(e);return t||r("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}var B,C=!1;function S(e){var t,r,n;if(C||(C=!0,(t=document.createElement("div")).style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box",(r=document.body||document.documentElement).appendChild(t),n=b(t),B=200==Math.round(_(n.width)),S.isBoxSizeOuter=B,r.removeChild(t)),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=b(e);if("none"==i.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<w;t++){e[E[t]]=0}return e}();var o={};o.width=e.offsetWidth,o.height=e.offsetHeight;for(var s=o.isBorderBox="border-box"==i.boxSizing,a=0;a<w;a++){var l=E[a],A=i[l],u=parseFloat(A);o[l]=isNaN(u)?0:u}var h=o.paddingLeft+o.paddingRight,c=o.paddingTop+o.paddingBottom,p=o.marginLeft+o.marginRight,d=o.marginTop+o.marginBottom,f=o.borderLeftWidth+o.borderRightWidth,g=o.borderTopWidth+o.borderBottomWidth,m=s&&B,y=_(i.width);!1!==y&&(o.width=y+(m?0:h+f));var v=_(i.height);return!1!==v&&(o.height=v+(m?0:c+g)),o.innerWidth=o.width-(h+f),o.innerHeight=o.height-(c+g),o.outerWidth=o.width+p,o.outerHeight=o.height+d,o}}return S}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var r=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],r=0;r<t.length;r++){var n=t[r]+"MatchesSelector";if(e[n])return n}}();return function(e,t){return e[r](t)}}),function(t,r){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("desandro-matches-selector")):t.fizzyUIUtils=r(t,t.matchesSelector)}(window,function(A,o){var u={extend:function(e,t){for(var r in t)e[r]=t[r];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice;u.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},u.removeFrom=function(e,t){var r=e.indexOf(t);-1!=r&&e.splice(r,1)},u.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,o(e,t))return e},u.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},u.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.filterFindElements=function(e,n){e=u.makeArray(e);var i=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(n){o(e,n)&&i.push(e);for(var t=e.querySelectorAll(n),r=0;r<t.length;r++)i.push(t[r])}else i.push(e)}),i},u.debounceMethod=function(e,t,n){n=n||100;var i=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];clearTimeout(e);var t=arguments,r=this;this[o]=setTimeout(function(){i.apply(r,t),delete r[o]},n)}},u.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},u.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,r){return t+"-"+r}).toLowerCase()};var h=A.console;return u.htmlInit=function(a,l){u.docReady(function(){var e=u.toDashed(l),i="data-"+e,t=document.querySelectorAll("["+i+"]"),r=document.querySelectorAll(".js-"+e),n=u.makeArray(t).concat(u.makeArray(r)),o=i+"-options",s=A.jQuery;n.forEach(function(t){var e,r=t.getAttribute(i)||t.getAttribute(o);try{e=r&&JSON.parse(r)}catch(e){return void(h&&h.error("Error parsing "+i+" on "+t.className+": "+e))}var n=new a(t,e);s&&s.data(t,l,n)})})},u}),function(t,r){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=r(t,t.getSize))}(window,function(e,t){function r(e,t){this.element=e,this.parent=t,this.create()}var n=r.prototype;return n.create=function(){this.element.style.position="absolute",this.element.setAttribute("aria-hidden","true"),this.x=0,this.shift=0},n.destroy=function(){this.unselect(),this.element.style.position="";var e=this.parent.originSide;this.element.style[e]=""},n.getSize=function(){this.size=t(this.element)},n.setPosition=function(e){this.x=e,this.updateTarget(),this.renderPosition(e)},n.updateTarget=n.setDefaultTarget=function(){var e="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[e]+this.size.width*this.parent.cellAlign},n.renderPosition=function(e){var t=this.parent.originSide;this.element.style[t]=this.parent.getPositionValue(e)},n.select=function(){this.element.classList.add("is-selected"),this.element.removeAttribute("aria-hidden")},n.unselect=function(){this.element.classList.remove("is-selected"),this.element.setAttribute("aria-hidden","true")},n.wrapShift=function(e){this.shift=e,this.renderPosition(this.x+this.parent.slideableWidth*e)},n.remove=function(){this.element.parentNode.removeChild(this.element)},r}),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/slide",t):"object"==typeof module&&module.exports?module.exports=t():(e.Flickity=e.Flickity||{},e.Flickity.Slide=t())}(window,function(){"use strict";function e(e){this.parent=e,this.isOriginLeft="left"==e.originSide,this.cells=[],this.outerWidth=0,this.height=0}var t=e.prototype;return t.addCell=function(e){var t;this.cells.push(e),this.outerWidth+=e.size.outerWidth,this.height=Math.max(e.size.outerHeight,this.height),1==this.cells.length&&(this.x=e.x,t=this.isOriginLeft?"marginLeft":"marginRight",this.firstMargin=e.size[t])},t.updateTarget=function(){var e=this.isOriginLeft?"marginRight":"marginLeft",t=this.getLastCell(),r=t?t.size[e]:0,n=this.outerWidth-(this.firstMargin+r);this.target=this.x+this.firstMargin+n*this.parent.cellAlign},t.getLastCell=function(){return this.cells[this.cells.length-1]},t.select=function(){this.cells.forEach(function(e){e.select()})},t.unselect=function(){this.cells.forEach(function(e){e.unselect()})},t.getCellElements=function(){return this.cells.map(function(e){return e.element})},e}),function(t,r){"function"==typeof define&&define.amd?define("flickity/js/animate",["fizzy-ui-utils/utils"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=r(t,t.fizzyUIUtils))}(window,function(e,t){var r={startAnimation:function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},animate:function(){this.applyDragForce(),this.applySelectedAttraction();var e,t=this.x;this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating&&(e=this,requestAnimationFrame(function(){e.animate()}))},positionSlider:function(){var e=this.x;this.options.wrapAround&&1<this.cells.length&&(e=t.modulo(e,this.slideableWidth),e-=this.slideableWidth,this.shiftWrapCells(e)),this.setTranslateX(e,this.isAnimating),this.dispatchScrollEvent()},setTranslateX:function(e,t){e+=this.cursorPosition,e=this.options.rightToLeft?-e:e;var r=this.getPositionValue(e);this.slider.style.transform=t?"translate3d("+r+",0,0)":"translateX("+r+")"},dispatchScrollEvent:function(){var e,t,r=this.slides[0];r&&(t=(e=-this.x-r.target)/this.slidesWidth,this.dispatchEvent("scroll",null,[t,e]))},positionSliderAtSelected:function(){this.cells.length&&(this.x=-this.selectedSlide.target,this.velocity=0,this.positionSlider())},getPositionValue:function(e){return this.options.percentPosition?.01*Math.round(e/this.size.innerWidth*1e4)+"%":Math.round(e)+"px"},settle:function(e){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*e)||this.restingFrames++,2<this.restingFrames&&(this.isAnimating=!1,delete this.isFreeScrolling,this.positionSlider(),this.dispatchEvent("settle",null,[this.selectedIndex]))},shiftWrapCells:function(e){var t=this.cursorPosition+e;this._shiftCells(this.beforeShiftCells,t,-1);var r=this.size.innerWidth-(e+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,r,1)},_shiftCells:function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],o=0<t?r:0;i.wrapShift(o),t-=i.size.outerWidth}},_unshiftCells:function(e){if(e&&e.length)for(var t=0;t<e.length;t++)e[t].wrapShift(0)},integratePhysics:function(){this.x+=this.velocity,this.velocity*=this.getFrictionFactor()},applyForce:function(e){this.velocity+=e},getFrictionFactor:function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},getRestingPosition:function(){return this.x+this.velocity/(1-this.getFrictionFactor())},applyDragForce:function(){var e;this.isDraggable&&this.isPointerDown&&(e=this.dragX-this.x-this.velocity,this.applyForce(e))},applySelectedAttraction:function(){var e;this.isDraggable&&this.isPointerDown||this.isFreeScrolling||!this.slides.length||(e=(-1*this.selectedSlide.target-this.x)*this.options.selectedAttraction,this.applyForce(e))}};return r}),function(s,a){var e;"function"==typeof define&&define.amd?define("flickity/js/flickity",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./cell","./slide","./animate"],function(e,t,r,n,i,o){return a(s,e,t,r,n,i,o)}):"object"==typeof module&&module.exports?module.exports=a(s,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./slide"),require("./animate")):(e=s.Flickity,s.Flickity=a(s,s.EvEmitter,s.getSize,s.fizzyUIUtils,e.Cell,e.Slide,e.animatePrototype))}(window,function(n,e,t,a,r,s,i){var l=n.jQuery,o=n.getComputedStyle,A=n.console;function u(e,t){for(e=a.makeArray(e);e.length;)t.appendChild(e.shift())}var h=0,c={};function p(e,t){var r=a.getQueryElement(e);if(r){if(this.element=r,this.element.flickityGUID){var n=c[this.element.flickityGUID];return n.option(t),n}l&&(this.$element=l(this.element)),this.options=a.extend({},this.constructor.defaults),this.option(t),this._create()}else A&&A.error("Bad element for Flickity: "+(r||e))}p.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:!0,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},p.createMethods=[];var d=p.prototype;a.extend(d,e.prototype),d._create=function(){var e=this.guid=++h;for(var t in this.element.flickityGUID=e,(c[e]=this).selectedIndex=0,this.restingFrames=0,this.x=0,this.velocity=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",this._createSlider(),(this.options.resize||this.options.watchCSS)&&n.addEventListener("resize",this),this.options.on){var r=this.options.on[t];this.on(t,r)}p.createMethods.forEach(function(e){this[e]()},this),this.options.watchCSS?this.watchCSS():this.activate()},d.option=function(e){a.extend(this.options,e)},d.activate=function(){this.isActive||(this.isActive=!0,this.element.classList.add("flickity-enabled"),this.options.rightToLeft&&this.element.classList.add("flickity-rtl"),this.getSize(),u(this._filterFindCellElements(this.element.children),this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,this.element.addEventListener("keydown",this)),this.emitEvent("activate"),this.selectInitialIndex(),this.isInitActivated=!0,this.dispatchEvent("ready"))},d._createSlider=function(){var e=document.createElement("div");e.className="flickity-slider",e.style[this.originSide]=0,this.slider=e},d._filterFindCellElements=function(e){return a.filterFindElements(e,this.options.cellSelector)},d.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},d._makeCells=function(e){return this._filterFindCellElements(e).map(function(e){return new r(e,this)},this)},d.getLastCell=function(){return this.cells[this.cells.length-1]},d.getLastSlide=function(){return this.slides[this.slides.length-1]},d.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},d._positionCells=function(e){e=e||0,this.maxCellHeight=e&&this.maxCellHeight||0;var t,r=0;0<e&&(r=(t=this.cells[e-1]).x+t.size.outerWidth);for(var n=this.cells.length,i=e;i<n;i++){var o=this.cells[i];o.setPosition(r),r+=o.size.outerWidth,this.maxCellHeight=Math.max(o.size.outerHeight,this.maxCellHeight)}this.slideableWidth=r,this.updateSlides(),this._containSlides(),this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0},d._sizeCells=function(e){e.forEach(function(e){e.getSize()})},d.updateSlides=function(){var n,i,o;this.slides=[],this.cells.length&&(n=new s(this),this.slides.push(n),i="left"==this.originSide?"marginRight":"marginLeft",o=this._getCanCellFit(),this.cells.forEach(function(e,t){var r;n.cells.length&&(r=n.outerWidth-n.firstMargin+(e.size.outerWidth-e.size[i]),o.call(this,t,r)||(n.updateTarget(),n=new s(this),this.slides.push(n))),n.addCell(e)},this),n.updateTarget(),this.updateSelectedSlide())},d._getCanCellFit=function(){var e=this.options.groupCells;if(!e)return function(){return!1};if("number"==typeof e){var t=parseInt(e,10);return function(e){return e%t!=0}}var r="string"==typeof e&&e.match(/^(\d+)%$/),n=r?parseInt(r[1],10)/100:1;return function(e,t){return t<=(this.size.innerWidth+1)*n}},d._init=d.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},d.getSize=function(){this.size=t(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var f={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};return d.setCellAlign=function(){var e=f[this.options.cellAlign];this.cellAlign=e?e[this.originSide]:this.options.cellAlign},d.setGallerySize=function(){var e;this.options.setGallerySize&&(e=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight,this.viewport.style.height=e+"px")},d._getWrapShiftCells=function(){var e,t;this.options.wrapAround&&(this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells),e=this.cursorPosition,t=this.cells.length-1,this.beforeShiftCells=this._getGapCells(e,t,-1),e=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(e,0,1))},d._getGapCells=function(e,t,r){for(var n=[];0<e;){var i=this.cells[t];if(!i)break;n.push(i),t+=r,e-=i.size.outerWidth}return n},d._containSlides=function(){var e,t,r,n,i,o,s;this.options.contain&&!this.options.wrapAround&&this.cells.length&&(t=(e=this.options.rightToLeft)?"marginRight":"marginLeft",r=e?"marginLeft":"marginRight",n=this.slideableWidth-this.getLastCell().size[r],i=n<this.size.innerWidth,o=this.cursorPosition+this.cells[0].size[t],s=n-this.size.innerWidth*(1-this.cellAlign),this.slides.forEach(function(e){i?e.target=n*this.cellAlign:(e.target=Math.max(e.target,o),e.target=Math.min(e.target,s))},this))},d.dispatchEvent=function(e,t,r){var n,i,o=t?[t].concat(r):r;this.emitEvent(e,o),l&&this.$element&&(n=e+=this.options.namespaceJQueryEvents?".flickity":"",t&&((i=l.Event(t)).type=e,n=i),this.$element.trigger(n,r))},d.select=function(e,t,r){var n;this.isActive&&(e=parseInt(e,10),this._wrapSelect(e),(this.options.wrapAround||t)&&(e=a.modulo(e,this.slides.length)),this.slides[e]&&(n=this.selectedIndex,this.selectedIndex=e,this.updateSelectedSlide(),r?this.positionSliderAtSelected():this.startAnimation(),this.options.adaptiveHeight&&this.setGallerySize(),this.dispatchEvent("select",null,[e]),e!=n&&this.dispatchEvent("change",null,[e]),this.dispatchEvent("cellSelect")))},d._wrapSelect=function(e){var t=this.slides.length;if(!(this.options.wrapAround&&1<t))return e;var r=a.modulo(e,t),n=Math.abs(r-this.selectedIndex),i=Math.abs(r+t-this.selectedIndex),o=Math.abs(r-t-this.selectedIndex);!this.isDragSelect&&i<n?e+=t:!this.isDragSelect&&o<n&&(e-=t),e<0?this.x-=this.slideableWidth:t<=e&&(this.x+=this.slideableWidth)},d.previous=function(e,t){this.select(this.selectedIndex-1,e,t)},d.next=function(e,t){this.select(this.selectedIndex+1,e,t)},d.updateSelectedSlide=function(){var e=this.slides[this.selectedIndex];e&&(this.unselectSelectedSlide(),(this.selectedSlide=e).select(),this.selectedCells=e.cells,this.selectedElements=e.getCellElements(),this.selectedCell=e.cells[0],this.selectedElement=this.selectedElements[0])},d.unselectSelectedSlide=function(){this.selectedSlide&&this.selectedSlide.unselect()},d.selectInitialIndex=function(){var e=this.options.initialIndex;if(this.isInitActivated)this.select(this.selectedIndex,!1,!0);else{if(e&&"string"==typeof e)if(this.queryCell(e))return void this.selectCell(e,!1,!0);var t=0;e&&this.slides[e]&&(t=e),this.select(t,!1,!0)}},d.selectCell=function(e,t,r){var n,i=this.queryCell(e);i&&(n=this.getCellSlideIndex(i),this.select(n,t,r))},d.getCellSlideIndex=function(e){for(var t=0;t<this.slides.length;t++){if(-1!=this.slides[t].cells.indexOf(e))return t}},d.getCell=function(e){for(var t=0;t<this.cells.length;t++){var r=this.cells[t];if(r.element==e)return r}},d.getCells=function(e){e=a.makeArray(e);var r=[];return e.forEach(function(e){var t=this.getCell(e);t&&r.push(t)},this),r},d.getCellElements=function(){return this.cells.map(function(e){return e.element})},d.getParentCell=function(e){var t=this.getCell(e);return t||(e=a.getParent(e,".flickity-slider > *"),this.getCell(e))},d.getAdjacentCellElements=function(e,t){if(!e)return this.selectedSlide.getCellElements();t=void 0===t?this.selectedIndex:t;var r=this.slides.length;if(r<=1+2*e)return this.getCellElements();for(var n=[],i=t-e;i<=t+e;i++){var o=this.options.wrapAround?a.modulo(i,r):i,s=this.slides[o];s&&(n=n.concat(s.getCellElements()))}return n},d.queryCell=function(e){if("number"==typeof e)return this.cells[e];if("string"==typeof e){if(e.match(/^[#\.]?[\d\/]/))return;e=this.element.querySelector(e)}return this.getCell(e)},d.uiChange=function(){this.emitEvent("uiChange")},d.childUIPointerDown=function(e){"touchstart"!=e.type&&e.preventDefault(),this.focus()},d.onresize=function(){this.watchCSS(),this.resize()},a.debounceMethod(p,"onresize",150),d.resize=function(){var e;this.isActive&&(this.getSize(),this.options.wrapAround&&(this.x=a.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.emitEvent("resize"),e=this.selectedElements&&this.selectedElements[0],this.selectCell(e,!1,!0))},d.watchCSS=function(){this.options.watchCSS&&(-1!=o(this.element,":after").content.indexOf("flickity")?this.activate():this.deactivate())},d.onkeydown=function(e){var t,r=document.activeElement&&document.activeElement!=this.element;!this.options.accessibility||r||(t=p.keyboardHandlers[e.keyCode])&&t.call(this)},p.keyboardHandlers={37:function(){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()},39:function(){var e=this.options.rightToLeft?"previous":"next";this.uiChange(),this[e]()}},d.focus=function(){var e=n.pageYOffset;this.element.focus({preventScroll:!0}),n.pageYOffset!=e&&n.scrollTo(n.pageXOffset,e)},d.deactivate=function(){this.isActive&&(this.element.classList.remove("flickity-enabled"),this.element.classList.remove("flickity-rtl"),this.unselectSelectedSlide(),this.cells.forEach(function(e){e.destroy()}),this.element.removeChild(this.viewport),u(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),this.element.removeEventListener("keydown",this)),this.isActive=!1,this.emitEvent("deactivate"))},d.destroy=function(){this.deactivate(),n.removeEventListener("resize",this),this.allOff(),this.emitEvent("destroy"),l&&this.$element&&l.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete c[this.guid]},a.extend(d,i),p.data=function(e){var t=(e=a.getQueryElement(e))&&e.flickityGUID;return t&&c[t]},a.htmlInit(p,"flickity"),l&&l.bridget&&l.bridget("flickity",p),p.setJQuery=function(e){l=e},p.Cell=r,p.Slide=s,p}),function(t,r){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("ev-emitter")):t.Unipointer=r(t,t.EvEmitter)}(window,function(i,e){function t(){}var r=t.prototype=Object.create(e.prototype);r.bindStartEvent=function(e){this._bindStartEvent(e,!0)},r.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},r._bindStartEvent=function(e,t){var r=(t=void 0===t||t)?"addEventListener":"removeEventListener",n="mousedown";i.PointerEvent?n="pointerdown":"ontouchstart"in i&&(n="touchstart"),e[r](n,this)},r.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.getTouch=function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.identifier==this.pointerIdentifier)return r}},r.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},r.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},r.onpointerdown=function(e){this._pointerDown(e,e)},r._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},r.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return r._bindPostStartEvents=function(e){var t;e&&((t=n[e.type]).forEach(function(e){i.addEventListener(e,this)},this),this._boundPointerEvents=t)},r._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){i.removeEventListener(e,this)},this),delete this._boundPointerEvents)},r.onmousemove=function(e){this._pointerMove(e,e)},r.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},r.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},r._pointerMove=function(e,t){this.pointerMove(e,t)},r.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},r.onmouseup=function(e){this._pointerUp(e,e)},r.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},r.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},r._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},r.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},r._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},r._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},r.pointerDone=function(){},r.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},r.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},r._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},r.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},t.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},t}),function(t,r){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("unipointer")):t.Unidragger=r(t,t.Unipointer)}(window,function(o,e){function t(){}var r=t.prototype=Object.create(e.prototype);r.bindHandles=function(){this._bindHandles(!0)},r.unbindHandles=function(){this._bindHandles(!1)},r._bindHandles=function(e){for(var t=(e=void 0===e||e)?"addEventListener":"removeEventListener",r=e?this._touchActionValue:"",n=0;n<this.handles.length;n++){var i=this.handles[n];this._bindStartEvent(i,e),i[t]("click",this),o.PointerEvent&&(i.style.touchAction=r)}},r._touchActionValue="none",r.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer=t,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var i={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},s={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return r.okayPointerDown=function(e){var t=i[e.target.nodeName],r=s[e.target.type],n=!t||r;return n||this._pointerReset(),n},r.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},r.pointerMove=function(e,t){var r=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,r]),this._dragMove(e,t,r)},r._dragPointerMove=function(e,t){var r={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(r)&&this._dragStart(e,t),r},r.hasDragStarted=function(e){return 3<Math.abs(e.x)||3<Math.abs(e.y)},r.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},r._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},r._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},r.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},r._dragMove=function(e,t,r){this.isDragging&&this.dragMove(e,t,r)},r.dragMove=function(e,t,r){e.preventDefault(),this.emitEvent("dragMove",[e,t,r])},r._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},r.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},r.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},r._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},r.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},t.getPointerPoint=e.getPointerPoint,t}),function(n,i){"function"==typeof define&&define.amd?define("flickity/js/drag",["./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(e,t,r){return i(n,e,t,r)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):n.Flickity=i(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)}(window,function(r,e,t,a){a.extend(e.defaults,{draggable:">1",dragThreshold:3}),e.createMethods.push("_createDrag");var n=e.prototype;a.extend(n,t.prototype),n._touchActionValue="pan-y";var i="createTouch"in document,o=!1;n._createDrag=function(){this.on("activate",this.onActivateDrag),this.on("uiChange",this._uiChangeDrag),this.on("deactivate",this.onDeactivateDrag),this.on("cellChange",this.updateDraggable),i&&!o&&(r.addEventListener("touchmove",function(){}),o=!0)},n.onActivateDrag=function(){this.handles=[this.viewport],this.bindHandles(),this.updateDraggable()},n.onDeactivateDrag=function(){this.unbindHandles(),this.element.classList.remove("is-draggable")},n.updateDraggable=function(){">1"==this.options.draggable?this.isDraggable=1<this.slides.length:this.isDraggable=this.options.draggable,this.isDraggable?this.element.classList.add("is-draggable"):this.element.classList.remove("is-draggable")},n.bindDrag=function(){this.options.draggable=!0,this.updateDraggable()},n.unbindDrag=function(){this.options.draggable=!1,this.updateDraggable()},n._uiChangeDrag=function(){delete this.isFreeScrolling},n.pointerDown=function(e,t){this.isDraggable?this.okayPointerDown(e)&&(this._pointerDownPreventDefault(e),this.pointerDownFocus(e),document.activeElement!=this.element&&this.pointerDownBlur(),this.dragX=this.x,this.viewport.classList.add("is-pointer-down"),this.pointerDownScroll=l(),r.addEventListener("scroll",this),this._pointerDownDefault(e,t)):this._pointerDownDefault(e,t)},n._pointerDownDefault=function(e,t){this.pointerDownPointer={pageX:t.pageX,pageY:t.pageY},this._bindPostStartEvents(e),this.dispatchEvent("pointerDown",e,[t])};var s={INPUT:!0,TEXTAREA:!0,SELECT:!0};function l(){return{x:r.pageXOffset,y:r.pageYOffset}}return n.pointerDownFocus=function(e){s[e.target.nodeName]||this.focus()},n._pointerDownPreventDefault=function(e){var t="touchstart"==e.type,r="touch"==e.pointerType,n=s[e.target.nodeName];t||r||n||e.preventDefault()},n.hasDragStarted=function(e){return Math.abs(e.x)>this.options.dragThreshold},n.pointerUp=function(e,t){delete this.isTouchScrolling,this.viewport.classList.remove("is-pointer-down"),this.dispatchEvent("pointerUp",e,[t]),this._dragPointerUp(e,t)},n.pointerDone=function(){r.removeEventListener("scroll",this),delete this.pointerDownScroll},n.dragStart=function(e,t){this.isDraggable&&(this.dragStartPosition=this.x,this.startAnimation(),r.removeEventListener("scroll",this),this.dispatchEvent("dragStart",e,[t]))},n.pointerMove=function(e,t){var r=this._dragPointerMove(e,t);this.dispatchEvent("pointerMove",e,[t,r]),this._dragMove(e,t,r)},n.dragMove=function(e,t,r){var n,i,o,s;this.isDraggable&&(e.preventDefault(),this.previousDragX=this.dragX,n=this.options.rightToLeft?-1:1,this.options.wrapAround&&(r.x=r.x%this.slideableWidth),o=this.dragStartPosition+r.x*n,!this.options.wrapAround&&this.slides.length&&(o=(o=(i=Math.max(-this.slides[0].target,this.dragStartPosition))<o?.5*(o+i):o)<(s=Math.min(-this.getLastSlide().target,this.dragStartPosition))?.5*(o+s):o),this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",e,[t,r]))},n.dragEnd=function(e,t){var r,n;this.isDraggable&&(this.options.freeScroll&&(this.isFreeScrolling=!0),r=this.dragEndRestingSelect(),this.options.freeScroll&&!this.options.wrapAround?(n=this.getRestingPosition(),this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target):this.options.freeScroll||r!=this.selectedIndex||(r+=this.dragEndBoostSelect()),delete this.previousDragX,this.isDragSelect=this.options.wrapAround,this.select(r),delete this.isDragSelect,this.dispatchEvent("dragEnd",e,[t]))},n.dragEndRestingSelect=function(){var e=this.getRestingPosition(),t=Math.abs(this.getSlideDistance(-e,this.selectedIndex)),r=this._getClosestResting(e,t,1),n=this._getClosestResting(e,t,-1);return r.distance<n.distance?r.index:n.index},n._getClosestResting=function(e,t,r){for(var n=this.selectedIndex,i=1/0,o=this.options.contain&&!this.options.wrapAround?function(e,t){return e<=t}:function(e,t){return e<t};o(t,i)&&(n+=r,i=t,null!==(t=this.getSlideDistance(-e,n)));)t=Math.abs(t);return{distance:i,index:n-r}},n.getSlideDistance=function(e,t){var r=this.slides.length,n=this.options.wrapAround&&1<r,i=n?a.modulo(t,r):t,o=this.slides[i];if(!o)return null;var s=n?this.slideableWidth*Math.floor(t/r):0;return e-(o.target+s)},n.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||100<new Date-this.dragMoveTime)return 0;var e=this.getSlideDistance(-this.dragX,this.selectedIndex),t=this.previousDragX-this.dragX;return 0<e&&0<t?1:e<0&&t<0?-1:0},n.staticClick=function(e,t){var r=this.getParentCell(e.target),n=r&&r.element,i=r&&this.cells.indexOf(r);this.dispatchEvent("staticClick",e,[t,n,i])},n.onscroll=function(){var e=l(),t=this.pointerDownScroll.x-e.x,r=this.pointerDownScroll.y-e.y;(3<Math.abs(t)||3<Math.abs(r))&&this._pointerDone()},e}),function(n,i){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(e,t,r){return i(n,e,t,r)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):i(n,n.Flickity,n.Unipointer,n.fizzyUIUtils)}(window,function(e,t,r,n){"use strict";var i="http://www.w3.org/2000/svg";function o(e,t){this.direction=e,this.parent=t,this._create()}(o.prototype=Object.create(r.prototype))._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var e=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==e;var t=this.element=document.createElement("button");t.className="flickity-button flickity-prev-next-button",t.className+=this.isPrevious?" previous":" next",t.setAttribute("type","button"),this.disable(),t.setAttribute("aria-label",this.isPrevious?"Previous":"Next");var r=this.createSVG();t.appendChild(r),this.parent.on("select",this.update.bind(this)),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},o.prototype.activate=function(){this.bindStartEvent(this.element),this.element.addEventListener("click",this),this.parent.element.appendChild(this.element)},o.prototype.deactivate=function(){this.parent.element.removeChild(this.element),this.unbindStartEvent(this.element),this.element.removeEventListener("click",this)},o.prototype.createSVG=function(){var e=document.createElementNS(i,"svg");e.setAttribute("class","flickity-button-icon"),e.setAttribute("viewBox","0 0 100 100");var t,r=document.createElementNS(i,"path"),n="string"!=typeof(t=this.parent.options.arrowShape)?"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z":t;return r.setAttribute("d",n),r.setAttribute("class","arrow"),this.isLeft||r.setAttribute("transform","translate(100, 100) rotate(180) "),e.appendChild(r),e},o.prototype.handleEvent=n.handleEvent,o.prototype.onclick=function(){var e;this.isEnabled&&(this.parent.uiChange(),e=this.isPrevious?"previous":"next",this.parent[e]())},o.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},o.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},o.prototype.update=function(){var e,t,r=this.parent.slides;this.parent.options.wrapAround&&1<r.length?this.enable():(e=r.length?r.length-1:0,t=this.isPrevious?0:e,this[this.parent.selectedIndex==t?"disable":"enable"]())},o.prototype.destroy=function(){this.deactivate(),this.allOff()},n.extend(t.defaults,{prevNextButtons:!0,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),t.createMethods.push("_createPrevNextButtons");var s=t.prototype;return s._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new o(-1,this),this.nextButton=new o(1,this),this.on("activate",this.activatePrevNextButtons))},s.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},s.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},t.PrevNextButton=o,t}),function(n,i){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["./flickity","unipointer/unipointer","fizzy-ui-utils/utils"],function(e,t,r){return i(n,e,t,r)}):"object"==typeof module&&module.exports?module.exports=i(n,require("./flickity"),require("unipointer"),require("fizzy-ui-utils")):i(n,n.Flickity,n.Unipointer,n.fizzyUIUtils)}(window,function(e,t,r,n){function i(e){this.parent=e,this._create()}(i.prototype=Object.create(r.prototype))._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",this.dots=[],this.handleClick=this.onClick.bind(this),this.on("pointerDown",this.parent.childUIPointerDown.bind(this.parent))},i.prototype.activate=function(){this.setDots(),this.holder.addEventListener("click",this.handleClick),this.bindStartEvent(this.holder),this.parent.element.appendChild(this.holder)},i.prototype.deactivate=function(){this.holder.removeEventListener("click",this.handleClick),this.unbindStartEvent(this.holder),this.parent.element.removeChild(this.holder)},i.prototype.setDots=function(){var e=this.parent.slides.length-this.dots.length;0<e?this.addDots(e):e<0&&this.removeDots(-e)},i.prototype.addDots=function(e){for(var t=document.createDocumentFragment(),r=[],n=this.dots.length,i=n+e,o=n;o<i;o++){var s=document.createElement("li");s.className="dot",s.setAttribute("aria-label","Page dot "+(o+1)),t.appendChild(s),r.push(s)}this.holder.appendChild(t),this.dots=this.dots.concat(r)},i.prototype.removeDots=function(e){this.dots.splice(this.dots.length-e,e).forEach(function(e){this.holder.removeChild(e)},this)},i.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot",this.selectedDot.removeAttribute("aria-current")),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected",this.selectedDot.setAttribute("aria-current","step"))},i.prototype.onTap=i.prototype.onClick=function(e){var t,r=e.target;"LI"==r.nodeName&&(this.parent.uiChange(),t=this.dots.indexOf(r),this.parent.select(t))},i.prototype.destroy=function(){this.deactivate(),this.allOff()},t.PageDots=i,n.extend(t.defaults,{pageDots:!0}),t.createMethods.push("_createPageDots");var o=t.prototype;return o._createPageDots=function(){this.options.pageDots&&(this.pageDots=new i(this),this.on("activate",this.activatePageDots),this.on("select",this.updateSelectedPageDots),this.on("cellChange",this.updatePageDots),this.on("resize",this.updatePageDots),this.on("deactivate",this.deactivatePageDots))},o.activatePageDots=function(){this.pageDots.activate()},o.updateSelectedPageDots=function(){this.pageDots.updateSelected()},o.updatePageDots=function(){this.pageDots.setDots()},o.deactivatePageDots=function(){this.pageDots.deactivate()},t.PageDots=i,t}),function(e,t){"function"==typeof define&&define.amd?define("flickity/js/player",["ev-emitter/ev-emitter","fizzy-ui-utils/utils","./flickity"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("fizzy-ui-utils"),require("./flickity")):t(e.EvEmitter,e.fizzyUIUtils,e.Flickity)}(window,function(e,t,r){function n(e){this.parent=e,this.state="stopped",this.onVisibilityChange=this.visibilityChange.bind(this),this.onVisibilityPlay=this.visibilityPlay.bind(this)}(n.prototype=Object.create(e.prototype)).play=function(){"playing"!=this.state&&(document.hidden?document.addEventListener("visibilitychange",this.onVisibilityPlay):(this.state="playing",document.addEventListener("visibilitychange",this.onVisibilityChange),this.tick()))},n.prototype.tick=function(){var e,t;"playing"==this.state&&(e="number"==typeof(e=this.parent.options.autoPlay)?e:3e3,(t=this).clear(),this.timeout=setTimeout(function(){t.parent.next(!0),t.tick()},e))},n.prototype.stop=function(){this.state="stopped",this.clear(),document.removeEventListener("visibilitychange",this.onVisibilityChange)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){"playing"==this.state&&(this.state="paused",this.clear())},n.prototype.unpause=function(){"paused"==this.state&&this.play()},n.prototype.visibilityChange=function(){this[document.hidden?"pause":"unpause"]()},n.prototype.visibilityPlay=function(){this.play(),document.removeEventListener("visibilitychange",this.onVisibilityPlay)},t.extend(r.defaults,{pauseAutoPlayOnHover:!0}),r.createMethods.push("_createPlayer");var i=r.prototype;return i._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},i.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),this.element.addEventListener("mouseenter",this))},i.playPlayer=function(){this.player.play()},i.stopPlayer=function(){this.player.stop()},i.pausePlayer=function(){this.player.pause()},i.unpausePlayer=function(){this.player.unpause()},i.deactivatePlayer=function(){this.player.stop(),this.element.removeEventListener("mouseenter",this)},i.onmouseenter=function(){this.options.pauseAutoPlayOnHover&&(this.player.pause(),this.element.addEventListener("mouseleave",this))},i.onmouseleave=function(){this.player.unpause(),this.element.removeEventListener("mouseleave",this)},r.Player=n,r}),function(r,n){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(e,t){return n(r,e,t)}):"object"==typeof module&&module.exports?module.exports=n(r,require("./flickity"),require("fizzy-ui-utils")):n(r,r.Flickity,r.fizzyUIUtils)}(window,function(e,t,n){var r=t.prototype;return r.insert=function(e,t){var r,n,i,o,s,a,l,A=this._makeCells(e);A&&A.length&&(r=this.cells.length,t=void 0===t?r:t,i=A,o=document.createDocumentFragment(),i.forEach(function(e){o.appendChild(e.element)}),n=o,(s=t==r)?this.slider.appendChild(n):(a=this.cells[t].element,this.slider.insertBefore(n,a)),0===t?this.cells=A.concat(this.cells):s?this.cells=this.cells.concat(A):(l=this.cells.splice(t,r-t),this.cells=this.cells.concat(A).concat(l)),this._sizeCells(A),this.cellChange(t,!0))},r.append=function(e){this.insert(e,this.cells.length)},r.prepend=function(e){this.insert(e,0)},r.remove=function(e){var r,t=this.getCells(e);t&&t.length&&(r=this.cells.length-1,t.forEach(function(e){e.remove();var t=this.cells.indexOf(e);r=Math.min(t,r),n.removeFrom(this.cells,e)},this),this.cellChange(r,!0))},r.cellSizeChange=function(e){var t,r=this.getCell(e);r&&(r.getSize(),t=this.cells.indexOf(r),this.cellChange(t))},r.cellChange=function(e,t){var r=this.selectedElement;this._positionCells(e),this._getWrapShiftCells(),this.setGallerySize();var n=this.getCell(r);n&&(this.selectedIndex=this.getCellSlideIndex(n)),this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex),this.emitEvent("cellChange",[e]),this.select(this.selectedIndex),t&&this.positionSliderAtSelected()},t}),function(r,n){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["./flickity","fizzy-ui-utils/utils"],function(e,t){return n(r,e,t)}):"object"==typeof module&&module.exports?module.exports=n(r,require("./flickity"),require("fizzy-ui-utils")):n(r,r.Flickity,r.fizzyUIUtils)}(window,function(e,t,o){"use strict";t.createMethods.push("_createLazyload");var r=t.prototype;function i(e,t){this.img=e,this.flickity=t,this.load()}return r._createLazyload=function(){this.on("select",this.lazyLoad)},r.lazyLoad=function(){var e,t,r,n=this.options.lazyLoad;n&&(e="number"==typeof n?n:0,t=this.getAdjacentCellElements(e),r=[],t.forEach(function(e){var t=function(e){if("IMG"==e.nodeName){var t=e.getAttribute("data-flickity-lazyload"),r=e.getAttribute("data-flickity-lazyload-src"),n=e.getAttribute("data-flickity-lazyload-srcset");if(t||r||n)return[e]}var i=e.querySelectorAll("img[data-flickity-lazyload], img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]");return o.makeArray(i)}(e);r=r.concat(t)}),r.forEach(function(e){new i(e,this)},this))},i.prototype.handleEvent=o.handleEvent,i.prototype.load=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this);var e=this.img.getAttribute("data-flickity-lazyload")||this.img.getAttribute("data-flickity-lazyload-src"),t=this.img.getAttribute("data-flickity-lazyload-srcset");this.img.src=e,t&&this.img.setAttribute("srcset",t),this.img.removeAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload-src"),this.img.removeAttribute("data-flickity-lazyload-srcset")},i.prototype.onload=function(e){this.complete(e,"flickity-lazyloaded")},i.prototype.onerror=function(e){this.complete(e,"flickity-lazyerror")},i.prototype.complete=function(e,t){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this);var r=this.flickity.getParentCell(this.img),n=r&&r.element;this.flickity.cellSizeChange(n),this.img.classList.add(t),this.flickity.dispatchEvent("lazyLoad",e,n)},t.LazyLoader=i,t}),function(e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof module&&module.exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}((window,function(e){return e})),function(e,t){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["flickity/js/index","fizzy-ui-utils/utils"],t):"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("fizzy-ui-utils")):e.Flickity=t(e.Flickity,e.fizzyUIUtils)}(window,function(n,i){n.createMethods.push("_createAsNavFor");var e=n.prototype;return e._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var e,t=this.options.asNavFor;t&&(e=this,setTimeout(function(){e.setNavCompanion(t)}))},e.setNavCompanion=function(e){e=i.getQueryElement(e);var t,r=n.data(e);r&&r!=this&&(this.navCompanion=r,(t=this).onNavCompanionSelect=function(){t.navCompanionSelect()},r.on("select",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect(!0))},e.navCompanionSelect=function(e){var t,r,n,i,o,s,a,l,A=this.navCompanion&&this.navCompanion.selectedCells;A&&(t=A[0],n=(r=this.navCompanion.cells.indexOf(t))+A.length-1,i=Math.floor((o=r,s=n,a=this.navCompanion.cellAlign,(s-o)*a+o)),this.selectCell(i,!1,e),this.removeNavSelectedElements(),i>=this.cells.length||(l=this.cells.slice(r,1+n),this.navSelectedElements=l.map(function(e){return e.element}),this.changeNavSelectedClass("add")))},e.changeNavSelectedClass=function(t){this.navSelectedElements.forEach(function(e){e.classList[t]("is-nav-selected")})},e.activateAsNavFor=function(){this.navCompanionSelect(!0)},e.removeNavSelectedElements=function(){this.navSelectedElements&&(this.changeNavSelectedClass("remove"),delete this.navSelectedElements)},e.onNavStaticClick=function(e,t,r,n){"number"==typeof n&&this.navCompanion.selectCell(n)},e.deactivateAsNavFor=function(){this.removeNavSelectedElements()},e.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("select",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},n}),function(t,r){"use strict";"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["ev-emitter/ev-emitter"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("ev-emitter")):t.imagesLoaded=r(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){var o=t.jQuery,s=t.console;function a(e,t){for(var r in t)e[r]=t[r];return e}var l=Array.prototype.slice;function A(e,t,r){if(!(this instanceof A))return new A(e,t,r);var n,i=e;"string"==typeof e&&(i=document.querySelectorAll(e)),i?(this.elements=(n=i,Array.isArray(n)?n:"object"==typeof n&&"number"==typeof n.length?l.call(n):[n]),this.options=a({},this.options),"function"==typeof t?r=t:a(this.options,t),r&&this.on("always",r),this.getImages(),o&&(this.jqDeferred=new o.Deferred),setTimeout(this.check.bind(this))):s.error("Bad element for imagesLoaded "+(i||e))}(A.prototype=Object.create(e.prototype)).options={},A.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},A.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&u[t]){for(var r=e.querySelectorAll("img"),n=0;n<r.length;n++){var i=r[n];this.addImage(i)}if("string"==typeof this.options.background)for(var o=e.querySelectorAll(this.options.background),n=0;n<o.length;n++){var s=o[n];this.addElementBackgroundImages(s)}}};var u={1:!0,9:!0,11:!0};function r(e){this.img=e}function n(e,t){this.url=e,this.element=t,this.img=new Image}return A.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var r=/url\((['"])?(.*?)\1\)/gi,n=r.exec(t.backgroundImage);null!==n;){var i=n&&n[2];i&&this.addBackground(i,e),n=r.exec(t.backgroundImage)}},A.prototype.addImage=function(e){var t=new r(e);this.images.push(t)},A.prototype.addBackground=function(e,t){var r=new n(e,t);this.images.push(r)},A.prototype.check=function(){var n=this;function t(e,t,r){setTimeout(function(){n.progress(e,t,r)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},A.prototype.progress=function(e,t,r){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&s&&s.log("progress: "+r,e,t)},A.prototype.complete=function(){var e,t=this.hasAnyBroken?"fail":"done";this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred&&(e=this.hasAnyBroken?"reject":"resolve",this.jqDeferred[e](this))},(r.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},r.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(n.prototype=Object.create(r.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},n.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},(A.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((o=e).fn.imagesLoaded=function(e,t){return new A(this,e,t).jqDeferred.promise(o(this))})})(),A}),function(r,n){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(e,t){return n(r,e,t)}):"object"==typeof module&&module.exports?module.exports=n(r,require("flickity"),require("imagesloaded")):r.Flickity=n(r,r.Flickity,r.imagesLoaded)}(window,function(e,t,r){"use strict";t.createMethods.push("_createImagesLoaded");var n=t.prototype;return n._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},n.imagesLoaded=function(){var n;this.options.imagesLoaded&&r((n=this).slider).on("progress",function(e,t){var r=n.getParentCell(t.img);n.cellSizeChange(r&&r.element),n.options.freeScroll||n.positionSliderAtSelected()})},t}),function(e,t){"function"==typeof define&&define.amd?define(["flickity/js/index","fizzy-ui-utils/utils"],t):"object"==typeof module&&module.exports?module.exports=t(require("flickity"),require("fizzy-ui-utils")):t(e.Flickity,e.fizzyUIUtils)}(this,function(e,a){var t=e.Slide,i=t.prototype.updateTarget;t.prototype.updateTarget=function(){var r,n;i.apply(this,arguments),this.parent.options.fade&&(r=this.target-this.x,n=this.cells[0].x,this.cells.forEach(function(e){var t=e.x-n-r;e.renderPosition(t)}))},t.prototype.setOpacity=function(t){this.cells.forEach(function(e){e.element.style.opacity=t})};var r=e.prototype;e.createMethods.push("_createFade"),r._createFade=function(){this.fadeIndex=this.selectedIndex,this.prevSelectedIndex=this.selectedIndex,this.on("select",this.onSelectFade),this.on("dragEnd",this.onDragEndFade),this.on("settle",this.onSettleFade),this.on("activate",this.onActivateFade),this.on("deactivate",this.onDeactivateFade)};var n=r.updateSlides;r.updateSlides=function(){n.apply(this,arguments),this.options.fade&&this.slides.forEach(function(e,t){var r=t==this.selectedIndex?1:0;e.setOpacity(r)},this)},r.onSelectFade=function(){this.fadeIndex=Math.min(this.prevSelectedIndex,this.slides.length-1),this.prevSelectedIndex=this.selectedIndex},r.onSettleFade=function(){delete this.didDragEnd,this.options.fade&&(this.selectedSlide.setOpacity(1),this.slides[this.fadeIndex]&&this.fadeIndex!=this.selectedIndex&&this.slides[this.fadeIndex].setOpacity(0))},r.onDragEndFade=function(){this.didDragEnd=!0},r.onActivateFade=function(){this.options.fade&&this.element.classList.add("is-fade")},r.onDeactivateFade=function(){this.options.fade&&(this.element.classList.remove("is-fade"),this.slides.forEach(function(e){e.setOpacity("")}))};var o=r.positionSlider;r.positionSlider=function(){this.options.fade?(this.fadeSlides(),this.dispatchScrollEvent()):o.apply(this,arguments)};var s=r.positionSliderAtSelected;r.positionSliderAtSelected=function(){this.options.fade&&this.setTranslateX(0),s.apply(this,arguments)},r.fadeSlides=function(){var e,t,r,n,i,o;this.slides.length<2||(e=this.getFadeIndexes(),t=this.slides[e.a],r=this.slides[e.b],n=this.wrapDifference(t.target,r.target),i=this.wrapDifference(t.target,-this.x),i/=n,t.setOpacity(1-i),r.setOpacity(i),o=e.a,this.isDragging&&(o=.5<i?e.a:e.b),null!=this.fadeHideIndex&&this.fadeHideIndex!=o&&this.fadeHideIndex!=e.a&&this.fadeHideIndex!=e.b&&this.slides[this.fadeHideIndex].setOpacity(0),this.fadeHideIndex=o)},r.getFadeIndexes=function(){return this.isDragging||this.didDragEnd?this.options.wrapAround?this.getFadeDragWrapIndexes():this.getFadeDragLimitIndexes():{a:this.fadeIndex,b:this.selectedIndex}},r.getFadeDragWrapIndexes=function(){var e=this.slides.map(function(e,t){return this.getSlideDistance(-this.x,t)},this),t=e.map(function(e){return Math.abs(e)}),r=Math.min.apply(Math,t),n=t.indexOf(r),i=e[n],o=this.slides.length,s=0<=i?1:-1;return{a:n,b:a.modulo(n+s,o)}},r.getFadeDragLimitIndexes=function(){for(var e=0,t=0;t<this.slides.length-1;t++){var r=this.slides[t];if(-this.x<r.target)break;e=t}return{a:e,b:e+1}},r.wrapDifference=function(e,t){var r=t-e;if(!this.options.wrapAround)return r;var n=r+this.slideableWidth,i=r-this.slideableWidth;return Math.abs(n)<Math.abs(r)&&(r=n),Math.abs(i)<Math.abs(r)&&(r=i),r};var l=r._getWrapShiftCells;r._getWrapShiftCells=function(){this.options.fade||l.apply(this,arguments)};var A=r.shiftWrapCells;return r.shiftWrapCells=function(){this.options.fade||A.apply(this,arguments)},e}),"undefined"!=typeof navigator&&function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(e):(e.lottie=t(e),e.bodymovin=e.lottie)}(window||{},function(window){"use strict";var svgNS="http://www.w3.org/2000/svg",locationHref="",initialDefaultFrame=-999999,subframeEnabled=!0,expressionsPlugin,isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),cachedColors={},bm_rounder=Math.round,bm_rnd,bm_pow=Math.pow,bm_sqrt=Math.sqrt,bm_abs=Math.abs,bm_floor=Math.floor,bm_max=Math.max,bm_min=Math.min,blitter=10,BMMath={};function ProjectInterface(){return{}}!function(){for(var e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],t=e.length,r=0;r<t;r+=1)BMMath[e[r]]=Math[e[r]]}(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"==typeof e&&e.length){for(var t=createSizedArray(e.length),r=e.length,n=0;n<r;n+=1)t[n]=Math.abs(e[n]);return t}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function roundValues(e){bm_rnd=e?Math.round:function(e){return e}}function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin=e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility=e.style.webkitBackfaceVisibility="visible",e.style.transformStyle=e.style.webkitTransformStyle=e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,n){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=n<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,n){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=n<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}function BMAnimationConfigErrorEvent(e,t){this.type=e,this.nativeError=t,this.currentTime=currentTime}roundValues(!1);var createElementID=(G=0,function(){return"__lottie_element_"+ ++G}),G;function HSVtoRGB(e,t,r){var n,i,o,s,a,l=r*(1-t),A=r*(1-(a=6*e-(s=Math.floor(6*e)))*t),u=r*(1-(1-a)*t);switch(s%6){case 0:n=r,i=u,o=l;break;case 1:n=A,i=r,o=l;break;case 2:n=l,i=r,o=u;break;case 3:n=l,i=A,o=r;break;case 4:n=u,i=l,o=r;break;case 5:n=r,i=l,o=A}return[n,i,o]}function RGBtoHSV(e,t,r){var n,i=Math.max(e,t,r),o=Math.min(e,t,r),s=i-o,a=0===i?0:s/i,l=i/255;switch(i){case o:n=0;break;case e:n=t-r+s*(t<r?6:0),n/=6*s;break;case t:n=r-e+2*s,n/=6*s;break;case r:n=e-t+4*s,n/=6*s}return[n,a,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,1<r[1]?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,1<r[2]?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,1<r[0]?--r[0]:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){for(var e,n=[],t=0;t<256;t+=1)e=t.toString(16),n[t]=1==e.length?"0"+e:e;return function(e,t,r){return e<0&&(e=0),t<0&&(t=0),r<0&&(r=0),"#"+n[e]+n[t]+n[r]}}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e].length,n=0;n<r;n++)this._cbs[e][n](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,n=this._cbs[e].length;r<n;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),--r,--n),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var createTypedArray="function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(e,t){return"float32"===e?new Float32Array(t):"int16"===e?new Int16Array(t):"uint8c"===e?new Uint8ClampedArray(t):void 0}:function(e,t){var r,n=0,i=[];switch(e){case"int16":case"uint8c":r=1;break;default:r=1.1}for(n=0;n<t;n+=1)i.push(r);return i};function createSizedArray(e){return Array.apply(null,{length:e})}function createNS(e){return document.createElementNS(svgNS,e)}function createTag(e){return document.createElement(e)}function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;for(var e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue(),this.dynamicProperties[t]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var getBlendMode=(Pa={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(e){return Pa[e]||""}),Pa,Matrix=(wpc=Math.cos,xpc=Math.sin,ypc=Math.tan,zpc=Math.round,function(){this.reset=Apc,this.rotate=Bpc,this.rotateX=Cpc,this.rotateY=Dpc,this.rotateZ=Epc,this.skew=Gpc,this.skewFromAxis=Hpc,this.shear=Fpc,this.scale=Ipc,this.setTransform=Jpc,this.translate=Kpc,this.transform=Lpc,this.applyToPoint=Qpc,this.applyToX=Rpc,this.applyToY=Spc,this.applyToZ=Tpc,this.applyToPointArray=Ypc,this.applyToTriplePoints=Xpc,this.applyToPointStringified=Zpc,this.toCSS=$pc,this.to2dCSS=aqc,this.clone=Opc,this.cloneFromProps=Ppc,this.equals=Npc,this.inversePoints=Wpc,this.inversePoint=Vpc,this.getInverseMatrix=Upc,this._t=this.transform,this.isIdentity=Mpc,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}),wpc,xpc,ypc,zpc;function Apc(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Bpc(e){if(0===e)return this;var t=wpc(e),r=xpc(e);return this._t(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1)}function Cpc(e){if(0===e)return this;var t=wpc(e),r=xpc(e);return this._t(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1)}function Dpc(e){if(0===e)return this;var t=wpc(e),r=xpc(e);return this._t(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1)}function Epc(e){if(0===e)return this;var t=wpc(e),r=xpc(e);return this._t(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1)}function Fpc(e,t){return this._t(1,t,e,1,0,0)}function Gpc(e,t){return this.shear(ypc(e),ypc(t))}function Hpc(e,t){var r=wpc(t),n=xpc(t);return this._t(r,n,0,0,-n,r,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,ypc(e),1,0,0,0,0,1,0,0,0,0,1)._t(r,-n,0,0,n,r,0,0,0,0,1,0,0,0,0,1)}function Ipc(e,t,r){return r||0===r||(r=1),1===e&&1===t&&1===r?this:this._t(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}function Jpc(e,t,r,n,i,o,s,a,l,A,u,h,c,p,d,f){return this.props[0]=e,this.props[1]=t,this.props[2]=r,this.props[3]=n,this.props[4]=i,this.props[5]=o,this.props[6]=s,this.props[7]=a,this.props[8]=l,this.props[9]=A,this.props[10]=u,this.props[11]=h,this.props[12]=c,this.props[13]=p,this.props[14]=d,this.props[15]=f,this}function Kpc(e,t,r){return r=r||0,0!==e||0!==t||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1):this}function Lpc(e,t,r,n,i,o,s,a,l,A,u,h,c,p,d,f){var g=this.props;if(1===e&&0===t&&0===r&&0===n&&0===i&&1===o&&0===s&&0===a&&0===l&&0===A&&1===u&&0===h)return g[12]=g[12]*e+g[15]*c,g[13]=g[13]*o+g[15]*p,g[14]=g[14]*u+g[15]*d,g[15]=g[15]*f,this._identityCalculated=!1,this;var m=g[0],y=g[1],v=g[2],_=g[3],E=g[4],w=g[5],b=g[6],B=g[7],C=g[8],S=g[9],P=g[10],F=g[11],x=g[12],T=g[13],U=g[14],Q=g[15];return g[0]=m*e+y*i+v*l+_*c,g[1]=m*t+y*o+v*A+_*p,g[2]=m*r+y*s+v*u+_*d,g[3]=m*n+y*a+v*h+_*f,g[4]=E*e+w*i+b*l+B*c,g[5]=E*t+w*o+b*A+B*p,g[6]=E*r+w*s+b*u+B*d,g[7]=E*n+w*a+b*h+B*f,g[8]=C*e+S*i+P*l+F*c,g[9]=C*t+S*o+P*A+F*p,g[10]=C*r+S*s+P*u+F*d,g[11]=C*n+S*a+P*h+F*f,g[12]=x*e+T*i+U*l+Q*c,g[13]=x*t+T*o+U*A+Q*p,g[14]=x*r+T*s+U*u+Q*d,g[15]=x*n+T*a+U*h+Q*f,this._identityCalculated=!1,this}function Mpc(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function Npc(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function Opc(e){for(var t=0;t<16;t+=1)e.props[t]=this.props[t]}function Ppc(e){for(var t=0;t<16;t+=1)this.props[t]=e[t]}function Qpc(e,t,r){return{x:e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}}function Rpc(e,t,r){return e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12]}function Spc(e,t,r){return e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13]}function Tpc(e,t,r){return e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}function Upc(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,r=-this.props[1]/e,n=-this.props[4]/e,i=this.props[0]/e,o=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,s=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,a=new Matrix;return a.props[0]=t,a.props[1]=r,a.props[4]=n,a.props[5]=i,a.props[12]=o,a.props[13]=s,a}function Vpc(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function Wpc(e){for(var t=e.length,r=[],n=0;n<t;n+=1)r[n]=Vpc(e[n]);return r}function Xpc(e,t,r){var n,i,o,s,a,l,A=createTypedArray("float32",6);return this.isIdentity()?(A[0]=e[0],A[1]=e[1],A[2]=t[0],A[3]=t[1],A[4]=r[0],A[5]=r[1]):(n=this.props[0],i=this.props[1],o=this.props[4],s=this.props[5],a=this.props[12],l=this.props[13],A[0]=e[0]*n+e[1]*o+a,A[1]=e[0]*i+e[1]*s+l,A[2]=t[0]*n+t[1]*o+a,A[3]=t[0]*i+t[1]*s+l,A[4]=r[0]*n+r[1]*o+a,A[5]=r[0]*i+r[1]*s+l),A}function Ypc(e,t,r){return this.isIdentity()?[e,t,r]:[e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]]}function Zpc(e,t){if(this.isIdentity())return e+","+t;var r=this.props;return Math.round(100*(e*r[0]+t*r[4]+r[12]))/100+","+Math.round(100*(e*r[1]+t*r[5]+r[13]))/100}function $pc(){for(var e=0,t=this.props,r="matrix3d(";e<16;)r+=zpc(1e4*t[e])/1e4,r+=15===e?")":",",e+=1;return r}function _pc(e){return e<1e-6&&0<e||-1e-6<e&&e<0?zpc(1e4*e)/1e4:e}function aqc(){var e=this.props;return"matrix("+_pc(e[0])+","+_pc(e[1])+","+_pc(e[4])+","+_pc(e[5])+","+_pc(e[12])+","+_pc(e[13])+")"}!function(a,l){var A=this,u=256,h=l.pow(u,6),c=l.pow(2,52),p=2*c,d=u-1;function f(e){var t,r=e.length,s=this,n=0,i=s.i=s.j=0,o=s.S=[];for(r||(e=[r++]);n<u;)o[n]=n++;for(n=0;n<u;n++)o[n]=o[i=d&i+e[n%r]+(t=o[n])],o[i]=t;s.g=function(e){for(var t,r=0,n=s.i,i=s.j,o=s.S;e--;)t=o[n=d&n+1],r=r*u+o[d&(o[n]=o[i=d&i+t])+(o[i]=t)];return s.i=n,s.j=i,r}}function g(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var r,n=e+"",i=0;i<n.length;)t[d&i]=d&(r^=19*t[d&i])+n.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}l.seedrandom=function(e,t,r){function n(){for(var e=s.g(6),t=h,r=0;e<c;)e=(e+r)*u,t*=u,r=s.g(1);for(;p<=e;)e/=2,t/=2,r>>>=1;return(e+r)/t}var i=[],o=m(function e(t,r){var n,i=[],o=typeof t;if(r&&"object"==o)for(n in t)try{i.push(e(t[n],r-1))}catch(e){}return i.length?i:"string"==o?t:t+"\0"}((t=!0===t?{entropy:!0}:t||{}).entropy?[e,y(a)]:null===e?function(){try{void 0;var e=new Uint8Array(u);return(A.crypto||A.msCrypto).getRandomValues(e),y(e)}catch(e){var t=A.navigator,r=t&&t.plugins;return[+new Date,A,r,A.screen,y(a)]}}():e,3),i),s=new f(i);return n.int32=function(){return 0|s.g(4)},n.quick=function(){return s.g(4)/4294967296},n.double=n,m(y(s.S),a),(t.pass||r||function(e,t,r,n){return n&&(n.S&&g(n,s),e.state=function(){return g(s,{})}),r?(l.random=e,t):e})(n,o,"global"in t?t.global:this==l,t.state)},m(l.random(),a)}([],BMMath);var BezierFactory=(ztc={getBezierEasing:function(e,t,r,n,i){var o=i||("bez_"+e+"_"+t+"_"+r+"_"+n).replace(/\./g,"p");if(Atc[o])return Atc[o];var s=new Jtc([e,t,r,n]);return Atc[o]=s}},Atc={},Btc=11,Ctc=1/(Btc-1),Dtc="function"==typeof Float32Array,Jtc.prototype={get:function(e){var t=this._p[0],r=this._p[1],n=this._p[2],i=this._p[3];return this._precomputed||this._precompute(),t===r&&n===i?e:0===e?0:1===e?1:Htc(this._getTForX(e),r,i)},_precompute:function(){var e=this._p[0],t=this._p[1],r=this._p[2],n=this._p[3];this._precomputed=!0,e===t&&r===n||this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],r=0;r<Btc;++r)this._mSampleValues[r]=Htc(r*Ctc,e,t)},_getTForX:function(e){for(var t=this._p[0],r=this._p[2],n=this._mSampleValues,i=0,o=1,s=Btc-1;o!==s&&n[o]<=e;++o)i+=Ctc;var a=i+(e-n[--o])/(n[o+1]-n[o])*Ctc,l=Itc(a,t,r);return.001<=l?function(e,t,r,n){for(var i=0;i<4;++i){var o=Itc(t,r,n);if(0===o)return t;t-=(Htc(t,r,n)-e)/o}return t}(e,a,t,r):0===l?a:function(e,t,r,n,i){for(var o,s,a=0;0<(o=Htc(s=t+(r-t)/2,n,i)-e)?r=s:t=s,1e-7<Math.abs(o)&&++a<10;);return s}(e,i,i+Ctc,t,r)}},ztc),ztc,Atc,Btc,Ctc,Dtc;function Etc(e,t){return 1-3*t+3*e}function Htc(e,t,r){return((Etc(t,r)*e+(3*r-6*t))*e+3*t)*e}function Itc(e,t,r){return 3*Etc(t,r)*e*e+2*(3*r-6*t)*e+3*t}function Jtc(e){this._p=e,this._mSampleValues=new(Dtc?Float32Array:Array)(Btc),this._precomputed=!1,this.get=this.get.bind(this)}function extendPrototype(e,t){for(var r,n=e.length,i=0;i<n;i+=1)for(var o in r=e[i].prototype)r.hasOwnProperty(o)&&(t.prototype[o]=r[o])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}function bezFunction(){function g(e,t,r,n,i,o){var s=e*n+t*i+r*o-i*n-o*e-r*t;return-.001<s&&s<.001}Math;function u(e,t,r,n){for(var i,o,s,a,l=defaultCurveSegments,A=0,u=[],h=[],c=bezier_length_pool.newElement(),p=r.length,d=0;d<l;d+=1){for(s=d/(l-1),i=a=0;i<p;i+=1)o=bm_pow(1-s,3)*e[i]+3*bm_pow(1-s,2)*s*r[i]+3*(1-s)*bm_pow(s,2)*n[i]+bm_pow(s,3)*t[i],u[i]=o,null!==h[i]&&(a+=bm_pow(u[i]-h[i],2)),h[i]=u[i];a&&(A+=a=bm_sqrt(a)),c.percents[d]=s,c.lengths[d]=A}return c.addedLength=A,c}function m(e){this.segmentLength=0,this.points=new Array(e)}function y(e,t){this.partialLength=e,this.point=t}var v,e=(v={},function(e,t,r,n){var i=(e[0]+"_"+e[1]+"_"+t[0]+"_"+t[1]+"_"+r[0]+"_"+r[1]+"_"+n[0]+"_"+n[1]).replace(/\./g,"p");if(!v[i]){var o,s,a,l,A,u=defaultCurveSegments,h=0,c=null;2===e.length&&(e[0]!=t[0]||e[1]!=t[1])&&g(e[0],e[1],t[0],t[1],e[0]+r[0],e[1]+r[1])&&g(e[0],e[1],t[0],t[1],t[0]+n[0],t[1]+n[1])&&(u=2);for(var p=new m(u),d=r.length,f=0;f<u;f+=1){for(A=createSizedArray(d),a=f/(u-1),o=l=0;o<d;o+=1)s=bm_pow(1-a,3)*e[o]+3*bm_pow(1-a,2)*a*(e[o]+r[o])+3*(1-a)*bm_pow(a,2)*(t[o]+n[o])+bm_pow(a,3)*t[o],A[o]=s,null!==c&&(l+=bm_pow(A[o]-c[o],2));h+=l=bm_sqrt(l),p.points[f]=new y(l,A),c=A}p.segmentLength=h,v[i]=p}return v[i]});function x(e,t){var r=t.percents,n=t.lengths,i=r.length,o=bm_floor((i-1)*e),s=e*t.addedLength,a=0;if(o===i-1||0===o||s===n[o])return r[o];for(var l=n[o]>s?-1:1,A=!0;A;)if(n[o]<=s&&n[o+1]>s?(a=(s-n[o])/(n[o+1]-n[o]),A=!1):o+=l,o<0||i-1<=o){if(o===i-1)return r[o];A=!1}return r[o]+(r[o+1]-r[o])*a}var T=createTypedArray("float32",8);return{getSegmentsLength:function(e){for(var t=segments_length_pool.newElement(),r=e.c,n=e.v,i=e.o,o=e.i,s=e._length,a=t.lengths,l=0,A=0;A<s-1;A+=1)a[A]=u(n[A],n[A+1],i[A],o[A+1]),l+=a[A].addedLength;return r&&s&&(a[A]=u(n[A],n[0],i[A],o[0]),l+=a[A].addedLength),t.totalLength=l,t},getNewSegment:function(e,t,r,n,i,o,s){for(var a=x(i=i<0?0:1<i?1:i,s),l=x(o=1<o?1:o,s),A=e.length,u=1-a,h=1-l,c=u*u*u,p=a*u*u*3,d=a*a*u*3,f=a*a*a,g=u*u*h,m=a*u*h+u*a*h+u*u*l,y=a*a*h+u*a*l+a*u*l,v=a*a*l,_=u*h*h,E=a*h*h+u*l*h+u*h*l,w=a*l*h+u*l*l+a*h*l,b=a*l*l,B=h*h*h,C=l*h*h+h*l*h+h*h*l,S=l*l*h+h*l*l+l*h*l,P=l*l*l,F=0;F<A;F+=1)T[4*F]=Math.round(1e3*(c*e[F]+p*r[F]+d*n[F]+f*t[F]))/1e3,T[4*F+1]=Math.round(1e3*(g*e[F]+m*r[F]+y*n[F]+v*t[F]))/1e3,T[4*F+2]=Math.round(1e3*(_*e[F]+E*r[F]+w*n[F]+b*t[F]))/1e3,T[4*F+3]=Math.round(1e3*(B*e[F]+C*r[F]+S*n[F]+P*t[F]))/1e3;return T},getPointInSegment:function(e,t,r,n,i,o){var s=x(i,o),a=1-s;return[Math.round(1e3*(a*a*a*e[0]+(s*a*a+a*s*a+a*a*s)*r[0]+(s*s*a+a*s*s+s*a*s)*n[0]+s*s*s*t[0]))/1e3,Math.round(1e3*(a*a*a*e[1]+(s*a*a+a*s*a+a*a*s)*r[1]+(s*s*a+a*s*s+s*a*s)*n[1]+s*s*s*t[1]))/1e3]},buildBezierData:e,pointOnLine2D:g,pointOnLine3D:function(e,t,r,n,i,o,s,a,l){if(0===r&&0===o&&0===l)return g(e,t,n,i,s,a);var A,u=Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2)+Math.pow(o-r,2)),h=Math.sqrt(Math.pow(s-e,2)+Math.pow(a-t,2)+Math.pow(l-r,2)),c=Math.sqrt(Math.pow(s-n,2)+Math.pow(a-i,2)+Math.pow(l-o,2));return-1e-4<(A=h<u?c<u?u-h-c:c-h-u:h<c?c-h-u:h-u-c)&&A<1e-4}}}!function(){for(var o=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var r=(new Date).getTime(),n=Math.max(0,16-(r-o)),i=setTimeout(function(){e(r+n)},n);return o=r+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var bez=bezFunction();function dataFunctionManager(){function c(e,t,r){for(var n,i,o,s,a=e.length,l=0;l<a;l+=1)if("ks"in(n=e[l])&&!n.completed){if(n.completed=!0,n.tt&&(e[l-1].td=n.tt),n.hasMask)for(var A=n.masksProperties,u=A.length,h=0;h<u;h+=1)if(A[h].pt.k.i)p(A[h].pt.k);else for(o=A[h].pt.k.length,i=0;i<o;i+=1)A[h].pt.k[i].s&&p(A[h].pt.k[i].s[0]),A[h].pt.k[i].e&&p(A[h].pt.k[i].e[0]);0===n.ty?(n.layers=function(e,t){for(var r=0,n=t.length;r<n;){if(t[r].id===e)return t[r].layers.__used?JSON.parse(JSON.stringify(t[r].layers)):(t[r].layers.__used=!0,t[r].layers);r+=1}}(n.refId,t),c(n.layers,t,r)):4===n.ty?function e(t){var r,n,i;for(r=t.length-1;0<=r;--r)if("sh"==t[r].ty)if(t[r].ks.k.i)p(t[r].ks.k);else for(i=t[r].ks.k.length,n=0;n<i;n+=1)t[r].ks.k[n].s&&p(t[r].ks.k[n].s[0]),t[r].ks.k[n].e&&p(t[r].ks.k[n].e[0]);else"gr"==t[r].ty&&e(t[r].it)}(n.shapes):5==n.ty&&(0!==(s=n).t.a.length||"m"in s.t.p||(s.singleShape=!0))}}function p(e){for(var t=e.i.length,r=0;r<t;r+=1)e.i[r][0]+=e.v[r][0],e.i[r][1]+=e.v[r][1],e.o[r][0]+=e.v[r][0],e.o[r][1]+=e.v[r][1]}function a(e,t){var r=t?t.split("."):[100,100,100];return e[0]>r[0]||!(r[0]>e[0])&&(e[1]>r[1]||!(r[1]>e[1])&&(e[2]>r[2]||(r[2],e[2],0)))}var l,n,i,o,r=(o=[4,4,14],function(e){if(a(o,e.v)&&(f(e.layers),e.assets))for(var t=e.assets.length,r=0;r<t;r+=1)e.assets[r].layers&&f(e.assets[r].layers)}),s=(l=[4,7,99],function(e){if(e.chars&&!a(l,e.v))for(var t,r,n,i,o=e.chars.length,s=0;s<o;s+=1)if(e.chars[s].data&&e.chars[s].data.shapes)for(r=(i=e.chars[s].data.shapes[0].it).length,t=0;t<r;t+=1)(n=i[t].ks.k).__converted||(p(i[t].ks.k),n.__converted=!0)}),A=(i=[4,1,9],function(e){if(a(i,e.v)&&(d(e.layers),e.assets))for(var t=e.assets.length,r=0;r<t;r+=1)e.assets[r].layers&&d(e.assets[r].layers)}),u=(n=[4,4,18],function(e){if(a(n,e.v)&&(h(e.layers),e.assets))for(var t=e.assets.length,r=0;r<t;r+=1)e.assets[r].layers&&h(e.assets[r].layers)});function h(e){for(var t,r,n,i=e.length,o=0;o<i;o+=1){if((t=e[o]).hasMask)for(var s=t.masksProperties,a=s.length,l=0;l<a;l+=1)if(s[l].pt.k.i)s[l].pt.k.c=s[l].cl;else for(n=s[l].pt.k.length,r=0;r<n;r+=1)s[l].pt.k[r].s&&(s[l].pt.k[r].s[0].c=s[l].cl),s[l].pt.k[r].e&&(s[l].pt.k[r].e[0].c=s[l].cl);4===t.ty&&function e(t){for(var r,n,i=t.length-1;0<=i;--i)if("sh"==t[i].ty)if(t[i].ks.k.i)t[i].ks.k.c=t[i].closed;else for(n=t[i].ks.k.length,r=0;r<n;r+=1)t[i].ks.k[r].s&&(t[i].ks.k[r].s[0].c=t[i].closed),t[i].ks.k[r].e&&(t[i].ks.k[r].e[0].c=t[i].closed);else"gr"==t[i].ty&&e(t[i].it)}(t.shapes)}}function d(e){for(var t=e.length,r=0;r<t;r+=1)4===e[r].ty&&function e(t){for(var r,n,i=t.length,o=0;o<i;o+=1)if("gr"===t[o].ty)e(t[o].it);else if("fl"===t[o].ty||"st"===t[o].ty)if(t[o].c.k&&t[o].c.k[0].i)for(n=t[o].c.k.length,r=0;r<n;r+=1)t[o].c.k[r].s&&(t[o].c.k[r].s[0]/=255,t[o].c.k[r].s[1]/=255,t[o].c.k[r].s[2]/=255,t[o].c.k[r].s[3]/=255),t[o].c.k[r].e&&(t[o].c.k[r].e[0]/=255,t[o].c.k[r].e[1]/=255,t[o].c.k[r].e[2]/=255,t[o].c.k[r].e[3]/=255);else t[o].c.k[0]/=255,t[o].c.k[1]/=255,t[o].c.k[2]/=255,t[o].c.k[3]/=255}(e[r].shapes)}function f(e){for(var t,r,n=e.length,i=0;i<n;i+=1)5===e[i].ty&&(r=(t=e[i]).t.d,t.t.d={k:[{s:r,t:0}]})}var e={completeData:function(e,t){e.__complete||(A(e),r(e),s(e),u(e),c(e.layers,e.assets,t),e.__complete=!0)}};return e.checkColors=A,e.checkChars=s,e.checkShapes=u,e.completeLayers=c,e}var dataManager=dataFunctionManager(),FontManager=function(){var o={w:0,size:0,shapes:[]},e=[];function f(e,t){var r=createTag("span");r.style.fontFamily=t;var n=createTag("span");n.innerHTML="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(n),document.body.appendChild(r);var i=n.offsetWidth;return n.style.fontFamily=e+", "+t,{node:n,w:i,parent:r}}e=e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);function t(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this.initTime=Date.now()}return t.getCombinedCharacterCodes=function(){return e},t.prototype.addChars=function(e){if(e){this.chars||(this.chars=[]);for(var t,r,n=e.length,i=this.chars.length,o=0;o<n;o+=1){for(t=0,r=!1;t<i;)this.chars[t].style===e[o].style&&this.chars[t].fFamily===e[o].fFamily&&this.chars[t].ch===e[o].ch&&(r=!0),t+=1;r||(this.chars.push(e[o]),i+=1)}}},t.prototype.addFonts=function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);for(var r,n,i,o=e.list,s=o.length,a=s,l=0;l<s;l+=1){var A,u,h,c,p,d=!0;if(o[l].loaded=!1,o[l].monoCase=f(o[l].fFamily,"monospace"),o[l].sansCase=f(o[l].fFamily,"sans-serif"),o[l].fPath){if("p"===o[l].fOrigin||3===o[l].origin)0<(A=document.querySelectorAll('style[f-forigin="p"][f-family="'+o[l].fFamily+'"], style[f-origin="3"][f-family="'+o[l].fFamily+'"]')).length&&(d=!1),d&&((h=createTag("style")).setAttribute("f-forigin",o[l].fOrigin),h.setAttribute("f-origin",o[l].origin),h.setAttribute("f-family",o[l].fFamily),h.type="text/css",h.innerHTML="@font-face {font-family: "+o[l].fFamily+"; font-style: normal; src: url('"+o[l].fPath+"');}",t.appendChild(h));else if("g"===o[l].fOrigin||1===o[l].origin){for(A=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),u=0;u<A.length;u++)-1!==A[u].href.indexOf(o[l].fPath)&&(d=!1);d&&((c=createTag("link")).setAttribute("f-forigin",o[l].fOrigin),c.setAttribute("f-origin",o[l].origin),c.type="text/css",c.rel="stylesheet",c.href=o[l].fPath,document.body.appendChild(c))}else if("t"===o[l].fOrigin||2===o[l].origin){for(A=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),u=0;u<A.length;u++)o[l].fPath===A[u].src&&(d=!1);d&&((p=createTag("link")).setAttribute("f-forigin",o[l].fOrigin),p.setAttribute("f-origin",o[l].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",o[l].fPath),t.appendChild(p))}}else o[l].loaded=!0,--a;o[l].helper=(r=t,n=o[l],i=void 0,(i=createNS("text")).style.fontSize="100px",i.setAttribute("font-family",n.fFamily),i.setAttribute("font-style",n.fStyle),i.setAttribute("font-weight",n.fWeight),i.textContent="1",n.fClass?(i.style.fontFamily="inherit",i.setAttribute("class",n.fClass)):i.style.fontFamily=n.fFamily,r.appendChild(i),createTag("canvas").getContext("2d").font=n.fWeight+" "+n.fStyle+" 100px "+n.fFamily,i),o[l].cache={},this.fonts.push(o[l])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},t.prototype.getCharData=function(e,t,r){for(var n=0,i=this.chars.length;n<i;){if(this.chars[n].ch===e&&this.chars[n].style===t&&this.chars[n].fFamily===r)return this.chars[n];n+=1}return("string"==typeof e&&13!==e.charCodeAt(0)||!e)&&console&&console.warn&&console.warn("Missing character from exported characters list: ",e,t,r),o},t.prototype.getFontByName=function(e){for(var t=0,r=this.fonts.length;t<r;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},t.prototype.measureText=function(e,t,r){var n,i,o,s=this.getFontByName(t),a=e.charCodeAt(0);return s.cache[a+1]||(n=s.helper," "===e?(n.textContent="|"+e+"|",i=n.getComputedTextLength(),n.textContent="||",o=n.getComputedTextLength(),s.cache[a+1]=(i-o)/100):(n.textContent=e,s.cache[a+1]=n.getComputedTextLength()/100)),s.cache[a+1]*r},t.prototype.checkLoadedFonts=function(){for(var e,t,r=this.fonts.length,n=r,i=0;i<r;i+=1)this.fonts[i].loaded?--n:"n"===this.fonts[i].fOrigin||0===this.fonts[i].origin?this.fonts[i].loaded=!0:(e=this.fonts[i].monoCase.node,t=this.fonts[i].monoCase.w,e.offsetWidth!==t?(--n,this.fonts[i].loaded=!0):(e=this.fonts[i].sansCase.node,t=this.fonts[i].sansCase.w,e.offsetWidth!==t&&(--n,this.fonts[i].loaded=!0)),this.fonts[i].loaded&&(this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent),this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFonts.bind(this),20):setTimeout(function(){this.isLoaded=!0}.bind(this),0)},t.prototype.loaded=function(){return this.isLoaded},t}(),PropertyFactory=(Uzc=initialDefaultFrame,Vzc=Math.abs,{getProp:function(e,t,r,n,i){var o;if(t.k.length)if("number"==typeof t.k[0])o=new bAc(e,t,n,i);else switch(r){case 0:o=new cAc(e,t,n,i);break;case 1:o=new dAc(e,t,n,i)}else o=new aAc(e,t,n,i);return o.effectsSequence.length&&i.addDynamicProperty(o),o}}),TransformPropertyFactory=(gCc=[0,0],hCc.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(e){var t,r,n,i,o;this.elem.globalData.frameId!==this.frameId&&(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),(this._mdf||e)&&(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented&&(n=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime?r=this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(t=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/n,0),this.p.getValueAtTime(this.p.keyframes[0].t/n,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(t=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/n,0),this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/n,0)):(t=this.p.pv,this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/n,this.p.offsetTime)):this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime?(t=[],r=[],i=this.px,o=this.py,i._caching.lastFrame+i.offsetTime<=i.keyframes[0].t?(t[0]=i.getValueAtTime((i.keyframes[0].t+.01)/n,0),t[1]=o.getValueAtTime((o.keyframes[0].t+.01)/n,0),r[0]=i.getValueAtTime(i.keyframes[0].t/n,0),r[1]=o.getValueAtTime(o.keyframes[0].t/n,0)):i._caching.lastFrame+i.offsetTime>=i.keyframes[i.keyframes.length-1].t?(t[0]=i.getValueAtTime(i.keyframes[i.keyframes.length-1].t/n,0),t[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/n,0),r[0]=i.getValueAtTime((i.keyframes[i.keyframes.length-1].t-.01)/n,0),r[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/n,0)):(t=[i.pv,o.pv],r[0]=i.getValueAtTime((i._caching.lastFrame+i.offsetTime-.01)/n,i.offsetTime),r[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/n,o.offsetTime))):t=r=gCc,this.v.rotate(-Math.atan2(t[1]-r[1],t[0]-r[0]))),this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])),this.frameId=this.elem.globalData.frameId)},precalculateMatrix:function(){if(!this.a.k&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}if(this.r){if(this.r.effectsSequence.length)return;this.pre.rotate(-this.r.v),this.appliedTransformations=4}else this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],hCc),hCc.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},hCc.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,t,r){return new hCc(e,t,r)}}),gCc,Uzc,Vzc;function hCc(e,t,r){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti)for(var n=t.or.k.length,i=0;i<n;i+=1)t.or.k[i].to=t.or.k[i].ti=null;this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}function Wzc(e,t){var r,n=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var i,o,s,a,l=t.lastIndex,A=l,u=this.keyframes.length-1,h=!0;h;){if(i=this.keyframes[A],o=this.keyframes[A+1],A===u-1&&e>=o.t-n){i.h&&(i=o),l=0;break}if(o.t-n>e){l=A;break}A<u-1?A+=1:(l=0,h=!1)}var c,p,d,f,g,m,y,v,_,E,w,b,B,C,S,P,F,x,T,U,Q,D,M=o.t-n,I=i.t-n;if(i.to){i.bezierData||(i.bezierData=bez.buildBezierData(i.s,o.s||i.e,i.to,i.ti));var R=i.bezierData;if(M<=e||e<I)for(var k=M<=e?R.points.length-1:0,N=R.points[k].point.length,O=0;O<N;O+=1)r[O]=R.points[k].point[O];else{i.__fnct?a=i.__fnct:(a=BezierFactory.getBezierEasing(i.o.x,i.o.y,i.i.x,i.i.y,i.n).get,i.__fnct=a),s=a((e-I)/(M-I));for(var H,L=R.segmentLength*s,z=t.lastFrame<e&&t._lastKeyframeIndex===A?t._lastAddedLength:0,K=t.lastFrame<e&&t._lastKeyframeIndex===A?t._lastPoint:0,h=!0,V=R.points.length;h;){if(z+=R.points[K].partialLength,0==L||0===s||K===R.points.length-1){for(N=R.points[K].point.length,O=0;O<N;O+=1)r[O]=R.points[K].point[O];break}if(z<=L&&L<z+R.points[K+1].partialLength){for(H=(L-z)/R.points[K+1].partialLength,N=R.points[K].point.length,O=0;O<N;O+=1)r[O]=R.points[K].point[O]+(R.points[K+1].point[O]-R.points[K].point[O])*H;break}K<V-1?K+=1:h=!1}t._lastPoint=K,t._lastAddedLength=z-R.points[K].partialLength,t._lastKeyframeIndex=A}}else{var j,G,q,W,X,J,Y,Z,u=i.s.length,$=o.s||i.e;if(this.sh&&1!==i.h)M<=e?(r[0]=$[0],r[1]=$[1],r[2]=$[2]):e<=I?(r[0]=i.s[0],r[1]=i.s[1],r[2]=i.s[2]):(J=Xzc(i.s),Y=Xzc($),Z=r,v=(e-I)/(M-I),C=[],S=J[0],P=J[1],F=J[2],x=J[3],T=Y[0],U=Y[1],Q=Y[2],D=Y[3],(E=S*T+P*U+F*Q+x*D)<0&&(E=-E,T=-T,U=-U,Q=-Q,D=-D),B=1e-6<1-E?(_=Math.acos(E),w=Math.sin(_),b=Math.sin((1-v)*_)/w,Math.sin(v*_)/w):(b=1-v,v),C[0]=b*S+B*T,C[1]=b*P+B*U,C[2]=b*F+B*Q,C[3]=b*x+B*D,c=C[0],p=C[1],d=C[2],f=C[3],g=Math.atan2(2*p*f-2*c*d,1-2*p*p-2*d*d),m=Math.asin(2*c*p+2*d*f),y=Math.atan2(2*c*f-2*p*d,1-2*c*c-2*d*d),Z[0]=g/degToRads,Z[1]=m/degToRads,Z[2]=y/degToRads);else for(A=0;A<u;A+=1)1!==i.h&&(s=M<=e?1:e<I?0:(i.o.x.constructor===Array?(i.__fnct||(i.__fnct=[]),i.__fnct[A]?a=i.__fnct[A]:(j=void 0===i.o.x[A]?i.o.x[0]:i.o.x[A],G=void 0===i.o.y[A]?i.o.y[0]:i.o.y[A],q=void 0===i.i.x[A]?i.i.x[0]:i.i.x[A],W=void 0===i.i.y[A]?i.i.y[0]:i.i.y[A],a=BezierFactory.getBezierEasing(j,G,q,W).get,i.__fnct[A]=a)):i.__fnct?a=i.__fnct:(j=i.o.x,G=i.o.y,q=i.i.x,W=i.i.y,a=BezierFactory.getBezierEasing(j,G,q,W).get,i.__fnct=a),a((e-I)/(M-I)))),$=o.s||i.e,X=1===i.h?i.s[A]:i.s[A]+($[A]-i.s[A])*s,"multidimensional"===this.propType?r[A]=X:r=X}return t.lastIndex=l,r}function Xzc(e){var t=e[0]*degToRads,r=e[1]*degToRads,n=e[2]*degToRads,i=Math.cos(t/2),o=Math.cos(r/2),s=Math.cos(n/2),a=Math.sin(t/2),l=Math.sin(r/2),A=Math.sin(n/2);return[a*l*s+i*o*A,a*o*s+i*l*A,i*l*s-a*o*A,i*o*s-a*l*A]}function Yzc(){var e,t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,n=this.keyframes[this.keyframes.length-1].t-this.offsetTime;return t===this._caching.lastFrame||this._caching.lastFrame!==Uzc&&(this._caching.lastFrame>=n&&n<=t||this._caching.lastFrame<r&&t<r)||(this._caching.lastFrame>=t&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0),e=this.interpolateValue(t,this._caching),this.pv=e),this._caching.lastFrame=t,this.pv}function Zzc(e){var t;if("unidimensional"===this.propType)t=e*this.mult,1e-5<Vzc(this.v-t)&&(this.v=t,this._mdf=!0);else for(var r=0,n=this.v.length;r<n;)t=e[r]*this.mult,1e-5<Vzc(this.v[r]-t)&&(this.v[r]=t,this._mdf=!0),r+=1}function $zc(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=this._isFirstFrame;for(var e=this.effectsSequence.length,t=this.kf?this.pv:this.data.k,r=0;r<e;r+=1)t=this.effectsSequence[r](t);this.setVValue(t),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function _zc(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function aAc(e,t,r,n){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=$zc,this.setVValue=Zzc,this.addEffect=_zc}function bAc(e,t,r,n){this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=n,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var i,o=t.k.length;for(this.v=createTypedArray("float32",o),this.pv=createTypedArray("float32",o),createTypedArray("float32",o),this.vel=createTypedArray("float32",o),i=0;i<o;i+=1)this.v[i]=t.k[i]*this.mult,this.pv[i]=t.k[i];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=$zc,this.setVValue=Zzc,this.addEffect=_zc}function cAc(e,t,r,n){this.propType="unidimensional",this.keyframes=t.k,this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:Uzc,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=r||1,this.elem=e,this.container=n,this.comp=e.comp,this.v=Uzc,this.pv=Uzc,this._isFirstFrame=!0,this.getValue=$zc,this.setVValue=Zzc,this.interpolateValue=Wzc,this.effectsSequence=[Yzc.bind(this)],this.addEffect=_zc}function dAc(e,t,r,n){this.propType="multidimensional";for(var i,o,s,a,l=t.k.length,A=0;A<l-1;A+=1)t.k[A].to&&t.k[A].s&&t.k[A+1]&&t.k[A+1].s&&(i=t.k[A].s,o=t.k[A+1].s,s=t.k[A].to,a=t.k[A].ti,(2===i.length&&(i[0]!==o[0]||i[1]!==o[1])&&bez.pointOnLine2D(i[0],i[1],o[0],o[1],i[0]+s[0],i[1]+s[1])&&bez.pointOnLine2D(i[0],i[1],o[0],o[1],o[0]+a[0],o[1]+a[1])||3===i.length&&(i[0]!==o[0]||i[1]!==o[1]||i[2]!==o[2])&&bez.pointOnLine3D(i[0],i[1],i[2],o[0],o[1],o[2],i[0]+s[0],i[1]+s[1],i[2]+s[2])&&bez.pointOnLine3D(i[0],i[1],i[2],o[0],o[1],o[2],o[0]+a[0],o[1]+a[1],o[2]+a[2]))&&(t.k[A].to=null,t.k[A].ti=null),i[0]===o[0]&&i[1]===o[1]&&0===s[0]&&0===s[1]&&0===a[0]&&0===a[1]&&(2===i.length||i[2]===o[2]&&0===s[2]&&0===a[2])&&(t.k[A].to=null,t.k[A].ti=null));this.effectsSequence=[Yzc.bind(this)],this.keyframes=t.k,this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=e,this.container=n,this.comp=e.comp,this.getValue=$zc,this.setVValue=Zzc,this.interpolateValue=Wzc,this.frameId=-1;var u=t.k[0].s.length;for(this.v=createTypedArray("float32",u),this.pv=createTypedArray("float32",u),A=0;A<u;A+=1)this.v[A]=Uzc,this.pv[A]=Uzc;this._caching={lastFrame:Uzc,lastIndex:0,value:createTypedArray("float32",u)},this.addEffect=_zc}function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=point_pool.newElement(),this.o[r]=point_pool.newElement(),this.i[r]=point_pool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,n,i){var o;switch(this._length=Math.max(this._length,n+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":o=this.v;break;case"i":o=this.i;break;case"o":o=this.o}o[n]&&(!o[n]||i)||(o[n]=point_pool.newElement()),o[n][0]=e,o[n][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,n,i,o,s,a){this.setXYAt(e,t,"v",s,a),this.setXYAt(r,n,"o",s,a),this.setXYAt(i,o,"i",s,a)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,n=this.i,i=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],n[0][0],n[0][1],r[0][0],r[0][1],0,!1),i=1);for(var o=this._length-1,s=this._length,a=i;a<s;a+=1)e.setTripleAt(t[o][0],t[o][1],n[o][0],n[o][1],r[o][0],r[o][1],a,!1),--o;return e};var ShapePropertyFactory=function(){function e(e,t,r){var n,i,o,s,a,l,A,u=r.lastIndex,h=this.keyframes;if(e<h[0].t-this.offsetTime)n=h[0].s[0],i=!0,u=0;else if(e>=h[h.length-1].t-this.offsetTime)n=h[h.length-1].s?h[h.length-1].s[0]:h[h.length-2].e[0],i=!0;else{for(var c,p,d=u,f=h.length-1,g=!0;g&&(c=h[d],!((p=h[d+1]).t-this.offsetTime>e));)d<f-1?d+=1:g=!1;var m,y,v,u=d;(i=1===c.h)||(y=e>=p.t-this.offsetTime?1:e<c.t-this.offsetTime?0:(c.__fnct?m=c.__fnct:(m=BezierFactory.getBezierEasing(c.o.x,c.o.y,c.i.x,c.i.y).get,c.__fnct=m),m((e-(c.t-this.offsetTime))/(p.t-this.offsetTime-(c.t-this.offsetTime)))),v=p.s?p.s[0]:c.e[0]),n=c.s[0]}for(a=t._length,l=n.i[0].length,r.lastIndex=u,o=0;o<a;o+=1)for(s=0;s<l;s+=1)A=i?n.i[o][s]:n.i[o][s]+(v.i[o][s]-n.i[o][s])*y,t.i[o][s]=A,A=i?n.o[o][s]:n.o[o][s]+(v.o[o][s]-n.o[o][s])*y,t.o[o][s]=A,A=i?n.v[o][s]:n.v[o][s]+(v.v[o][s]-n.v[o][s])*y,t.v[o][s]=A}function i(){this.paths=this.localShapeCollection}function t(e){!function(e,t){if(e._length===t._length&&e.c===t.c){for(var r=e._length,n=0;n<r;n+=1)if(e.v[n][0]!==t.v[n][0]||e.v[n][1]!==t.v[n][1]||e.o[n][0]!==t.o[n][0]||e.o[n][1]!==t.o[n][1]||e.i[n][0]!==t.i[n][0]||e.i[n][1]!==t.i[n][1])return;return 1}}(this.v,e)&&(this.v=shape_pool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function r(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{this.lock=!0,this._mdf=!1;for(var e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k,t=this.effectsSequence.length,r=0;r<t;r+=1)e=this.effectsSequence[r](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function o(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?t.pt.k:t.ks.k;this.v=shape_pool.clone(n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function n(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function s(e,t,r){this.propType="shape",this.comp=e.comp,this.elem=e,this.container=e,this.offsetTime=e.data.st,this.keyframes=3===r?t.pt.k:t.ks.k,this.k=!0,this.kf=!0;var n=this.keyframes[0].s[0].i.length;this.keyframes[0].s[0].i[0].length,this.v=shape_pool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,n),this.pv=shape_pool.clone(this.v),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=-999999,this.reset=i,this._caching={lastFrame:-999999,lastIndex:0},this.effectsSequence=[function(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return-999999!==n&&(n<t&&e<t||r<n&&r<e)||(this._caching.lastIndex=n<e?this._caching.lastIndex:0,this.interpolateShape(e,this.pv,this._caching)),this._caching.lastFrame=e,this.pv}.bind(this)]}o.prototype.interpolateShape=e,o.prototype.getValue=r,o.prototype.setVValue=t,o.prototype.addEffect=n,s.prototype.getValue=r,s.prototype.interpolateShape=e,s.prototype.setVValue=t,s.prototype.addEffect=n;var a,l=(a=roundCorner,p.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,i=3!==this.d,o=this.v;o.v[0][0]=e,o.v[0][1]=t-n,o.v[1][0]=i?e+r:e-r,o.v[1][1]=t,o.v[2][0]=e,o.v[2][1]=t+n,o.v[3][0]=i?e-r:e+r,o.v[3][1]=t,o.i[0][0]=i?e-r*a:e+r*a,o.i[0][1]=t-n,o.i[1][0]=i?e+r:e-r,o.i[1][1]=t-n*a,o.i[2][0]=i?e+r*a:e-r*a,o.i[2][1]=t+n,o.i[3][0]=i?e-r:e+r,o.i[3][1]=t+n*a,o.o[0][0]=i?e+r*a:e-r*a,o.o[0][1]=t-n,o.o[1][0]=i?e+r:e-r,o.o[1][1]=t+n*a,o.o[2][0]=i?e-r*a:e+r*a,o.o[2][1]=t+n,o.o[3][0]=i?e-r:e+r,o.o[3][1]=t-n*a}},extendPrototype([DynamicPropertyContainer],p),p),A=(c.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,r,n=2*Math.floor(this.pt.v),i=2*Math.PI/n,o=!0,s=this.or.v,a=this.ir.v,l=this.os.v,A=this.is.v,u=2*Math.PI*s/(2*n),h=2*Math.PI*a/(2*n),c=-Math.PI/2;c+=this.r.v;for(var p=3===this.data.d?-1:1,d=this.v._length=0;d<n;d+=1){t=o?l:A,r=o?u:h;var f=(e=o?s:a)*Math.cos(c),g=e*Math.sin(c),m=0===f&&0===g?0:g/Math.sqrt(f*f+g*g),y=0===f&&0===g?0:-f/Math.sqrt(f*f+g*g);f+=+this.p.v[0],g+=+this.p.v[1],this.v.setTripleAt(f,g,f-m*r*t*p,g-y*r*t*p,f+m*r*t*p,g+y*r*t*p,d,!0),o=!o,c+=i*p}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),r=2*Math.PI/t,n=this.or.v,i=this.os.v,o=2*Math.PI*n/(4*t),s=-Math.PI/2,a=3===this.data.d?-1:1;for(s+=this.r.v,e=this.v._length=0;e<t;e+=1){var l=n*Math.cos(s),A=n*Math.sin(s),u=0===l&&0===A?0:A/Math.sqrt(l*l+A*A),h=0===l&&0===A?0:-l/Math.sqrt(l*l+A*A);l+=+this.p.v[0],A+=+this.p.v[1],this.v.setTripleAt(l,A,l-u*o*i*a,A-h*o*i*a,l+u*o*i*a,A+h*o*i*a,e,!0),s+=r*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],c),c),u=(h.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,n=this.s.v[1]/2,i=bm_min(r,n,this.r.v),o=i*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+r,t-n+i,e+r,t-n+i,e+r,t-n+o,0,!0),this.v.setTripleAt(e+r,t+n-i,e+r,t+n-o,e+r,t+n-i,1,!0),0!==i?(this.v.setTripleAt(e+r-i,t+n,e+r-i,t+n,e+r-o,t+n,2,!0),this.v.setTripleAt(e-r+i,t+n,e-r+o,t+n,e-r+i,t+n,3,!0),this.v.setTripleAt(e-r,t+n-i,e-r,t+n-i,e-r,t+n-o,4,!0),this.v.setTripleAt(e-r,t-n+i,e-r,t-n+o,e-r,t-n+i,5,!0),this.v.setTripleAt(e-r+i,t-n,e-r+i,t-n,e-r+o,t-n,6,!0),this.v.setTripleAt(e+r-i,t-n,e+r-o,t-n,e+r-i,t-n,7,!0)):(this.v.setTripleAt(e-r,t+n,e-r+o,t+n,e-r,t+n,2),this.v.setTripleAt(e-r,t-n,e-r,t-n+o,e-r,t-n,3))):(this.v.setTripleAt(e+r,t-n+i,e+r,t-n+o,e+r,t-n+i,0,!0),0!==i?(this.v.setTripleAt(e+r-i,t-n,e+r-i,t-n,e+r-o,t-n,1,!0),this.v.setTripleAt(e-r+i,t-n,e-r+o,t-n,e-r+i,t-n,2,!0),this.v.setTripleAt(e-r,t-n+i,e-r,t-n+i,e-r,t-n+o,3,!0),this.v.setTripleAt(e-r,t+n-i,e-r,t+n-o,e-r,t+n-i,4,!0),this.v.setTripleAt(e-r+i,t+n,e-r+i,t+n,e-r+o,t+n,5,!0),this.v.setTripleAt(e+r-i,t+n,e+r-o,t+n,e+r-i,t+n,6,!0),this.v.setTripleAt(e+r,t+n-i,e+r,t+n-i,e+r,t+n-o,7,!0)):(this.v.setTripleAt(e-r,t-n,e-r+o,t-n,e-r,t-n,1,!0),this.v.setTripleAt(e-r,t+n,e-r,t+n-o,e-r,t+n,2,!0),this.v.setTripleAt(e+r,t+n,e+r-o,t+n,e+r,t+n,3,!0)))},getValue:function(e){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],h),h);function h(e,t){this.v=shape_pool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}function c(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}function p(e,t){this.v=shape_pool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollection_pool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return{getShapeProp:function(e,t,r){var n;return 3===r||4===r?n=new((3===r?t.pt:t.ks).k.length?s:o)(e,t,r):5===r?n=new u(e,t):6===r?n=new l(e,t):7===r&&(n=new A(e,t)),n.k&&e.addDynamicProperty(n),n},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return s}}}(),ShapeModifiers=($r={},_r={},$r.registerModifier=function(e,t){_r[e]||(_r[e]=t)},$r.getModifier=function(e,t,r){return new _r[e](t,r)},$r),$r,_r;function ShapeModifier(){}function TrimModifier(){}function RoundCornersModifier(){}function RepeaterModifier(){}function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}function DashProperty(e,t,r,n){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(n);for(var i,o=t.length||0,s=0;s<o;s+=1)i=PropertyFactory.getProp(e,t[s].v,0,0,this),this.k=i.k||this.k,this.dataProps[s]={n:t[s].n,p:i};this.k||this.getValue(!0),this._isAnimated=this.k}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var n=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",n),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=n,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){var t;this.closed||(e.sh.container.addDynamicProperty(e.sh),t={shape:e.sh,data:e,localShapeCollection:shapeCollection_pool.newShapeCollection()},this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated())},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,n,i){var o=[];t<=1?o.push({s:e,e:t}):1<=e?o.push({s:e-1,e:t-1}):(o.push({s:e,e:1}),o.push({s:0,e:t-1}));for(var s,a,l,A=[],u=o.length,h=0;h<u;h+=1){(s=o[h]).e*i<n||s.s*i>n+r||(a=s.s*i<=n?0:(s.s*i-n)/r,l=s.e*i>=n+r?1:(s.e*i-n)/r,A.push([a,l]))}return A.length||A.push([0,0]),A},TrimModifier.prototype.releasePathsData=function(e){for(var t=e.length,r=0;r<t;r+=1)segments_length_pool.release(e[r]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r,n,i,o;this._mdf||e?((r=this.o.v%360/360)<0&&(r+=1),i=(1<this.s.v?1:this.s.v<0?0:this.s.v)+r,(o=(1<this.e.v?1:this.e.v<0?0:this.e.v)+r)<i&&(n=i,i=o,o=n),i=1e-4*Math.round(1e4*i),o=1e-4*Math.round(1e4*o),this.sValue=i,this.eValue=o):(i=this.sValue,o=this.eValue);var s,a,l,A,u,h=this.shapes.length,c=0;if(o===i)for(g=0;g<h;g+=1)this.shapes[g].localShapeCollection.releaseShapes(),this.shapes[g].shape._mdf=!0,this.shapes[g].shape.paths=this.shapes[g].localShapeCollection;else if(1===o&&0===i||0===o&&1===i){if(this._mdf)for(g=0;g<h;g+=1)this.shapes[g].pathsData.length=0,this.shapes[g].shape._mdf=!0}else{for(var p,d,f=[],g=0;g<h;g+=1)if((p=this.shapes[g]).shape._mdf||this._mdf||e||2===this.m){if(a=(t=p.shape.paths)._length,u=0,!p.shape._mdf&&p.pathsData.length)u=p.totalShapeLength;else{for(l=this.releasePathsData(p.pathsData),s=0;s<a;s+=1)A=bez.getSegmentsLength(t.shapes[s]),l.push(A),u+=A.totalLength;p.totalShapeLength=u,p.pathsData=l}c+=u,p.shape._mdf=!0}else p.shape.paths=p.localShapeCollection;var m,y=i,v=o,_=0;for(g=h-1;0<=g;--g)if((p=this.shapes[g]).shape._mdf){for((d=p.localShapeCollection).releaseShapes(),2===this.m&&1<h?(m=this.calculateShapeEdges(i,o,p.totalShapeLength,_,c),_+=p.totalShapeLength):m=[[y,v]],a=m.length,s=0;s<a;s+=1){y=m[s][0],v=m[s][1],f.length=0,v<=1?f.push({s:p.totalShapeLength*y,e:p.totalShapeLength*v}):1<=y?f.push({s:p.totalShapeLength*(y-1),e:p.totalShapeLength*(v-1)}):(f.push({s:p.totalShapeLength*y,e:p.totalShapeLength}),f.push({s:0,e:p.totalShapeLength*(v-1)}));var E,w=this.addShapes(p,f[0]);f[0].s!==f[0].e&&(1<f.length&&(w=p.shape.paths.shapes[p.shape.paths._length-1].c?(E=w.pop(),this.addPaths(w,d),this.addShapes(p,f[1],E)):(this.addPaths(w,d),this.addShapes(p,f[1]))),this.addPaths(w,d))}p.shape.paths=d}}},TrimModifier.prototype.addPaths=function(e,t){for(var r=e.length,n=0;n<r;n+=1)t.addShape(e[n])},TrimModifier.prototype.addSegment=function(e,t,r,n,i,o,s){i.setXYAt(t[0],t[1],"o",o),i.setXYAt(r[0],r[1],"i",o+1),s&&i.setXYAt(e[0],e[1],"v",o),i.setXYAt(n[0],n[1],"v",o+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,n){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),n&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var n,i,o,s,a,l,A,u,h=e.pathsData,c=e.shape.paths.shapes,p=e.shape.paths._length,d=0,f=[],g=!0,m=r?(s=r._length,r._length):(r=shape_pool.newElement(),s=0);for(f.push(r),n=0;n<p;n+=1){for(a=h[n].lengths,r.c=c[n].c,o=c[n].c?a.length:a.length+1,i=1;i<o;i+=1)if(d+(u=a[i-1]).addedLength<t.s)d+=u.addedLength,r.c=!1;else{if(d>t.e){r.c=!1;break}t.s<=d&&t.e>=d+u.addedLength?(this.addSegment(c[n].v[i-1],c[n].o[i-1],c[n].i[i],c[n].v[i],r,s,g),g=!1):(l=bez.getNewSegment(c[n].v[i-1],c[n].v[i],c[n].o[i-1],c[n].i[i],(t.s-d)/u.addedLength,(t.e-d)/u.addedLength,a[i-1]),this.addSegmentFromArray(l,r,s,g),g=!1,r.c=!1),d+=u.addedLength,s+=1}if(c[n].c&&a.length&&(u=a[i-1],d<=t.e?(A=a[i-1].addedLength,t.s<=d&&t.e>=d+A?(this.addSegment(c[n].v[i-1],c[n].o[i-1],c[n].i[0],c[n].v[0],r,s,g),g=!1):(l=bez.getNewSegment(c[n].v[i-1],c[n].v[0],c[n].o[i-1],c[n].i[0],(t.s-d)/A,(t.e-d)/A,a[i-1]),this.addSegmentFromArray(l,r,s,g),g=!1,r.c=!1)):r.c=!1,d+=u.addedLength,s+=1),r._length&&(r.setXYAt(r.v[m][0],r.v[m][1],"i",m),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),d>t.e)break;n<p-1&&(r=shape_pool.newElement(),g=!0,f.push(r),s=0)}return f},ShapeModifiers.registerModifier("tm",TrimModifier),extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r=shape_pool.newElement();r.c=e.c;for(var n,i,o,s,a,l,A,u,h,c,p,d,f=e._length,g=0,m=0;m<f;m+=1)n=e.v[m],o=e.o[m],i=e.i[m],n[0]===o[0]&&n[1]===o[1]&&n[0]===i[0]&&n[1]===i[1]?0!==m&&m!==f-1||e.c?(s=0===m?e.v[f-1]:e.v[m-1],l=(a=Math.sqrt(Math.pow(n[0]-s[0],2)+Math.pow(n[1]-s[1],2)))?Math.min(a/2,t)/a:0,A=p=n[0]+(s[0]-n[0])*l,u=d=n[1]-(n[1]-s[1])*l,h=A-(A-n[0])*roundCorner,c=u-(u-n[1])*roundCorner,r.setTripleAt(A,u,h,c,p,d,g),g+=1,s=m===f-1?e.v[0]:e.v[m+1],l=(a=Math.sqrt(Math.pow(n[0]-s[0],2)+Math.pow(n[1]-s[1],2)))?Math.min(a/2,t)/a:0,A=h=n[0]+(s[0]-n[0])*l,u=c=n[1]+(s[1]-n[1])*l,p=A-(A-n[0])*roundCorner,d=u-(u-n[1])*roundCorner,r.setTripleAt(A,u,h,c,p,d,g)):r.setTripleAt(n[0],n[1],o[0],o[1],i[0],i[1],g):r.setTripleAt(e.v[m][0],e.v[m][1],e.o[m][0],e.o[m][1],e.i[m][0],e.i[m][1],g),g+=1;return r},RoundCornersModifier.prototype.processShapes=function(e){var t,r,n,i,o,s,a=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<a;r+=1){if((o=this.shapes[r]).shape.paths,s=o.localShapeCollection,o.shape._mdf||this._mdf||e)for(s.releaseShapes(),o.shape._mdf=!0,t=o.shape.paths.shapes,i=o.shape.paths._length,n=0;n<i;n+=1)s.addShape(this.processPath(t[n],l));o.shape.paths=o.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},ShapeModifiers.registerModifier("rd",RoundCornersModifier),extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,n,i,o){var s=o?-1:1,a=n.s.v[0]+(1-n.s.v[0])*(1-i),l=n.s.v[1]+(1-n.s.v[1])*(1-i);e.translate(n.p.v[0]*s*i,n.p.v[1]*s*i,n.p.v[2]),t.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),t.rotate(-n.r.v*s*i),t.translate(n.a.v[0],n.a.v[1],n.a.v[2]),r.translate(-n.a.v[0],-n.a.v[1],n.a.v[2]),r.scale(o?1/a:a,o?1/l:l),r.translate(n.a.v[0],n.a.v[1],n.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,n){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=n,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);0<r;)--r,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){for(var t=e.length,r=0;r<t;r+=1)e[r]._processed=!1,"gr"===e[r].ty&&this.resetElements(e[r].it)},RepeaterModifier.prototype.cloneElements=function(e){e.length;var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){for(var r=e.length,n=0;n<r;n+=1)e[n]._render=t,"gr"===e[n].ty&&this.changeGroupRender(e[n].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,n,i,o;if(this._mdf||e){var s,a=Math.ceil(this.c.v);if(this._groups.length<a){for(;this._groups.length<a;){var l={it:this.cloneElements(this._elements),ty:"gr"};l.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,l),this._groups.splice(0,0,l),this._currentCopies+=1}this.elem.reloadShapes()}for(n=o=0;n<=this._groups.length-1;n+=1)s=o<a,this._groups[n]._render=s,this.changeGroupRender(this._groups[n].it,s),o+=1;this._currentCopies=a;var A=this.o.v,u=A%1,h=0<A?Math.floor(A):Math.ceil(A),c=(this.tr.v.props,this.pMatrix.props),p=this.rMatrix.props,d=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var f,g,m=0;if(0<A){for(;m<h;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),m+=1;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,u,!1),m+=u)}else if(A<0){for(;h<m;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),--m;u&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-u,!0),m-=u)}for(n=1===this.data.m?0:this._currentCopies-1,i=1===this.data.m?1:-1,o=this._currentCopies;o;){if(g=(r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=this.so.v+(this.eo.v-this.so.v)*(n/(this._currentCopies-1)),0!==m){for((0!==n&&1===i||n!==this._currentCopies-1&&-1===i)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15]),this.matrix.transform(d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8],d[9],d[10],d[11],d[12],d[13],d[14],d[15]),this.matrix.transform(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9],c[10],c[11],c[12],c[13],c[14],c[15]),f=0;f<g;f+=1)r[f]=this.matrix.props[f];this.matrix.reset()}else for(this.matrix.reset(),f=0;f<g;f+=1)r[f]=this.matrix.props[f];m+=1,--o,n+=i}}else for(o=this._currentCopies,n=0,i=1;o;)r=(t=this.elemsData[n].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,--o,n+=i},RepeaterModifier.prototype.addShape=function(){},ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){for(var e=0;e<this._length;e+=1)shape_pool.release(this.shapes[e]);this._length=0},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<r;t+=1)"o"!=this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,n=this.o.length/2;r<n;){if(.01<Math.abs(e[4*r]-e[4*t+2*r]))return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){for(var t,r,n=4*this.data.p,i=0;i<n;i+=1)t=i%4==0?100:255,r=Math.round(this.prop.v[i]*t),this.c[i]!==r&&(this.c[i]=r,this._cmdf=!e);if(this.o.length)for(n=this.prop.v.length,i=4*this.data.p;i<n;i+=1)t=i%2==0?100:1,r=i%2==0?Math.round(100*this.prop.v[i]):this.prop.v[i],this.o[i-4*this.data.p]!==r&&(this.o[i-4*this.data.p]=r,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty);var buildShapeString=function(e,t,r,n){if(0===t)return"";for(var i=e.o,o=e.i,s=e.v,a=" M"+n.applyToPointStringified(s[0][0],s[0][1]),l=1;l<t;l+=1)a+=" C"+n.applyToPointStringified(i[l-1][0],i[l-1][1])+" "+n.applyToPointStringified(o[l][0],o[l][1])+" "+n.applyToPointStringified(s[l][0],s[l][1]);return r&&t&&(a+=" C"+n.applyToPointStringified(i[l-1][0],i[l-1][1])+" "+n.applyToPointStringified(o[0][0],o[0][1])+" "+n.applyToPointStringified(s[0][0],s[0][1]),a+="z"),a},ImagePreloader=(CIc=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}(),function(){this.loadAssets=FIc,this.setAssetsPath=HIc,this.setPath=GIc,this.loaded=KIc,this.destroy=JIc,this.getImage=IIc,this._createImageData=EIc,this._imageLoaded=DIc,this.assetsPath="",this.path="",this.totalImages=0,this.loadedAssets=0,this.imagesLoadedCb=null,this.images=[]}),featureSupport=(sw={maskType:!0},(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(sw.maskType=!1),sw),sw,filtersFactory=(tw={},tw.createFilter=function(e){var t=createNS("filter");return t.setAttribute("id",e),t.setAttribute("filterUnits","objectBoundingBox"),t.setAttribute("x","0%"),t.setAttribute("y","0%"),t.setAttribute("width","100%"),t.setAttribute("height","100%"),t},tw.createAlphaToLuminanceFilter=function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e},tw),tw,assetLoader={load:function(e,t,r){var n,i=new XMLHttpRequest;i.open("GET",e,!0);try{i.responseType="json"}catch(e){}i.send(),i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status)n=gJc(i),t(n);else try{n=gJc(i),t(n)}catch(e){r&&r(e)}}}},CIc;function gJc(e){return e.response&&"object"==typeof e.response?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):void 0}function DIc(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function EIc(e){var t,r,n,i,o,s=(t=e,r=this.assetsPath,n=this.path,o="",t.e?o=t.p:r?(-1!==(i=t.p).indexOf("images/")&&(i=i.split("/")[1]),o=r+i):(o=n,o+=t.u?t.u:"",o+=t.p),o),a=createTag("img");a.crossOrigin="anonymous",a.addEventListener("load",this._imageLoaded.bind(this),!1),a.addEventListener("error",function(){l.img=CIc,this._imageLoaded()}.bind(this),!1),a.src=s;var l={img:a,assetData:e};return l}function FIc(e,t){this.imagesLoadedCb=t;for(var r=e.length,n=0;n<r;n+=1)e[n].layers||(this.totalImages+=1,this.images.push(this._createImageData(e[n])))}function GIc(e){this.path=e||""}function HIc(e){this.assetsPath=e||""}function IIc(e){for(var t=0,r=this.images.length;t<r;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}}function JIc(){this.imagesLoadedCb=null,this.images.length=0}function KIc(){return this.totalImages===this.loadedAssets}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function TextAnimatorDataProperty(e,t,r){var n={propType:!1},i=PropertyFactory.getProp,o=t.a;this.a={r:o.r?i(e,o.r,0,degToRads,r):n,rx:o.rx?i(e,o.rx,0,degToRads,r):n,ry:o.ry?i(e,o.ry,0,degToRads,r):n,sk:o.sk?i(e,o.sk,0,degToRads,r):n,sa:o.sa?i(e,o.sa,0,degToRads,r):n,s:o.s?i(e,o.s,1,.01,r):n,a:o.a?i(e,o.a,1,0,r):n,o:o.o?i(e,o.o,0,.01,r):n,p:o.p?i(e,o.p,1,0,r):n,sw:o.sw?i(e,o.sw,0,0,r):n,sc:o.sc?i(e,o.sc,1,0,r):n,fc:o.fc?i(e,o.fc,1,0,r):n,fh:o.fh?i(e,o.fh,0,0,r):n,fs:o.fs?i(e,o.fs,0,.01,r):n,fb:o.fb?i(e,o.fb,0,.01,r):n,t:o.t?i(e,o.t,0,0,r):n},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function LetterProps(e,t,r,n,i,o){this.o=e,this.sw=t,this.sc=r,this.fc=n,this.m=i,this.p=o,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!n,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextAnimatorProperty.prototype.searchProperties=function(){for(var e,t=this._textData.a.length,r=PropertyFactory.getProp,n=0;n<t;n+=1)e=this._textData.a[n],this._animatorsData[n]=new TextAnimatorDataProperty(this._elem,e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={f:r(this._elem,this._textData.p.f,0,0,this),l:r(this._elem,this._textData.p.l,0,0,this),r:this._textData.p.r,m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=r(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,n,i,o,s,a,l,A,u,h,c,p,d,f,g,m,y,v,_=this._moreOptions.alignment.v,E=this._animatorsData,w=this._textData,b=this.mHelper,B=this._renderType,C=this.renderedLetters.length,S=(this.data,e.l);if(this._hasMaskedPath){if(v=this._pathData.m,!this._pathData.n||this._pathData._mdf){var P,F=v.v;for(this._pathData.r&&(F=F.reverse()),o={tLength:0,segments:[]},i=F._length-1,se=g=0;se<i;se+=1)P=bez.buildBezierData(F.v[se],F.v[se+1],[F.o[se][0]-F.v[se][0],F.o[se][1]-F.v[se][1]],[F.i[se+1][0]-F.v[se+1][0],F.i[se+1][1]-F.v[se+1][1]]),o.tLength+=P.segmentLength,o.segments.push(P),g+=P.segmentLength;se=i,v.v.c&&(P=bez.buildBezierData(F.v[se],F.v[0],[F.o[se][0]-F.v[se][0],F.o[se][1]-F.v[se][1]],[F.i[0][0]-F.v[0][0],F.i[0][1]-F.v[0][1]]),o.tLength+=P.segmentLength,o.segments.push(P),g+=P.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,s=this._pathData.f.v,u=1,A=!(l=h=0),d=o.segments,s<0&&v.v.c)for(o.tLength<Math.abs(s)&&(s=-Math.abs(s)%o.tLength),u=(p=d[h=d.length-1].points).length-1;s<0;)s+=p[u].partialLength,--u<0&&(u=(p=d[--h].points).length-1);c=(p=d[h].points)[u-1],f=(a=p[u]).partialLength}i=S.length,n=r=0;var x,T,U,Q,D,M,I,R,k,N,O,H,L,z,K,V,j=1.2*e.finalSize*.714,G=!0,q=E.length,W=-1,X=s,J=h,Y=u,Z=-1,$="",ee=this.defaultPropsArray;if(2===e.j||1===e.j){for(var te=0,re=0,ne=2===e.j?-.5:-1,ie=0,oe=!0,se=0;se<i;se+=1)if(S[se].n){for(te&&(te+=re);ie<se;)S[ie].animatorJustifyOffset=te,ie+=1;oe=!(te=0)}else{for(le=0;le<q;le+=1)(x=E[le].a).t.propType&&(oe&&2===e.j&&(re+=x.t.v*ne),(U=E[le].s.getMult(S[se].anIndexes[le],w.a[le].s.totalChars)).length?te+=x.t.v*U[0]*ne:te+=x.t.v*U*ne);oe=!1}for(te&&(te+=re);ie<se;)S[ie].animatorJustifyOffset=te,ie+=1}for(se=0;se<i;se+=1){if(b.reset(),I=1,S[se].n)r=0,n+=e.yOffset,n+=G?1:0,s=X,G=!1,this._hasMaskedPath&&(u=Y,c=(p=d[h=J].points)[u-1],f=(a=p[u]).partialLength,l=0),K=H=z=$="",ee=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Z!==S[se].line){switch(e.j){case 1:s+=g-e.lineWidths[S[se].line];break;case 2:s+=(g-e.lineWidths[S[se].line])/2}Z=S[se].line}W!==S[se].ind&&(S[W]&&(s+=S[W].extra),s+=S[se].an/2,W=S[se].ind),s+=_[0]*S[se].an/200;for(var ae=0,le=0;le<q;le+=1)(x=E[le].a).p.propType&&((U=E[le].s.getMult(S[se].anIndexes[le],w.a[le].s.totalChars)).length?ae+=x.p.v[0]*U[0]:ae+=x.p.v[0]*U),x.a.propType&&((U=E[le].s.getMult(S[se].anIndexes[le],w.a[le].s.totalChars)).length?ae+=x.a.v[0]*U[0]:ae+=x.a.v[0]*U);for(A=!0;A;)s+ae<=l+f||!p?(m=(s+ae-l)/a.partialLength,D=c.point[0]+(a.point[0]-c.point[0])*m,M=c.point[1]+(a.point[1]-c.point[1])*m,b.translate(-_[0]*S[se].an/200,-_[1]*j/100),A=!1):p&&(l+=a.partialLength,(u+=1)>=p.length&&(u=0,p=d[h+=1]?d[h].points:v.v.c?d[h=u=0].points:(l-=a.partialLength,null)),p&&(c=a,f=(a=p[u]).partialLength));Q=S[se].an/2-S[se].add,b.translate(-Q,0,0)}else Q=S[se].an/2-S[se].add,b.translate(-Q,0,0),b.translate(-_[0]*S[se].an/200,-_[1]*j/100,0);for(S[se].l,le=0;le<q;le+=1)(x=E[le].a).t.propType&&(U=E[le].s.getMult(S[se].anIndexes[le],w.a[le].s.totalChars),0===r&&0===e.j||(this._hasMaskedPath?U.length?s+=x.t.v*U[0]:s+=x.t.v*U:U.length?r+=x.t.v*U[0]:r+=x.t.v*U));for(S[se].l,e.strokeWidthAnim&&(k=e.sw||0),e.strokeColorAnim&&(R=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(N=[e.fc[0],e.fc[1],e.fc[2]]),le=0;le<q;le+=1)(x=E[le].a).a.propType&&((U=E[le].s.getMult(S[se].anIndexes[le],w.a[le].s.totalChars)).length?b.translate(-x.a.v[0]*U[0],-x.a.v[1]*U[1],x.a.v[2]*U[2]):b.translate(-x.a.v[0]*U,-x.a.v[1]*U,x.a.v[2]*U));for(le=0;le<q;le+=1)(x=E[le].a).s.propType&&((U=E[le].s.getMult(S[se].anIndexes[le],w.a[le].s.totalChars)).length?b.scale(1+(x.s.v[0]-1)*U[0],1+(x.s.v[1]-1)*U[1],1):b.scale(1+(x.s.v[0]-1)*U,1+(x.s.v[1]-1)*U,1));for(le=0;le<q;le+=1){if(x=E[le].a,U=E[le].s.getMult(S[se].anIndexes[le],w.a[le].s.totalChars),x.sk.propType&&(U.length?b.skewFromAxis(-x.sk.v*U[0],x.sa.v*U[1]):b.skewFromAxis(-x.sk.v*U,x.sa.v*U)),x.r.propType&&(U.length?b.rotateZ(-x.r.v*U[2]):b.rotateZ(-x.r.v*U)),x.ry.propType&&(U.length?b.rotateY(x.ry.v*U[1]):b.rotateY(x.ry.v*U)),x.rx.propType&&(U.length?b.rotateX(x.rx.v*U[0]):b.rotateX(x.rx.v*U)),x.o.propType&&(U.length?I+=(x.o.v*U[0]-I)*U[0]:I+=(x.o.v*U-I)*U),e.strokeWidthAnim&&x.sw.propType&&(U.length?k+=x.sw.v*U[0]:k+=x.sw.v*U),e.strokeColorAnim&&x.sc.propType)for(O=0;O<3;O+=1)U.length?R[O]=R[O]+(x.sc.v[O]-R[O])*U[0]:R[O]=R[O]+(x.sc.v[O]-R[O])*U;if(e.fillColorAnim&&e.fc){if(x.fc.propType)for(O=0;O<3;O+=1)U.length?N[O]=N[O]+(x.fc.v[O]-N[O])*U[0]:N[O]=N[O]+(x.fc.v[O]-N[O])*U;x.fh.propType&&(N=U.length?addHueToRGB(N,x.fh.v*U[0]):addHueToRGB(N,x.fh.v*U)),x.fs.propType&&(N=U.length?addSaturationToRGB(N,x.fs.v*U[0]):addSaturationToRGB(N,x.fs.v*U)),x.fb.propType&&(N=U.length?addBrightnessToRGB(N,x.fb.v*U[0]):addBrightnessToRGB(N,x.fb.v*U))}}for(le=0;le<q;le+=1)(x=E[le].a).p.propType&&(U=E[le].s.getMult(S[se].anIndexes[le],w.a[le].s.totalChars),this._hasMaskedPath?U.length?b.translate(0,x.p.v[1]*U[0],-x.p.v[2]*U[1]):b.translate(0,x.p.v[1]*U,-x.p.v[2]*U):U.length?b.translate(x.p.v[0]*U[0],x.p.v[1]*U[1],-x.p.v[2]*U[2]):b.translate(x.p.v[0]*U,x.p.v[1]*U,-x.p.v[2]*U));if(e.strokeWidthAnim&&(H=k<0?0:k),e.strokeColorAnim&&(L="rgb("+Math.round(255*R[0])+","+Math.round(255*R[1])+","+Math.round(255*R[2])+")"),e.fillColorAnim&&e.fc&&(z="rgb("+Math.round(255*N[0])+","+Math.round(255*N[1])+","+Math.round(255*N[2])+")"),this._hasMaskedPath){b.translate(0,-e.ls),b.translate(0,_[1]*j/100+n,0),w.p.p&&(y=(a.point[1]-c.point[1])/(a.point[0]-c.point[0]),V=180*Math.atan(y)/Math.PI,a.point[0]<c.point[0]&&(V+=180),b.rotate(-V*Math.PI/180)),b.translate(D,M,0),s-=_[0]*S[se].an/200,S[se+1]&&W!==S[se+1].ind&&(s+=S[se].an/2,s+=e.tr/1e3*e.finalSize)}else{switch(b.translate(r,n,0),e.ps&&b.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:b.translate(S[se].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[S[se].line]),0,0);break;case 2:b.translate(S[se].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[S[se].line])/2,0,0)}b.translate(0,-e.ls),b.translate(Q,0,0),b.translate(_[0]*S[se].an/200,_[1]*j/100,0),r+=S[se].l+e.tr/1e3*e.finalSize}"html"===B?$=b.toCSS():"svg"===B?$=b.to2dCSS():ee=[b.props[0],b.props[1],b.props[2],b.props[3],b.props[4],b.props[5],b.props[6],b.props[7],b.props[8],b.props[9],b.props[10],b.props[11],b.props[12],b.props[13],b.props[14],b.props[15]],K=I}this.lettersChangedFlag=C<=se?(T=new LetterProps(K,H,L,z,$,ee),this.renderedLetters.push(T),C+=1,!0):(T=this.renderedLetters[se]).update(K,H,L,z,$,ee)||this.lettersChangedFlag}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),LetterProps.prototype.update=function(e,t,r,n,i,o){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1;var s=this._mdf.p=!1;return this.o!==e&&(this.o=e,s=this._mdf.o=!0),this.sw!==t&&(this.sw=t,s=this._mdf.sw=!0),this.sc!==r&&(this.sc=r,s=this._mdf.sc=!0),this.fc!==n&&(this.fc=n,s=this._mdf.fc=!0),this.m!==i&&(this.m=i,s=this._mdf.m=!0),!o.length||this.p[0]===o[0]&&this.p[1]===o[1]&&this.p[4]===o[4]&&this.p[5]===o[5]&&this.p[12]===o[12]&&this.p[13]===o[13]||(this.p=o,s=this._mdf.p=!0),s},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=1<this.data.d.k.length,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{this.lock=!0,this._mdf=!1;for(var n=this.effectsSequence.length,i=e||this.data.d.k[this.keysIndex].s,o=0;o<n;o+=1)i=r!==this.keysIndex?this.effectsSequence[o](i,i.t):this.effectsSequence[o](this.currentData,i.t);t!==i&&this.setCurrentData(i),this.pv=this.v=this.currentData,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,n=e.length;r<=n-1&&(e[r].s,!(r===n-1||e[r+1].t>t));)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r=FontManager.getCombinedCharacterCodes(),n=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i),-1!==r.indexOf(t)?n[n.length-1]+=e.charAt(i):55296<=t&&t<=56319&&56320<=(t=e.charCodeAt(i+1))&&t<=57343?(n.push(e.substr(i,2)),++i):n.push(e.charAt(i)),i+=1;return n},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,n,i=this.elem.globalData.fontManager,o=this.data,s=[],a=0,l=o.m.g,A=0,u=0,h=0,c=[],p=0,d=0,f=i.getFontByName(e.f),g=0,m=f.fStyle?f.fStyle.split(" "):[],y="normal",v="normal",_=m.length;for(x=0;x<_;x+=1)switch(m[x].toLowerCase()){case"italic":v="italic";break;case"bold":y="700";break;case"black":y="900";break;case"medium":y="500";break;case"regular":case"normal":y="400";break;case"light":case"thin":y="200"}e.fWeight=f.fWeight||y,e.fStyle=v,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),_=e.finalText.length,e.finalLineHeight=e.lh;var E,w=e.tr/1e3*e.finalSize;if(e.sz)for(var b,B,C=!0,S=e.sz[0],P=e.sz[1];C;){p=b=0,_=(B=this.buildFinalText(e.t)).length,w=e.tr/1e3*e.finalSize;for(var F=-1,x=0;x<_;x+=1)E=B[x].charCodeAt(0),t=!1," "===B[x]?F=x:13!==E&&3!==E||(t=!(p=0),b+=e.finalLineHeight||1.2*e.finalSize),S<p+(g=i.chars?(n=i.getCharData(B[x],f.fStyle,f.fFamily),t?0:n.w*e.finalSize/100):i.measureText(B[x],e.f,e.finalSize))&&" "!==B[x]?(-1===F?_+=1:x=F,b+=e.finalLineHeight||1.2*e.finalSize,B.splice(x,F===x?1:0,"\r"),F=-1,p=0):(p+=g,p+=w);b+=f.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&P<b?(--e.finalSize,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=B,_=e.finalText.length,C=!1)}p=-w;var T,U=g=0;for(x=0;x<_;x+=1)if(t=!1,E=(T=e.finalText[x]).charCodeAt(0)," "===T?r=" ":13===E||3===E?(U=0,c.push(p),d=d<p?p:d,p=-2*w,t=!(r=""),h+=1):r=e.finalText[x],g=i.chars?(n=i.getCharData(T,f.fStyle,i.getFontByName(e.f).fFamily),t?0:n.w*e.finalSize/100):i.measureText(r,e.f,e.finalSize)," "===T?U+=g+w:(p+=g+w+U,U=0),s.push({l:g,an:g,add:A,n:t,anIndexes:[],val:r,line:h,animatorJustifyOffset:0}),2==l){if(A+=g,""===r||" "===r||x===_-1){for(""!==r&&" "!==r||(A-=g);u<=x;)s[u].an=A,s[u].ind=a,s[u].extra=g,u+=1;a+=1,A=0}}else if(3==l){if(A+=g,""===r||x===_-1){for(""===r&&(A-=g);u<=x;)s[u].an=A,s[u].ind=a,s[u].extra=g,u+=1;A=0,a+=1}}else s[a].ind=a,s[a].extra=0,a+=1;if(e.l=s,d=d<p?p:d,c.push(p),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=d,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=c;for(var Q,D,M,I,R=o.a,k=R.length,N=[],O=0;O<k;O+=1){for((Q=R[O]).a.sc&&(e.strokeColorAnim=!0),Q.a.sw&&(e.strokeWidthAnim=!0),(Q.a.fc||Q.a.fh||Q.a.fs||Q.a.fb)&&(e.fillColorAnim=!0),I=0,M=Q.s.b,x=0;x<_;x+=1)(D=s[x]).anIndexes[O]=I,(1==M&&""!==D.val||2==M&&""!==D.val&&" "!==D.val||3==M&&(D.n||" "==D.val||x==_-1)||4==M&&(D.n||x==_-1))&&(1===Q.s.rn&&N.push(I),I+=1);o.a[O].s.totalChars=I;var H,L=-1;if(1===Q.s.rn)for(x=0;x<_;x+=1)L!=(D=s[x]).anIndexes[O]&&(L=D.anIndexes[O],H=N.splice(Math.floor(Math.random()*N.length),1)[0]),D.anIndexes[O]=H}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=f.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s),r=this.copyData(r,e);this.data.d.k[t].s=r,this.recalculate(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(nMc=Math.max,oMc=Math.min,pMc=Math.floor,qMc.prototype={getMult:function(e){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var t=0,r=0,n=1,i=1;0<this.ne.v?t=this.ne.v/100:r=-this.ne.v/100,0<this.xe.v?n=1-this.xe.v/100:i=1+this.xe.v/100;var o,s,a,l=BezierFactory.getBezierEasing(t,r,n,i).get,A=0,u=this.finalS,h=this.finalE,c=this.data.sh;return(A=2===c?l(A=h===u?h<=e?1:0:nMc(0,oMc(.5/(h-u)+(e-u)/(h-u),1))):3===c?l(A=h===u?h<=e?0:1:1-nMc(0,oMc(.5/(h-u)+(e-u)/(h-u),1))):4===c?(h===u?A=0:(A=nMc(0,oMc(.5/(h-u)+(e-u)/(h-u),1)))<.5?A*=2:A=1-2*(A-.5),l(A)):5===c?l(A=h===u?0:(s=-(o=h-u)/2+(e=oMc(nMc(0,e+.5-u),h-u)),a=o/2,Math.sqrt(1-s*s/(a*a)))):6===c?l(A=h===u?0:(e=oMc(nMc(0,e+.5-u),h-u),(1+Math.cos(Math.PI+2*Math.PI*e/(h-u)))/2)):(e>=pMc(u)&&(A=nMc(0,oMc(e-u<0?oMc(h,1)-(u-e):h-e,1))),l(A)))*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t,r=2===this.data.r?1:100/this.data.totalChars,n=this.o.v/r,i=this.s.v/r+n,o=this.e.v/r+n;o<i&&(t=i,i=o,o=t),this.finalS=i,this.finalE=o}},extendPrototype([DynamicPropertyContainer],qMc),{getTextSelectorProp:function(e,t,r){return new qMc(e,t)}}),pool_factory=function(e,t,r,n){var i=0,o=e,s=createSizedArray(o);return{newElement:function(){return i?s[--i]:t()},release:function(e){i===o&&(s=pooling.double(s),o*=2),r&&r(e),s[i]=e,i+=1}}},pooling={double:function(e){return e.concat(createSizedArray(e.length))}},point_pool=pool_factory(8,function(){return createTypedArray("float32",2)}),shape_pool=(KA=pool_factory(4,function(){return new ShapePath},function(e){for(var t=e._length,r=0;r<t;r+=1)point_pool.release(e.v[r]),point_pool.release(e.i[r]),point_pool.release(e.o[r]),e.v[r]=null,e.i[r]=null,e.o[r]=null;e._length=0,e.c=!1}),KA.clone=function(e){var t,r=KA.newElement(),n=void 0===e._length?e.v.length:e._length;for(r.setLength(n),r.c=e.c,t=0;t<n;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},KA),KA,shapeCollection_pool=(TA={newShapeCollection:function(){return UA?WA[--UA]:new ShapeCollection},release:function(e){for(var t=e._length,r=0;r<t;r+=1)shape_pool.release(e.shapes[r]);e._length=0,UA===VA&&(WA=pooling.double(WA),VA*=2),WA[UA]=e,UA+=1}},UA=0,VA=4,WA=createSizedArray(VA),TA),TA,UA,VA,WA,segments_length_pool=pool_factory(8,function(){return{lengths:[],totalLength:0}},function(e){for(var t=e.lengths.length,r=0;r<t;r+=1)bezier_length_pool.release(e.lengths[r]);e.lengths.length=0}),bezier_length_pool=pool_factory(8,function(){return{addedLength:0,percents:createTypedArray("float32",defaultCurveSegments),lengths:createTypedArray("float32",defaultCurveSegments)}}),nMc,oMc,pMc;function qMc(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}function BaseRenderer(){}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r,n,i,o,s="";t&&t.title&&(r=createNS("title"),n=createElementID(),r.setAttribute("id",n),r.textContent=t.title,this.svgElement.appendChild(r),s+=n),t&&t.description&&(i=createNS("desc"),o=createElementID(),i.setAttribute("id",o),i.textContent=t.description,this.svgElement.appendChild(i),s+=" "+o),s&&this.svgElement.setAttribute("aria-labelledby",s);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!t||!1!==t.hideOnTransparent,viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",className:t&&t.className||"",id:t&&t.id||""},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!t||!1!==t.hideOnTransparent},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var n=this.globalData.defs,i=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(i),this.solidPath="";for(var o,s,a,l,A,u,h,c=this.masksProperties,p=0,d=[],f=createElementID(),g="clipPath",m="clip-path",y=0;y<i;y++)if(("a"!==c[y].mode&&"n"!==c[y].mode||c[y].inv||100!==c[y].o.k||c[y].o.x)&&(m=g="mask"),"s"!=c[y].mode&&"i"!=c[y].mode||0!==p?a=null:((a=createNS("rect")).setAttribute("fill","#ffffff"),a.setAttribute("width",this.element.comp.data.w||0),a.setAttribute("height",this.element.comp.data.h||0),d.push(a)),o=createNS("path"),"n"!=c[y].mode){if(p+=1,o.setAttribute("fill","s"===c[y].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==c[y].x.k?(m=g="mask",u=PropertyFactory.getProp(this.element,c[y].x,0,null,this.element),h=createElementID(),(l=createNS("filter")).setAttribute("id",h),(A=createNS("feMorphology")).setAttribute("operator","erode"),A.setAttribute("in","SourceGraphic"),A.setAttribute("radius","0"),l.appendChild(A),n.appendChild(l),o.setAttribute("stroke","s"===c[y].mode?"#000000":"#ffffff")):u=A=null,this.storedData[y]={elem:o,x:u,expan:A,lastPath:"",lastOperator:"",filterId:h,lastRadius:0},"i"==c[y].mode){s=d.length;for(var v=createNS("g"),_=0;_<s;_+=1)v.appendChild(d[_]);var E=createNS("mask");E.setAttribute("mask-type","alpha"),E.setAttribute("id",f+"_"+p),E.appendChild(o),n.appendChild(E),v.setAttribute("mask","url("+locationHref+"#"+f+"_"+p+")"),d.length=0,d.push(v)}else d.push(o);c[y].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[y]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,c[y].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[y],3),invRect:a},this.viewData[y].prop.k||this.drawPath(c[y],this.viewData[y].prop.v,this.viewData[y])}else this.viewData[y]={op:PropertyFactory.getProp(this.element,c[y].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[y],3),elem:o,lastPath:""},n.appendChild(o);for(this.maskElement=createNS(g),i=d.length,y=0;y<i;y+=1)this.maskElement.appendChild(d[y]);0<p&&(this.maskElement.setAttribute("id",f),this.element.maskedElement.setAttribute(m,"url("+locationHref+"#"+f+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}function HierarchyElement(){}function FrameElement(){}function TransformElement(){}function RenderableElement(){}function RenderableDOMElement(){}function ProcessedElement(e,t){this.elem=e,this.pos=t}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var n=0,i=e.length;n<i;){if(e[n].mProps.dynamicProperties.length){this._isAnimated=!0;break}n+=1}}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}BaseRenderer.prototype.checkLayers=function(e){var t,r,n=this.layers.length;for(this.completeLayers=!0,t=n-1;0<=t;t--)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 13:return this.createCamera(e)}return this.createNull(e)},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.buildAllItems=function(){for(var e=this.layers.length,t=0;t<e;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;for(var t,r=e.length,n=this.layers.length,i=0;i<r;i+=1)for(t=0;t<n;){if(this.layers[t].id==e[i].id){this.layers[t]=e[i];break}t+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var n=this.elements,i=this.layers,o=0,s=i.length;o<s;)i[o].ind==t&&(n[o]&&!0!==n[o]?(r.push(n[o]),n[o].setAsParent(),void 0!==i[o].parent?this.buildElementParenting(e,i[o].parent,r):e.setHierarchy(r)):(this.buildItem(o),this.addPendingElement(e))),o+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){for(var t,r=e.length,n=0;n<r;n+=1){e[n].xt&&((t=this.createComp(e[n])).initExpressions(),this.globalData.projectInterface.registerComposition(t))}},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}},extendPrototype([BaseRenderer],SVGRenderer),SVGRenderer.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRenderer.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRenderer.prototype.createText=function(e){return new SVGTextElement(e,this.globalData,this)},SVGRenderer.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},SVGRenderer.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRenderer.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)"),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),n=createNS("rect");n.setAttribute("width",e.w),n.setAttribute("height",e.h),n.setAttribute("x",0),n.setAttribute("y",0);var i=createElementID();r.setAttribute("id",i),r.appendChild(n),this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+i+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.layerElement=null,this.globalData.defs=null;for(var e=this.layers?this.layers.length:0,t=0;t<e;t++)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRenderer.prototype.updateContainerSize=function(){},SVGRenderer.prototype.buildItem=function(e){var t,r=this.elements;r[e]||99==this.layers[e].ty||(r[e]=!0,t=this.createItem(this.layers[e]),r[e]=t,expressionsPlugin&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(t),t.initExpressions()),this.appendElementInPos(t,e),this.layers[e].tt&&(this.elements[e-1]&&!0!==this.elements[e-1]?t.setMatte(r[e-1].layerId):(this.buildItem(e-1),this.addPendingElement(t))))},SVGRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){e.setMatte(this.elements[t-1].layerId);break}t+=1}}},SVGRenderer.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;0<=t;t--)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRenderer.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var n,i=0;i<t;)this.elements[i]&&!0!==this.elements[i]&&this.elements[i].getBaseElement()&&(n=this.elements[i].getBaseElement()),i+=1;n?this.layerElement.insertBefore(r,n):this.layerElement.appendChild(r)}},SVGRenderer.prototype.hide=function(){this.layerElement.style.display="none"},SVGRenderer.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseRenderer],CanvasRenderer),CanvasRenderer.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRenderer.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRenderer.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},CanvasRenderer.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRenderer.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRenderer.prototype.ctxTransform=function(e){var t,r;1===e[0]&&0===e[1]&&0===e[4]&&1===e[5]&&0===e[12]&&0===e[13]||(this.renderConfig.clearCanvas?(this.transformMat.cloneFromProps(e),t=this.contextData.cTr.props,this.transformMat.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props),r=this.contextData.cTr.props,this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])):this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13]))},CanvasRenderer.prototype.ctxOpacity=function(e){if(!this.renderConfig.clearCanvas)return this.canvasContext.globalAlpha*=e<0?0:e,void(this.globalData.currentGlobalAlpha=this.contextData.cO);this.contextData.cO*=e<0?0:e,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRenderer.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRenderer.prototype.save=function(e){if(this.renderConfig.clearCanvas){e&&this.canvasContext.save();var t=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();for(var r=this.contextData.saved[this.contextData.cArrPos],n=0;n<16;n+=1)r[n]=t[n];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1}else this.canvasContext.save()},CanvasRenderer.prototype.restore=function(e){if(this.renderConfig.clearCanvas){e&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),--this.contextData.cArrPos;for(var t=this.contextData.saved[this.contextData.cArrPos],r=this.contextData.cTr.props,n=0;n<16;n+=1)r[n]=t[n];this.canvasContext.setTransform(t[0],t[1],t[4],t[5],t[12],t[13]),t=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=t,this.globalData.currentGlobalAlpha!==t&&(this.canvasContext.globalAlpha=t,this.globalData.currentGlobalAlpha=t)}else this.canvasContext.restore()},CanvasRenderer.prototype.configAnimation=function(e){this.animationItem.wrapper?(this.animationItem.container=createTag("canvas"),this.animationItem.container.style.width="100%",this.animationItem.container.style.height="100%",this.animationItem.container.style.transformOrigin=this.animationItem.container.style.mozTransformOrigin=this.animationItem.container.style.webkitTransformOrigin=this.animationItem.container.style["-webkit-transform"]="0px 0px 0px",this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)):this.canvasContext=this.renderConfig.context,this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,(this.globalData.renderer=this).globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRenderer.prototype.updateContainerSize=function(){var e,t,r,n,i,o,s,a,l;this.reset(),this.animationItem.wrapper&&this.animationItem.container?(e=this.animationItem.wrapper.offsetWidth,t=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",e*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",t*this.renderConfig.dpr)):(e=this.canvasContext.canvas.width*this.renderConfig.dpr,t=this.canvasContext.canvas.height*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")?(n=(r=this.renderConfig.preserveAspectRatio.split(" "))[1]||"meet",o=(i=r[0]||"xMidYMid").substr(0,4),s=i.substr(4),a=e/t,l=this.transformCanvas.w/this.transformCanvas.h,this.transformCanvas.sy=a<l&&"meet"===n||l<a&&"slice"===n?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),e/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=t/(this.transformCanvas.h/this.renderConfig.dpr),t/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===o&&(l<a&&"meet"===n||a<l&&"slice"===n)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===o&&(l<a&&"meet"===n||a<l&&"slice"===n)?(e-this.transformCanvas.w*(t/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===s&&(a<l&&"meet"===n||l<a&&"slice"===n)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===s&&(a<l&&"meet"===n||l<a&&"slice"===n)?(t-this.transformCanvas.h*(e/this.transformCanvas.w))*this.renderConfig.dpr:0):("none"==this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=e/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.h/this.renderConfig.dpr)):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0),this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRenderer.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&(this.animationItem.wrapper.innerHTML=""),e=(this.layers?this.layers.length:0)-1;0<=e;--e)this.elements[e]&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRenderer.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var r,n=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=0;r<n;r++)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=n-1;0<=r;--r)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRenderer.prototype.buildItem=function(e){var t,r=this.elements;r[e]||99==this.layers[e].ty||(t=this.createItem(this.layers[e],this,this.globalData),(r[e]=t).initExpressions())},CanvasRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRenderer.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRenderer.prototype.show=function(){this.animationItem.container.style.display="block"},extendPrototype([BaseRenderer],HybridRenderer),HybridRenderer.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRenderer.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRenderer.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var n=this.layers[t];if(n.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var i,o,s=0;s<t;)this.elements[s]&&!0!==this.elements[s]&&this.elements[s].getBaseElement&&(o=this.elements[s],i=(this.layers[s].ddd?this.getThreeDContainerByPos(s):o.getBaseElement())||i),s+=1;i?n.ddd&&this.supports3d||this.layerElement.insertBefore(r,i):n.ddd&&this.supports3d||this.layerElement.appendChild(r)}}},HybridRenderer.prototype.createShape=function(e){return new(this.supports3d?HShapeElement:SVGShapeElement)(e,this.globalData,this)},HybridRenderer.prototype.createText=function(e){return new(this.supports3d?HTextElement:SVGTextElement)(e,this.globalData,this)},HybridRenderer.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRenderer.prototype.createImage=function(e){return new(this.supports3d?HImageElement:IImageElement)(e,this.globalData,this)},HybridRenderer.prototype.createComp=function(e){return new(this.supports3d?HCompElement:SVGCompElement)(e,this.globalData,this)},HybridRenderer.prototype.createSolid=function(e){return new(this.supports3d?HSolidElement:ISolidElement)(e,this.globalData,this)},HybridRenderer.prototype.createNull=SVGRenderer.prototype.createNull,HybridRenderer.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}},HybridRenderer.prototype.createThreeDContainer=function(e,t){var r=createTag("div");styleDiv(r);var n=createTag("div");styleDiv(n),"3d"===t&&(r.style.width=this.globalData.compSize.w+"px",r.style.height=this.globalData.compSize.h+"px",r.style.transformOrigin=r.style.mozTransformOrigin=r.style.webkitTransformOrigin="50% 50%",n.style.transform=n.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"),r.appendChild(n);var i={container:n,perspectiveElem:r,startPos:e,endPos:e,type:t};return this.threeDElements.push(i),i},HybridRenderer.prototype.build3dContainers=function(){for(var e,t=this.layers.length,r="",n=0;n<t;n+=1)this.layers[n].ddd&&3!==this.layers[n].ty?"3d"!==r&&(r="3d",e=this.createThreeDContainer(n,"3d")):"2d"!==r&&(r="2d",e=this.createThreeDContainer(n,"2d")),e.endPos=Math.max(e.endPos,n);for(n=(t=this.threeDElements.length)-1;0<=n;n--)this.resizerElem.appendChild(this.threeDElements[n].perspectiveElem)},HybridRenderer.prototype.addTo3dContainer=function(e,t){for(var r=0,n=this.threeDElements.length;r<n;){if(t<=this.threeDElements[r].endPos){for(var i,o=this.threeDElements[r].startPos;o<t;)this.elements[o]&&this.elements[o].getBaseElement&&(i=this.elements[o].getBaseElement()),o+=1;i?this.threeDElements[r].container.insertBefore(e,i):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRenderer.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper;t.style.width=e.w+"px",t.style.height=e.h+"px",styleDiv(this.resizerElem=t),t.style.transformStyle=t.style.webkitTransformStyle=t.style.mozTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),t.style.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var i=createNS("defs");n.appendChild(i),this.data=e,this.setupGlobalData(e,n),this.globalData.defs=i,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRenderer.prototype.destroy=function(){this.animationItem.wrapper.innerHTML="",this.animationItem.container=null,this.globalData.defs=null;for(var e=this.layers?this.layers.length:0,t=0;t<e;t++)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRenderer.prototype.updateContainerSize=function(){var e,t,r,n=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,o=n/i<this.globalData.compSize.w/this.globalData.compSize.h?(e=n/this.globalData.compSize.w,t=n/this.globalData.compSize.w,r=0,(i-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(e=i/this.globalData.compSize.h,t=i/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,0);this.resizerElem.style.transform=this.resizerElem.style.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+o+",0,1)"},HybridRenderer.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRenderer.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRenderer.prototype.show=function(){this.resizerElem.style.display="block"},HybridRenderer.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else for(var e=this.globalData.compSize.w,t=this.globalData.compSize.h,r=this.threeDElements.length,n=0;n<r;n+=1)this.threeDElements[n].perspectiveElem.style.perspective=this.threeDElements[n].perspectiveElem.style.webkitPerspective=Math.sqrt(Math.pow(e,2)+Math.pow(t,2))+"px"},HybridRenderer.prototype.searchExtraCompositions=function(e){for(var t,r=e.length,n=createTag("div"),i=0;i<r;i+=1){e[i].xt&&((t=this.createComp(e[i],n,this.globalData.comp,null)).initExpressions(),this.globalData.projectInterface.registerComposition(t))}},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){for(var t,r=this.element.finalTransform.mat,n=this.masksProperties.length,i=0;i<n;i++){(this.viewData[i].prop._mdf||e)&&this.drawPath(this.masksProperties[i],this.viewData[i].prop.v,this.viewData[i]),(this.viewData[i].op._mdf||e)&&this.viewData[i].elem.setAttribute("fill-opacity",this.viewData[i].op.v),"n"!==this.masksProperties[i].mode&&(this.viewData[i].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[i].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[i].x&&(this.storedData[i].x._mdf||e))&&(t=this.storedData[i].expan,this.storedData[i].x.v<0?("erode"!==this.storedData[i].lastOperator&&(this.storedData[i].lastOperator="erode",this.storedData[i].elem.setAttribute("filter","url("+locationHref+"#"+this.storedData[i].filterId+")")),t.setAttribute("radius",-this.storedData[i].x.v)):("dilate"!==this.storedData[i].lastOperator&&(this.storedData[i].lastOperator="dilate",this.storedData[i].elem.setAttribute("filter",null)),this.storedData[i].elem.setAttribute("stroke-width",2*this.storedData[i].x.v)))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+(" v-"+this.globalData.compSize.h)+" "},MaskElement.prototype.drawPath=function(e,t,r){for(var n,i=" M"+t.v[0][0]+","+t.v[0][1],o=t._length,s=1;s<o;s+=1)i+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[s][0]+","+t.i[s][1]+" "+t.v[s][0]+","+t.v[s][1];t.c&&1<o&&(i+=" C"+t.o[s-1][0]+","+t.o[s-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==i&&(n="",r.elem&&(t.c&&(n=e.inv?this.solidPath+i:i),r.elem.setAttribute("d",n)),r.lastPath=i)},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){for(var r=this.dynamicProperties.length,n=0;n<r;n+=1)(t||this._isParent&&"transform"===this.dynamicProperties[n].propType)&&(this.dynamicProperties[n].getValue(),this.dynamicProperties[n]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,n=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<n;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<n;r+=1)e=this.hierarchy[r].finalTransform.mProp.v.props,t.transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r=!0,n=this.comp;r;)n.finalTransform?(n.data.hasMask&&t.splice(0,0,n.finalTransform),n=n.comp):r=!1;for(var i,o=t.length,s=0;s<o;s+=1)i=t[s].mat.applyToPointArray(0,0,0),e=[e[0]-i[0],e[1]-i[1],0];return e},mHelper:new Matrix},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){for(var e=this.renderableComponents.length,t=0;t<e;t+=1)this.renderableComponents[t].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),n=createNS(1===t.t?"linearGradient":"radialGradient");n.setAttribute("id",r),n.setAttribute("spreadMethod","pad"),n.setAttribute("gradientUnits","userSpaceOnUse");for(var i,o=[],s=4*t.g.p,a=0;a<s;a+=4)i=createNS("stop"),n.appendChild(i),o.push(i);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+locationHref+"#"+r+")"),this.gf=n,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,n,i=createNS("mask"),o=createNS("path");i.appendChild(o);var s=createElementID(),a=createElementID();i.setAttribute("id",a);var l=createNS(1===e.t?"linearGradient":"radialGradient");l.setAttribute("id",s),l.setAttribute("spreadMethod","pad"),l.setAttribute("gradientUnits","userSpaceOnUse"),n=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;for(var A=this.stops,u=4*e.g.p;u<n;u+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),l.appendChild(r),A.push(r);o.setAttribute("gf"===e.ty?"fill":"stroke","url("+locationHref+"#"+s+")"),this.of=l,this.ms=i,this.ost=A,this.maskId=a,t.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var SVGElementsRenderer=(fSc=new Matrix,gSc=new Matrix,{createRenderFunction:function(e){switch(e.ty,e.ty){case"fl":return jSc;case"gf":return lSc;case"gs":return kSc;case"st":return mSc;case"sh":case"el":case"rc":case"sr":return iSc;case"tr":return hSc}}}),fSc,gSc;function hSc(e,t,r){(r||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(r||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function iSc(e,t,r){for(var n,i,o,s,a,l,A,u,h,c,p=t.styles.length,d=t.lvl,f=0;f<p;f+=1){if(s=t.sh._mdf||r,t.styles[f].lvl<d){for(A=gSc.reset(),h=d-t.styles[f].lvl,c=t.transformers.length-1;!s&&0<h;)s=t.transformers[c].mProps._mdf||s,h--,c--;if(s)for(h=d-t.styles[f].lvl,c=t.transformers.length-1;0<h;)u=t.transformers[c].mProps.v.props,A.transform(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]),h--,c--}else A=fSc;if(i=(l=t.sh.paths)._length,s){for(o="",n=0;n<i;n+=1)(a=l.shapes[n])&&a._length&&(o+=buildShapeString(a,a._length,a.c,A));t.caches[f]=o}else o=t.caches[f];t.styles[f].d+=!0===e.hd?"":o,t.styles[f]._mdf=s||t.styles[f]._mdf}}function jSc(e,t,r){var n=t.style;(t.c._mdf||r)&&n.pElem.setAttribute("fill","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("fill-opacity",t.o.v)}function kSc(e,t,r){lSc(e,t,r),mSc(0,t,r)}function lSc(e,t,r){var n,i,o,s,a,l,A,u,h,c,p=t.gf,d=t.g._hasOpacity,f=t.s.v,g=t.e.v;if((t.o._mdf||r)&&(s="gf"===e.ty?"fill-opacity":"stroke-opacity",t.style.pElem.setAttribute(s,t.o.v)),(t.s._mdf||r)&&(l="x1"==(a=1===e.t?"x1":"cx")?"y1":"cy",p.setAttribute(a,f[0]),p.setAttribute(l,f[1]),d&&!t.g._collapsable&&(t.of.setAttribute(a,f[0]),t.of.setAttribute(l,f[1]))),t.g._cmdf||r){n=t.cst;for(var m=t.g.c,y=n.length,v=0;v<y;v+=1)(i=n[v]).setAttribute("offset",m[4*v]+"%"),i.setAttribute("stop-color","rgb("+m[4*v+1]+","+m[4*v+2]+","+m[4*v+3]+")")}if(d&&(t.g._omdf||r)){var _=t.g.o;for(y=(n=t.g._collapsable?t.cst:t.ost).length,v=0;v<y;v+=1)i=n[v],t.g._collapsable||i.setAttribute("offset",_[2*v]+"%"),i.setAttribute("stop-opacity",_[2*v+1])}1===e.t?(t.e._mdf||r)&&(p.setAttribute("x2",g[0]),p.setAttribute("y2",g[1]),d&&!t.g._collapsable&&(t.of.setAttribute("x2",g[0]),t.of.setAttribute("y2",g[1]))):((t.s._mdf||t.e._mdf||r)&&(o=Math.sqrt(Math.pow(f[0]-g[0],2)+Math.pow(f[1]-g[1],2)),p.setAttribute("r",o),d&&!t.g._collapsable&&t.of.setAttribute("r",o)),(t.e._mdf||t.h._mdf||t.a._mdf||r)&&(o=o||Math.sqrt(Math.pow(f[0]-g[0],2)+Math.pow(f[1]-g[1],2)),A=Math.atan2(g[1]-f[1],g[0]-f[0]),u=o*(1<=t.h.v?.99:t.h.v<=-1?-.99:t.h.v),h=Math.cos(A+t.a.v)*u+f[0],c=Math.sin(A+t.a.v)*u+f[1],p.setAttribute("fx",h),p.setAttribute("fy",c),d&&!t.g._collapsable&&(t.of.setAttribute("fx",h),t.of.setAttribute("fy",c))))}function mSc(e,t,r){var n=t.style,i=t.d;i&&(i._mdf||r)&&i.dashStr&&(n.pElem.setAttribute("stroke-dasharray",i.dashStr),n.pElem.setAttribute("stroke-dashoffset",i.dashoffset[0])),t.c&&(t.c._mdf||r)&&n.pElem.setAttribute("stroke","rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||r)&&n.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||r)&&(n.pElem.setAttribute("stroke-width",t.w.v),n.msElem&&n.msElem.setAttribute("stroke-width",t.w.v))}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}function CVShapeData(e,t,r,n){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var i=4;"rc"==t.ty?i=5:"el"==t.ty?i=6:"sr"==t.ty&&(i=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,i,e);for(var o,s=r.length,a=0;a<s;a+=1)r[a].closed||(o={transforms:n.addTransformSequence(r[a].transforms),trNodes:[]},this.styledShapes.push(o),r[a].elements.push(o))}function BaseElement(){}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGBaseElement(){}function IShapeElement(){}function ITextElement(){}function ICompElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ISolidElement(e,t,r){this.initElement(e,t,r)}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGTextElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function SVGTintFilter(e,t){this.filterManager=t;var r,n,i=createNS("feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","linearRGB"),i.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),i.setAttribute("result","f1"),e.appendChild(i),(i=createNS("feColorMatrix")).setAttribute("type","matrix"),i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),i.setAttribute("result","f2"),e.appendChild(i),this.matrixFilter=i,100===t.effectElements[2].p.v&&!t.effectElements[2].p.k||(n=createNS("feMerge"),e.appendChild(n),(r=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),n.appendChild(r),(r=createNS("feMergeNode")).setAttribute("in","f2"),n.appendChild(r))}function SVGFillFilter(e,t){this.filterManager=t;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),e.appendChild(r),this.matrixFilter=r}function SVGGaussianBlurEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var r=createNS("feGaussianBlur");e.appendChild(r),this.feGaussianBlur=r}function SVGStrokeEffect(e,t){this.initialized=!1,this.filterManager=t,this.elem=e,this.paths=[]}function SVGTritoneFilter(e,t){this.filterManager=t;var r=createNS("feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("color-interpolation-filters","linearRGB"),r.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),r.setAttribute("result","f1"),e.appendChild(r);var n=createNS("feComponentTransfer");n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),this.matrixFilter=n;var i=createNS("feFuncR");i.setAttribute("type","table"),n.appendChild(i),this.feFuncR=i;var o=createNS("feFuncG");o.setAttribute("type","table"),n.appendChild(o),this.feFuncG=o;var s=createNS("feFuncB");s.setAttribute("type","table"),n.appendChild(s),this.feFuncB=s}function SVGProLevelsFilter(e,t){this.filterManager=t;var r=this.filterManager.effectElements,n=createNS("feComponentTransfer");(r[10].p.k||0!==r[10].p.v||r[11].p.k||1!==r[11].p.v||r[12].p.k||1!==r[12].p.v||r[13].p.k||0!==r[13].p.v||r[14].p.k||1!==r[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",n)),(r[17].p.k||0!==r[17].p.v||r[18].p.k||1!==r[18].p.v||r[19].p.k||1!==r[19].p.v||r[20].p.k||0!==r[20].p.v||r[21].p.k||1!==r[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",n)),(r[24].p.k||0!==r[24].p.v||r[25].p.k||1!==r[25].p.v||r[26].p.k||1!==r[26].p.v||r[27].p.k||0!==r[27].p.v||r[28].p.k||1!==r[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",n)),(r[31].p.k||0!==r[31].p.v||r[32].p.k||1!==r[32].p.v||r[33].p.k||1!==r[33].p.v||r[34].p.k||0!==r[34].p.v||r[35].p.k||1!==r[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",n)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),n=createNS("feComponentTransfer")),(r[3].p.k||0!==r[3].p.v||r[4].p.k||1!==r[4].p.v||r[5].p.k||1!==r[5].p.v||r[6].p.k||0!==r[6].p.v||r[7].p.k||1!==r[7].p.v)&&(n.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(n),this.feFuncRComposed=this.createFeFunc("feFuncR",n),this.feFuncGComposed=this.createFeFunc("feFuncG",n),this.feFuncBComposed=this.createFeFunc("feFuncB",n))}function SVGDropShadowEffect(e,t){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","400%"),e.setAttribute("height","400%"),this.filterManager=t;var r=createNS("feGaussianBlur");r.setAttribute("in","SourceAlpha"),r.setAttribute("result","drop_shadow_1"),r.setAttribute("stdDeviation","0"),this.feGaussianBlur=r,e.appendChild(r);var n=createNS("feOffset");n.setAttribute("dx","25"),n.setAttribute("dy","0"),n.setAttribute("in","drop_shadow_1"),n.setAttribute("result","drop_shadow_2"),this.feOffset=n,e.appendChild(n);var i=createNS("feFlood");i.setAttribute("flood-color","#00ff00"),i.setAttribute("flood-opacity","1"),i.setAttribute("result","drop_shadow_3"),this.feFlood=i,e.appendChild(i);var o=createNS("feComposite");o.setAttribute("in","drop_shadow_3"),o.setAttribute("in2","drop_shadow_2"),o.setAttribute("operator","in"),o.setAttribute("result","drop_shadow_4"),e.appendChild(o);var s,a=createNS("feMerge");e.appendChild(a),s=createNS("feMergeNode"),a.appendChild(s),(s=createNS("feMergeNode")).setAttribute("in","SourceGraphic"),this.feMergeNode=s,this.feMerge=a,this.originalNodeAdded=!1,a.appendChild(s)}ShapeTransformManager.prototype={addTransformSequence:function(e){for(var t=e.length,r="_",n=0;n<t;n+=1)r+=e[n].transform.key+"_";var i=this.sequences[r];return i||(i={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[r]=i,this.sequenceList.push(i)),i},processSequence:function(e,t){for(var r,n=0,i=e.transforms.length,o=t;n<i&&!t;){if(e.transforms[n].transform.mProps._mdf){o=!0;break}n+=1}if(o)for(e.finalTransform.reset(),n=i-1;0<=n;--n)r=e.transforms[n].transform.mProps.v.props,e.finalTransform.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]);e._mdf=o},processSequences:function(e){for(var t=this.sequenceList.length,r=0;r<t;r+=1)this.processSequence(this.sequenceList[r],e)},getNewKey:function(){return"_"+this.transform_key_count++}},CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var e=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(e),0===this.data.ty||this.data.xt?this.compInterface=CompExpressionInterface(this):4===this.data.ty?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e,t,r,n,i,o,s,a,l,A,u,h,c,p=null;this.data.td?3==this.data.td||1==this.data.td?((n=createNS("mask")).setAttribute("id",this.layerId),n.setAttribute("mask-type",3==this.data.td?"luminance":"alpha"),n.appendChild(this.layerElement),p=n,this.globalData.defs.appendChild(n),featureSupport.maskType||1!=this.data.td||(n.setAttribute("mask-type","luminance"),e=createElementID(),t=filtersFactory.createFilter(e),this.globalData.defs.appendChild(t),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(r=createNS("g")).appendChild(this.layerElement),p=r,n.appendChild(r),r.setAttribute("filter","url("+locationHref+"#"+e+")"))):2==this.data.td&&((i=createNS("mask")).setAttribute("id",this.layerId),i.setAttribute("mask-type","alpha"),o=createNS("g"),i.appendChild(o),e=createElementID(),t=filtersFactory.createFilter(e),(s=createNS("feComponentTransfer")).setAttribute("in","SourceGraphic"),t.appendChild(s),(a=createNS("feFuncA")).setAttribute("type","table"),a.setAttribute("tableValues","1.0 0.0"),s.appendChild(a),this.globalData.defs.appendChild(t),(l=createNS("rect")).setAttribute("width",this.comp.data.w),l.setAttribute("height",this.comp.data.h),l.setAttribute("x","0"),l.setAttribute("y","0"),l.setAttribute("fill","#ffffff"),l.setAttribute("opacity","0"),o.setAttribute("filter","url("+locationHref+"#"+e+")"),o.appendChild(l),o.appendChild(this.layerElement),p=o,featureSupport.maskType||(i.setAttribute("mask-type","luminance"),t.appendChild(filtersFactory.createAlphaToLuminanceFilter()),r=createNS("g"),o.appendChild(l),r.appendChild(this.layerElement),p=r,o.appendChild(r)),this.globalData.defs.appendChild(i)):this.data.tt?(this.matteElement.appendChild(this.layerElement),p=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.ty||this.data.hd||(A=createNS("clipPath"),(u=createNS("path")).setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z"),h=createElementID(),A.setAttribute("id",h),A.appendChild(u),this.globalData.defs.appendChild(A),this.checkMasks()?((c=createNS("g")).setAttribute("clip-path","url("+locationHref+"#"+h+")"),c.appendChild(this.layerElement),this.transformedElement=c,p?p.appendChild(this.transformedElement):this.baseElement=this.transformedElement):this.layerElement.setAttribute("clip-path","url("+locationHref+"#"+h+")")),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+locationHref+"#"+e+")")}},IShapeElement.prototype={addShapeToModifiers:function(e){for(var t=this.shapeModifiers.length,r=0;r<t;r+=1)this.shapeModifiers[r].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){for(var e=this.shapes.length,t=0;t<e;t+=1)this.shapes[t].sh.reset();for(t=(e=this.shapeModifiers.length)-1;0<=t;--t)this.shapeModifiers[t].processShapes(this._isFirstFrame)}},lcEnum:{1:"butt",2:"round",3:"square"},ljEnum:{1:"miter",2:"round",3:"bevel"},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,n=t.length;r<n;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,n=r.length;n;)if(r[--n].elem===e)return void(r[n].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}},ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(e,t){for(var r,n=t.length,i="",o=0;o<n;o+=1)r=t[o].ks.k,i+=buildShapeString(r,r.i.length,!0,e);return i},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,n,i){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(n,i,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&t.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){var t;this.tm._placeholder?this.renderedFrame=e/this.data.sr:((t=this.tm.v)===this.data.op&&(t=this.data.op-1),this.renderedFrame=t);var r,n=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=n-1;0<=r;--r)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){for(var e=this.layers.length,t=0;t<e;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){for(var e=this.layers.length,t=0;t<e;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},extendPrototype([SVGRenderer,ICompElement,SVGBaseElement],SVGCompElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextElement),SVGTextElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,n=[],i="";t<r;)e[t]===String.fromCharCode(13)||e[t]===String.fromCharCode(3)?(n.push(i),i=""):i+=e[t],t+=1;return n.push(i),n},SVGTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e?e.l.length:0),e.fc?this.layerElement.setAttribute("fill",this.buildColor(e.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),e.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(e.sc)),this.layerElement.setAttribute("stroke-width",e.sw)),this.layerElement.setAttribute("font-size",e.finalSize);var t,r,n=this.globalData.fontManager.getFontByName(e.f);n.fClass?this.layerElement.setAttribute("class",n.fClass):(this.layerElement.setAttribute("font-family",n.fFamily),t=e.fWeight,r=e.fStyle,this.layerElement.setAttribute("font-style",r),this.layerElement.setAttribute("font-weight",t)),this.layerElement.setAttribute("aria-label",e.t);var i,o=e.l||[],s=!!this.globalData.fontManager.chars;w=o.length;var a,l=this.mHelper,A="",u=this.data.singleShape,h=0,c=0,p=!0,d=e.tr/1e3*e.finalSize;if(!u||s||e.sz){for(var f,g,m=this.textSpans.length,y=0;y<w;y+=1)s&&u&&0!==y||(i=y<m?this.textSpans[y]:createNS(s?"path":"text"),m<=y&&(i.setAttribute("stroke-linecap","butt"),i.setAttribute("stroke-linejoin","round"),i.setAttribute("stroke-miterlimit","4"),this.textSpans[y]=i,this.layerElement.appendChild(i)),i.style.display="inherit"),l.reset(),l.scale(e.finalSize/100,e.finalSize/100),u&&(o[y].n&&(h=-d,c+=e.yOffset,c+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(e,l,o[y].line,h,c),h+=o[y].l||0,h+=d),s?(a=(f=(g=this.globalData.fontManager.getCharData(e.finalText[y],n.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&g.data||{}).shapes?f.shapes[0].it:[],u?A+=this.createPathShape(l,a):i.setAttribute("d",this.createPathShape(l,a))):(u&&i.setAttribute("transform","translate("+l.props[12]+","+l.props[13]+")"),i.textContent=o[y].val,i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"));u&&i&&i.setAttribute("d",A)}else{var v=this.textContainer,_="start";switch(e.j){case 1:_="end";break;case 2:_="middle"}v.setAttribute("text-anchor",_),v.setAttribute("letter-spacing",d);var E=this.buildTextContents(e.finalText),w=E.length,c=e.ps?e.ps[1]+e.ascent:0;for(y=0;y<w;y+=1)(i=this.textSpans[y]||createNS("tspan")).textContent=E[y],i.setAttribute("x",0),i.setAttribute("y",c),i.style.display="inherit",v.appendChild(i),this.textSpans[y]=i,c+=e.finalLineHeight;this.layerElement.appendChild(v)}for(;y<this.textSpans.length;)this.textSpans[y].style.display="none",y+=1;this._sizeChanged=!0},SVGTextElement.prototype.sourceRectAtTime=function(e){var t;return this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged&&(this._sizeChanged=!1,t=this.layerElement.getBBox(),this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}),this.bbox},SVGTextElement.prototype.renderInnerContent=function(){if(!this.data.singleShape&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;for(var e,t,r=this.textAnimator.renderedLetters,n=this.textProperty.currentData.l,i=n.length,o=0;o<i;o+=1)n[o].n||(e=r[o],t=this.textSpans[o],e._mdf.m&&t.setAttribute("transform",e.m),e._mdf.o&&t.setAttribute("opacity",e.o),e._mdf.sw&&t.setAttribute("stroke-width",e.sw),e._mdf.sc&&t.setAttribute("stroke",e.sc),e._mdf.fc&&t.setAttribute("fill",e.fc))}},extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){for(var e,t,r,n=this.shapes.length,i=this.stylesList.length,o=[],s=!1,a=0;a<i;a+=1){for(r=this.stylesList[a],s=!1,e=o.length=0;e<n;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(r)&&(o.push(t),s=t._isAnimated||s);1<o.length&&s&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){for(var t=e.length,r=0;r<t;r+=1)e[r].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,n=new SVGStyleData(e,t),i=n.pElem;return"st"===e.ty?r=new SVGStrokeStyleData(this,e,n):"fl"===e.ty?r=new SVGFillStyleData(this,e,n):"gf"!==e.ty&&"gs"!==e.ty||(r=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,n),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),i.setAttribute("mask","url("+locationHref+"#"+r.maskId+")"))),"st"!==e.ty&&"gs"!==e.ty||(i.setAttribute("stroke-linecap",this.lcEnum[e.lc]||"round"),i.setAttribute("stroke-linejoin",this.ljEnum[e.lj]||"round"),i.setAttribute("fill-opacity","0"),1===e.lj&&i.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&i.setAttribute("fill-rule","evenodd"),e.ln&&i.setAttribute("id",e.ln),e.cl&&i.setAttribute("class",e.cl),e.bm&&(i.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(n),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),n=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var n=4;"rc"===e.ty?n=5:"el"===e.ty?n=6:"sr"===e.ty&&(n=7);var i=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,n,this));return this.shapes.push(i),this.addShapeToModifiers(i),this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,n=this.animatedContents.length;r<n;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){for(var t=e.styles,r=this.stylesList.length,n=0;n<r;n+=1)this.stylesList[n].closed||t.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;for(var e=this.itemsData.length,t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,n,i,o,s){for(var a,l,A,u,h,c=[].concat(o),p=e.length-1,d=[],f=[],g=p;0<=g;--g){if((h=this.searchProcessedElement(e[g]))?t[g]=r[h-1]:e[g]._render=s,"fl"==e[g].ty||"st"==e[g].ty||"gf"==e[g].ty||"gs"==e[g].ty)h?t[g].style.closed=!1:t[g]=this.createStyleElement(e[g],i),e[g]._render&&n.appendChild(t[g].style.pElem),d.push(t[g].style);else if("gr"==e[g].ty){if(h)for(l=t[g].it.length,a=0;a<l;a+=1)t[g].prevViewData[a]=t[g].it[a];else t[g]=this.createGroupElement(e[g]);this.searchShapes(e[g].it,t[g].it,t[g].prevViewData,t[g].gr,i+1,c,s),e[g]._render&&n.appendChild(t[g].gr)}else"tr"==e[g].ty?(h||(t[g]=this.createTransformElement(e[g],n)),A=t[g].transform,c.push(A)):"sh"==e[g].ty||"rc"==e[g].ty||"el"==e[g].ty||"sr"==e[g].ty?(h||(t[g]=this.createShapeElement(e[g],c,i)),this.setElementStyles(t[g])):"tm"==e[g].ty||"rd"==e[g].ty||"ms"==e[g].ty?(h?(u=t[g]).closed=!1:((u=ShapeModifiers.getModifier(e[g].ty)).init(this,e[g]),t[g]=u,this.shapeModifiers.push(u)),f.push(u)):"rp"==e[g].ty&&(h?(u=t[g]).closed=!0:(u=ShapeModifiers.getModifier(e[g].ty),(t[g]=u).init(this,e,g,t),this.shapeModifiers.push(u),s=!1),f.push(u));this.addProcessedElement(e[g],g+1)}for(p=d.length,g=0;g<p;g+=1)d[g].closed=!0;for(p=f.length,g=0;g<p;g+=1)f[g].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();for(var e=this.stylesList.length,t=0;t<e;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<e;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){for(var e,t=this.animatedContents.length,r=0;r<t;r+=1)e=this.animatedContents[r],(this._isFirstFrame||e.element._isAnimated)&&!0!==e.data&&e.fn(e.data,e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},SVGTintFilter.prototype.renderFrame=function(e){var t,r,n;(e||this.filterManager._mdf)&&(t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,n=this.filterManager.effectElements[2].p.v/100,this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 "+n+" 0"))},SVGFillFilter.prototype.renderFrame=function(e){var t,r;(e||this.filterManager._mdf)&&(t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v,this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0"))},SVGGaussianBlurEffect.prototype.renderFrame=function(e){var t,r,n,i,o;(e||this.filterManager._mdf)&&(t=.3*this.filterManager.effectElements[0].p.v,n=3==(r=this.filterManager.effectElements[1].p.v)?0:t,i=2==r?0:t,this.feGaussianBlur.setAttribute("stdDeviation",n+" "+i),o=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate",this.feGaussianBlur.setAttribute("edgeMode",o))},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,n,i=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(n=this.elem.maskManager.masksProperties.length,r=0):n=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<n;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(3===this.filterManager.effectElements[10].p.v){var o=createNS("mask"),s=createElementID();o.setAttribute("id",s),o.setAttribute("mask-type","alpha"),o.appendChild(t),this.elem.globalData.defs.appendChild(o);var a=createNS("g");for(a.setAttribute("mask","url("+locationHref+"#"+s+")");i[0];)a.appendChild(i[0]);this.elem.layerElement.appendChild(a),this.masker=o,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(i=this.elem.layerElement.children||this.elem.layerElement.childNodes;i.length;)this.elem.layerElement.removeChild(i[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();for(var t,r,n,i=this.paths.length,o=0;o<i;o+=1)if(-1!==this.paths[o].m&&(t=this.elem.maskManager.viewData[this.paths[o].m],r=this.paths[o].p,(e||this.filterManager._mdf||t.prop._mdf)&&r.setAttribute("d",t.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||t.prop._mdf)){if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){for(var s=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,a=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)/100,l=r.getTotalLength(),A="0 0 0 "+l*s+" ",u=l*(a-s),h=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100,c=Math.floor(u/h),p=0;p<c;p+=1)A+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100+" ";A+="0 "+10*l+" 0 0"}else A="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v/100;r.setAttribute("stroke-dasharray",A)}(e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),1!==this.filterManager.effectElements[10].p.v&&2!==this.filterManager.effectElements[10].p.v||!e&&!this.filterManager.effectElements[3].p._mdf||(n=this.filterManager.effectElements[3].p.v,this.pathMasker.setAttribute("stroke","rgb("+bm_floor(255*n[0])+","+bm_floor(255*n[1])+","+bm_floor(255*n[2])+")"))},SVGTritoneFilter.prototype.renderFrame=function(e){var t,r,n,i,o,s;(e||this.filterManager._mdf)&&(t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=(n=this.filterManager.effectElements[2].p.v)[0]+" "+r[0]+" "+t[0],o=n[1]+" "+r[1]+" "+t[1],s=n[2]+" "+r[2]+" "+t[2],this.feFuncR.setAttribute("tableValues",i),this.feFuncG.setAttribute("tableValues",o),this.feFuncB.setAttribute("tableValues",s))},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,n,i){for(var o,s,a=0,l=Math.min(e,t),A=Math.max(e,t),u=Array.call(null,{length:256}),h=0,c=i-n,p=t-e;a<=256;)s=(o=a/256)<=l?p<0?i:n:A<=o?p<0?n:i:n+c*Math.pow((o-e)/p,1/r),u[h++]=s,a+=256/255;return u.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){var t,r;(e||this.filterManager._mdf)&&(r=this.filterManager.effectElements,this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t)))},SVGDropShadowEffect.prototype.renderFrame=function(e){var t,r,n,i,o;(e||this.filterManager._mdf)&&((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),(e||this.filterManager.effectElements[0].p._mdf)&&(t=this.filterManager.effectElements[0].p.v,this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))),(e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),(e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf)&&(r=this.filterManager.effectElements[3].p.v,n=(this.filterManager.effectElements[2].p.v-90)*degToRads,i=r*Math.cos(n),o=r*Math.sin(n),this.feOffset.setAttribute("dx",i),this.feOffset.setAttribute("dy",o)))};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,(this.elem=r).matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGEffects(e){var t,r,n=e.data.ef?e.data.ef.length:0,i=createElementID(),o=filtersFactory.createFilter(i),s=0;for(this.filters=[],t=0;t<n;t+=1)r=null,20===e.data.ef[t].ty?(s+=1,r=new SVGTintFilter(o,e.effectsManager.effectElements[t])):21===e.data.ef[t].ty?(s+=1,r=new SVGFillFilter(o,e.effectsManager.effectElements[t])):22===e.data.ef[t].ty?r=new SVGStrokeEffect(e,e.effectsManager.effectElements[t]):23===e.data.ef[t].ty?(s+=1,r=new SVGTritoneFilter(o,e.effectsManager.effectElements[t])):24===e.data.ef[t].ty?(s+=1,r=new SVGProLevelsFilter(o,e.effectsManager.effectElements[t])):25===e.data.ef[t].ty?(s+=1,r=new SVGDropShadowEffect(o,e.effectsManager.effectElements[t])):28===e.data.ef[t].ty?r=new SVGMatte3Effect(o,e.effectsManager.effectElements[t],e):29===e.data.ef[t].ty&&(s+=1,r=new SVGGaussianBlurEffect(o,e.effectsManager.effectElements[t])),r&&this.filters.push(r);s&&(e.globalData.defs.appendChild(o),e.layerElement.setAttribute("filter","url("+locationHref+"#"+i+")")),this.filters.length&&e.addRenderableComponent(this)}function CVContextData(){var e;for(this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1,this.savedOp=createTypedArray("float32",15),e=0;e<15;e+=1)this.saved[e]=createTypedArray("float32",16);this._length=15}function CVBaseElement(){}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getImage(this.assetData),this.initElement(e,t,r)}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CVMaskElement(e,t){this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);for(var r=this.masksProperties.length,n=!1,i=0;i<r;i++)"n"!==this.masksProperties[i].mode&&(n=!0),this.viewData[i]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[i],3);(this.hasMasks=n)&&this.element.addRenderableComponent(this)}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVEffects(){}function HBaseElement(e,t,r){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var n=PropertyFactory.getProp;if(this.pe=n(this,e.pe,0,0,this),e.ks.p.s?(this.px=n(this,e.ks.p.x,1,0,this),this.py=n(this,e.ks.p.y,1,0,this),this.pz=n(this,e.ks.p.z,1,0,this)):this.p=n(this,e.ks.p,1,0,this),e.ks.a&&(this.a=n(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to)for(var i=e.ks.or.k.length,o=0;o<i;o+=1)e.ks.or.k[o].to=null,e.ks.or.k[o].ti=null;this.or=n(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=n(this,e.ks.rx,0,degToRads,this),this.ry=n(this,e.ks.ry,0,degToRads,this),this.rz=n(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HEffects(){}SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var n,i=r.children,o=0,s=i.length;o<s&&i[o]!==e.layerElement;)o+=1;o<=s-2&&(n=i[o+1]);var a=createNS("use");a.setAttribute("href","#"+t),n?r.insertBefore(a,n):r.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){var r,n,i,o,s;this.findSymbol(t)||(r=createElementID(),(n=createNS("mask")).setAttribute("id",t.layerId),n.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t),(i=e.globalData.defs).appendChild(n),(o=createNS("symbol")).setAttribute("id",r),this.replaceInParent(t,r),o.appendChild(t.layerElement),i.appendChild(o),(s=createNS("use")).setAttribute("href","#"+r),n.appendChild(s),t.data.hd=!1,t.show()),e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,n=t.length;r<n;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGEffects.prototype.renderFrame=function(e){for(var t=this.filters.length,r=0;r<t;r+=1)this.filters[r].renderFrame(e)},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=this.savedOp;this.savedOp=createTypedArray("float32",e),this.savedOp.set(t);for(var r=0,r=this._length;r<e;r+=1)this.saved[r]=createTypedArray("float32",16);this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1},CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var e,t=this.globalData;t.blendMode!==this.data.bm&&(t.blendMode=this.data.bm,e=getBlendMode(this.data.bm),t.canvasContext.globalCompositeOperation=e)},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){var e;this.hidden||this.data.hd||(this.renderTransform(),this.renderRenderable(),this.setBlendMode(),e=0===this.data.ty,this.globalData.renderer.save(e),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(e),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){var e,t,r,n,i,o,s,a,l;!this.img.width||this.assetData.w===this.img.width&&this.assetData.h===this.img.height||((e=createTag("canvas")).width=this.assetData.w,e.height=this.assetData.h,n=e.getContext("2d"),s=(i=this.img.width)/(o=this.img.height),a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio,a<s&&"xMidYMid slice"===l||s<a&&"xMidYMid slice"!==l?t=(r=o)*a:r=(t=i)/a,n.drawImage(this.img,(i-t)/2,(o-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e)},CVImageElement.prototype.renderInnerContent=function(e){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([CanvasRenderer,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;0<=e;--e)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){for(var e=this.layers.length-1;0<=e;--e)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,n,i=this.element.finalTransform.mat,o=this.element.canvasContext,s=this.masksProperties.length;for(o.beginPath(),e=0;e<s;e++)if("n"!==this.masksProperties[e].mode){this.masksProperties[e].inv&&(o.moveTo(0,0),o.lineTo(this.element.globalData.compSize.w,0),o.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),o.lineTo(0,this.element.globalData.compSize.h),o.lineTo(0,0)),n=this.viewData[e].v,t=i.applyToPointArray(n.v[0][0],n.v[0][1],0),o.moveTo(t[0],t[1]);for(var a=n._length,l=1;l<a;l++)r=i.applyToTriplePoints(n.o[l-1],n.i[l],n.v[l]),o.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=i.applyToTriplePoints(n.o[l-1],n.i[0],n.v[0]),o.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),o.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r,n={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},i={};return"fl"==e.ty||"st"==e.ty?(i.c=PropertyFactory.getProp(this,e.c,1,255,this),i.c.k||(n.co="rgb("+bm_floor(i.c.v[0])+","+bm_floor(i.c.v[1])+","+bm_floor(i.c.v[2])+")")):"gf"!==e.ty&&"gs"!==e.ty||(i.s=PropertyFactory.getProp(this,e.s,1,null,this),i.e=PropertyFactory.getProp(this,e.e,1,null,this),i.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,e.g,this)),i.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"==e.ty||"gs"==e.ty?(n.lc=this.lcEnum[e.lc]||"round",n.lj=this.ljEnum[e.lj]||"round",1==e.lj&&(n.ml=e.ml),i.w=PropertyFactory.getProp(this,e.w,0,null,this),i.w.k||(n.wi=i.w.v),e.d&&(r=new DashProperty(this,e.d,"canvas",this),i.d=r,i.d.k||(n.da=i.d.dashArray,n.do=i.d.dashoffset[0]))):n.r=2===e.r?"evenodd":"nonzero",this.stylesList.push(n),i.style=n,i},CVShapeElement.prototype.createGroupElement=function(e){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;for(var e=this.itemsData.length,t=0;t<e;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,t=0;t<e;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){for(var t=this.stylesList.length,r=0;r<t;r+=1)this.stylesList[r].closed||this.stylesList[r].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){for(var e=this.stylesList.length,t=0;t<e;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){for(var t=e.length,r=0;r<t;r+=1)e[r].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,n,i){for(var o,s,a,l,A,u=e.length-1,h=[],c=[],p=[].concat(i),d=u;0<=d;--d){if((a=this.searchProcessedElement(e[d]))?t[d]=r[a-1]:e[d]._shouldRender=n,"fl"==e[d].ty||"st"==e[d].ty||"gf"==e[d].ty||"gs"==e[d].ty)a?t[d].style.closed=!1:t[d]=this.createStyleElement(e[d],p),h.push(t[d].style);else if("gr"==e[d].ty){if(a)for(s=t[d].it.length,o=0;o<s;o+=1)t[d].prevViewData[o]=t[d].it[o];else t[d]=this.createGroupElement(e[d]);this.searchShapes(e[d].it,t[d].it,t[d].prevViewData,n,p)}else"tr"==e[d].ty?(a||(A=this.createTransformElement(e[d]),t[d]=A),p.push(t[d]),this.addTransformToStyleList(t[d])):"sh"==e[d].ty||"rc"==e[d].ty||"el"==e[d].ty||"sr"==e[d].ty?a||(t[d]=this.createShapeElement(e[d])):"tm"==e[d].ty||"rd"==e[d].ty?(a?(l=t[d]).closed=!1:((l=ShapeModifiers.getModifier(e[d].ty)).init(this,e[d]),t[d]=l,this.shapeModifiers.push(l)),c.push(l)):"rp"==e[d].ty&&(a?(l=t[d]).closed=!0:(l=ShapeModifiers.getModifier(e[d].ty),(t[d]=l).init(this,e,d,t),this.shapeModifiers.push(l),n=!1),c.push(l));this.addProcessedElement(e[d],d+1)}for(this.removeTransformFromStyleList(),this.closeStyles(h),u=c.length,d=0;d<u;d+=1)c[d].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){for(var e,t,r,n,i,o,s,a,l=this.stylesList.length,A=this.globalData.renderer,u=this.globalData.canvasContext,h=0;h<l;h+=1)if(("st"!==(s=(a=this.stylesList[h]).type)&&"gs"!==s||0!==a.wi)&&a.data._shouldRender&&0!==a.coOp&&0!==this.globalData.currentGlobalAlpha){for(A.save(),i=a.elements,"st"===s||"gs"===s?(u.strokeStyle="st"===s?a.co:a.grd,u.lineWidth=a.wi,u.lineCap=a.lc,u.lineJoin=a.lj,u.miterLimit=a.ml||0):u.fillStyle="fl"===s?a.co:a.grd,A.ctxOpacity(a.coOp),"st"!==s&&"gs"!==s&&u.beginPath(),A.ctxTransform(a.preTransforms.finalTransform.props),t=i.length,e=0;e<t;e+=1){for("st"!==s&&"gs"!==s||(u.beginPath(),a.da&&(u.setLineDash(a.da),u.lineDashOffset=a.do)),n=(o=i[e].trNodes).length,r=0;r<n;r+=1)"m"==o[r].t?u.moveTo(o[r].p[0],o[r].p[1]):"c"==o[r].t?u.bezierCurveTo(o[r].pts[0],o[r].pts[1],o[r].pts[2],o[r].pts[3],o[r].pts[4],o[r].pts[5]):u.closePath();"st"!==s&&"gs"!==s||(u.stroke(),a.da&&u.setLineDash(this.dashResetter))}"st"!==s&&"gs"!==s&&u.fill(a.r),A.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,n){for(var i=e,o=t.length-1;0<=o;--o)"tr"==t[o].ty?(i=r[o].transform,this.renderShapeTransform(e,i)):"sh"==t[o].ty||"el"==t[o].ty||"rc"==t[o].ty||"sr"==t[o].ty?this.renderPath(t[o],r[o]):"fl"==t[o].ty?this.renderFill(t[o],r[o],i):"st"==t[o].ty?this.renderStroke(t[o],r[o],i):"gf"==t[o].ty||"gs"==t[o].ty?this.renderGradientFill(t[o],r[o],i):"gr"==t[o].ty?this.renderShape(i,t[o].it,r[o].it):t[o].ty;n&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,n,i=e.trNodes,o=t.paths,s=o._length;i.length=0;for(var a=e.transforms.finalTransform,l=0;l<s;l+=1){var A=o.shapes[l];if(A&&A.v){for(n=A._length,r=1;r<n;r+=1)1===r&&i.push({t:"m",p:a.applyToPointArray(A.v[0][0],A.v[0][1],0)}),i.push({t:"c",pts:a.applyToTriplePoints(A.o[r-1],A.i[r],A.v[r])});1===n&&i.push({t:"m",p:a.applyToPointArray(A.v[0][0],A.v[0][1],0)}),A.c&&n&&(i.push({t:"c",pts:a.applyToTriplePoints(A.o[r-1],A.i[0],A.v[0])}),i.push({t:"z"}))}}e.trNodes=i}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender)for(var r=t.styledShapes.length,n=0;n<r;n+=1)this.renderStyledShape(t.styledShapes[n],t.sh)},CVShapeElement.prototype.renderFill=function(e,t,r){var n=t.style;(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var n=t.style;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){for(var i,o,s,a,l,A=this.globalData.canvasContext,u=t.s.v,h=t.e.v,c=1===e.t?A.createLinearGradient(u[0],u[1],h[0],h[1]):(i=Math.sqrt(Math.pow(u[0]-h[0],2)+Math.pow(u[1]-h[1],2)),o=Math.atan2(h[1]-u[1],h[0]-u[0]),s=i*(1<=t.h.v?.99:t.h.v<=-1?-.99:t.h.v),a=Math.cos(o+t.a.v)*s+u[0],l=Math.sin(o+t.a.v)*s+u[1],A.createRadialGradient(a,l,0,u[0],u[1],i)),p=e.g.p,d=t.g.c,f=1,g=0;g<p;g+=1)t.g._hasOpacity&&t.g._collapsable&&(f=t.g.o[2*g+1]),c.addColorStop(d[4*g]/100,"rgba("+d[4*g+1]+","+d[4*g+2]+","+d[4*g+3]+","+f+")");n.grd=c}n.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var n=t.style,i=t.d;i&&(i._mdf||this._isFirstFrame)&&(n.da=i.dashArray,n.do=i.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(n.co="rgb("+bm_floor(t.c.v[0])+","+bm_floor(t.c.v[1])+","+bm_floor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(n.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(n.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var e=this.canvasContext;e.fillStyle=this.data.sc,e.fillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var n,i=this.globalData.fontManager.getFontByName(e.f),o=e.l,s=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,n=e.finalText.length;for(var a,l,A,u,h,c,p,d,f,g,m=this.data.singleShape,y=e.tr/1e3*e.finalSize,v=0,_=0,E=!0,w=0,b=0;b<n;b+=1){for(l=(a=this.globalData.fontManager.getCharData(e.finalText[b],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&a.data||{},s.reset(),m&&o[b].n&&(v=-y,_+=e.yOffset,_+=E?1:0,E=!1),p=(h=l.shapes?l.shapes[0].it:[]).length,s.scale(e.finalSize/100,e.finalSize/100),m&&this.applyTextPropertiesToMatrix(e,s,o[b].line,v,_),f=createSizedArray(p),c=0;c<p;c+=1){for(u=h[c].ks.k.i.length,d=h[c].ks.k,g=[],A=1;A<u;A+=1)1==A&&g.push(s.applyToX(d.v[0][0],d.v[0][1],0),s.applyToY(d.v[0][0],d.v[0][1],0)),g.push(s.applyToX(d.o[A-1][0],d.o[A-1][1],0),s.applyToY(d.o[A-1][0],d.o[A-1][1],0),s.applyToX(d.i[A][0],d.i[A][1],0),s.applyToY(d.i[A][0],d.i[A][1],0),s.applyToX(d.v[A][0],d.v[A][1],0),s.applyToY(d.v[A][0],d.v[A][1],0));g.push(s.applyToX(d.o[A-1][0],d.o[A-1][1],0),s.applyToY(d.o[A-1][0],d.o[A-1][1],0),s.applyToX(d.i[0][0],d.i[0][1],0),s.applyToY(d.i[0][0],d.i[0][1],0),s.applyToX(d.v[0][0],d.v[0][1],0),s.applyToY(d.v[0][0],d.v[0][1],0)),f[c]=g}m&&(v+=o[b].l,v+=y),this.textSpans[w]?this.textSpans[w].elem=f:this.textSpans[w]={elem:f},w+=1}},CVTextElement.prototype.renderInnerContent=function(){var e,t,r,n,i=this.canvasContext;this.finalTransform.mat.props,i.font=this.values.fValue,i.lineCap="butt",i.lineJoin="miter",i.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);for(var o,s,a,l=this.textAnimator.renderedLetters,A=this.textProperty.currentData.l,u=A.length,h=null,c=null,p=null,d=0;d<u;d+=1)if(!A[d].n){if((o=l[d])&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(o.p),this.globalData.renderer.ctxOpacity(o.o)),this.fill){for(o&&o.fc?h!==o.fc&&(h=o.fc,i.fillStyle=o.fc):h!==this.values.fill&&(h=this.values.fill,i.fillStyle=this.values.fill),t=(s=this.textSpans[d].elem).length,this.globalData.canvasContext.beginPath(),e=0;e<t;e+=1)for(n=(a=s[e]).length,this.globalData.canvasContext.moveTo(a[0],a[1]),r=2;r<n;r+=6)this.globalData.canvasContext.bezierCurveTo(a[r],a[r+1],a[r+2],a[r+3],a[r+4],a[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(o&&o.sw?p!==o.sw&&(p=o.sw,i.lineWidth=o.sw):p!==this.values.sWidth&&(p=this.values.sWidth,i.lineWidth=this.values.sWidth),o&&o.sc?c!==o.sc&&(c=o.sc,i.strokeStyle=o.sc):c!==this.values.stroke&&(c=this.values.stroke,i.strokeStyle=this.values.stroke),t=(s=this.textSpans[d].elem).length,this.globalData.canvasContext.beginPath(),e=0;e<t;e+=1)for(n=(a=s[e]).length,this.globalData.canvasContext.moveTo(a[0],a[1]),r=2;r<n;r+=6)this.globalData.canvasContext.bezierCurveTo(a[r],a[r+1],a[r+2],a[r+3],a[r+4],a[r+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}o&&this.globalData.renderer.restore()}},CVEffects.prototype.renderFrame=function(){},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&(this.transformedElement.style.transform=this.transformedElement.style.webkitTransform=this.finalTransform.mat.toCSS()),this.finalTransform._opMdf&&(this.transformedElement.style.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=HybridRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([HybridRenderer,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,n=0;n<t;)this.elements[n]&&this.elements[n].getBaseElement&&(r=this.elements[n].getBaseElement()),n+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e,t;this.baseElement.style.fontSize=0,this.data.hasMask?(this.layerElement.appendChild(this.shapesContainer),e=this.svgElement):(e=createNS("svg"),t=this.comp.data?this.comp.data:this.globalData.compSize,e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)),this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){for(var r=e.length,n=0;n<r;n+=1)t=e[n].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,n,i,o,s,a=e.sh.v,l=e.transformers,A=a._length;if(!(A<=1)){for(r=0;r<A-1;r+=1)n=this.getTransformedPoint(l,a.v[r]),i=this.getTransformedPoint(l,a.o[r]),o=this.getTransformedPoint(l,a.i[r+1]),s=this.getTransformedPoint(l,a.v[r+1]),this.checkBounds(n,i,o,s,t);a.c&&(n=this.getTransformedPoint(l,a.v[r]),i=this.getTransformedPoint(l,a.o[r]),o=this.getTransformedPoint(l,a.i[0]),s=this.getTransformedPoint(l,a.v[0]),this.checkBounds(n,i,o,s,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,n,i){this.getBoundsOfCurve(e,t,r,n);var o=this.shapeBoundingBox;i.x=bm_min(o.left,i.x),i.xMax=bm_max(o.right,i.xMax),i.y=bm_min(o.top,i.y),i.yMax=bm_max(o.bottom,i.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,n){for(var i,o,s,a,l,A,u,h=[[e[0],n[0]],[e[1],n[1]]],c=0;c<2;++c)if(o=6*e[c]-12*t[c]+6*r[c],i=-3*e[c]+9*t[c]-9*r[c]+3*n[c],s=3*t[c]-3*e[c],o|=0,s|=0,0!=(i|=0))(l=o*o-4*s*i)<0||(0<(A=(-o+bm_sqrt(l))/(2*i))&&A<1&&h[c].push(this.calculateF(A,e,t,r,n,c)),0<(u=(-o-bm_sqrt(l))/(2*i))&&u<1&&h[c].push(this.calculateF(u,e,t,r,n,c)));else{if(0==o)continue;0<(a=-s/o)&&a<1&&h[c].push(this.calculateF(a,e,t,r,n,c))}this.shapeBoundingBox.left=bm_min.apply(null,h[0]),this.shapeBoundingBox.top=bm_min.apply(null,h[1]),this.shapeBoundingBox.right=bm_max.apply(null,h[0]),this.shapeBoundingBox.bottom=bm_max.apply(null,h[1])},HShapeElement.prototype.calculateF=function(e,t,r,n,i,o){return bm_pow(1-e,3)*t[o]+3*bm_pow(1-e,2)*e*r[o]+3*(1-e)*bm_pow(e,2)*n[o]+bm_pow(e,3)*i[o]},HShapeElement.prototype.calculateBoundingBox=function(e,t){for(var r=e.length,n=0;n<r;n+=1)e[n]&&e[n].sh?this.calculateShapeBoundingBox(e[n],t):e[n]&&e[n].it&&this.calculateBoundingBox(e[n].it,t)},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),!r&&this.currentBBox.x===e.x&&this.currentBBox.y===e.y||(this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.shapeCont.style.transform=this.shapeCont.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)")}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){var e;this.isMasked=this.checkMasks(),this.isMasked?(this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH),e=createNS("g"),this.maskedElement.appendChild(e),this.innerElem=e):(this.renderType="html",this.innerElem=this.layerElement),this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style;t.color=t.fill=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)",e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var r,n,i=this.globalData.fontManager.getFontByName(e.f);this.globalData.fontManager.chars||(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass?this.innerElem.className=i.fClass:(t.fontFamily=i.fFamily,r=e.fWeight,n=e.fStyle,t.fontStyle=n,t.fontWeight=r));for(var o,s,a,l,A,u,h,c,p=e.l,d=p.length,f=this.mHelper,g=0,m=0;m<d;m+=1){this.globalData.fontManager.chars?(this.textPaths[g]?o=this.textPaths[g]:((o=createNS("path")).setAttribute("stroke-linecap","butt"),o.setAttribute("stroke-linejoin","round"),o.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[g]?a=(s=this.textSpans[g]).children[0]:((s=createTag("div")).style.lineHeight=0,(a=createNS("svg")).appendChild(o),styleDiv(s)))):this.isMasked?o=this.textPaths[g]?this.textPaths[g]:createNS("text"):this.textSpans[g]?(s=this.textSpans[g],o=this.textPaths[g]):(styleDiv(s=createTag("span")),styleDiv(o=createTag("span")),s.appendChild(o)),this.globalData.fontManager.chars?(c=(u=this.globalData.fontManager.getCharData(e.finalText[m],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))?u.data:null,f.reset(),c&&c.shapes&&(l=c.shapes[0].it,f.scale(e.finalSize/100,e.finalSize/100),A=this.createPathShape(f,l),o.setAttribute("d",A)),this.isMasked?this.innerElem.appendChild(o):(this.innerElem.appendChild(s),c&&c.shapes?(document.body.appendChild(a),h=a.getBBox(),a.setAttribute("width",h.width+2),a.setAttribute("height",h.height+2),a.setAttribute("viewBox",h.x-1+" "+(h.y-1)+" "+(h.width+2)+" "+(h.height+2)),a.style.transform=a.style.webkitTransform="translate("+(h.x-1)+"px,"+(h.y-1)+"px)",p[m].yOffset=h.y-1):(a.setAttribute("width",1),a.setAttribute("height",1)),s.appendChild(a))):(o.textContent=p[m].val,o.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked?this.innerElem.appendChild(o):(this.innerElem.appendChild(s),o.style.transform=o.style.webkitTransform="translate3d(0,"+-e.finalSize/1.2+"px,0)")),this.isMasked?this.textSpans[g]=o:this.textSpans[g]=s,this.textSpans[g].style.display="block",this.textPaths[g]=o,g+=1}for(;g<this.textSpans.length;)this.textSpans[g].style.display="none",g+=1},HTextElement.prototype.renderInnerContent=function(){if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;this.isMasked&&this.finalTransform._matMdf&&(this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)")}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){for(var e,t,r,n,i=0,o=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l,a=s.length,l=0;l<a;l+=1)s[l].n?i+=1:(t=this.textSpans[l],r=this.textPaths[l],e=o[i],i+=1,e._mdf.m&&(this.isMasked?t.setAttribute("transform",e.m):t.style.transform=t.style.webkitTransform=e.m),t.style.opacity=e.o,e.sw&&e._mdf.sw&&r.setAttribute("stroke-width",e.sw),e.sc&&e._mdf.sc&&r.setAttribute("stroke",e.sc),e.fc&&e._mdf.fc&&(r.setAttribute("fill",e.fc),r.style.color=e.fc));this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)&&(n=this.innerElem.getBBox(),this.currentBBox.w!==n.width&&(this.currentBBox.w=n.width,this.svgElement.setAttribute("width",n.width)),this.currentBBox.h!==n.height&&(this.currentBBox.h=n.height,this.svgElement.setAttribute("height",n.height)),this.currentBBox.w===n.width+2&&this.currentBBox.h===n.height+2&&this.currentBBox.x===n.x-1&&this.currentBBox.y===n.y-1||(this.currentBBox.w=n.width+2,this.currentBBox.h=n.height+2,this.currentBBox.x=n.x-1,this.currentBBox.y=n.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),this.svgElement.style.transform=this.svgElement.style.webkitTransform="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)"))}},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){for(var e,t=this.comp.threeDElements.length,r=0;r<t;r+=1)"3d"===(e=this.comp.threeDElements[r]).type&&(e.perspectiveElem.style.perspective=e.perspectiveElem.style.webkitPerspective=this.pe.v+"px",e.container.style.transformOrigin=e.container.style.mozTransformOrigin=e.container.style.webkitTransformOrigin="0px 0px 0px",e.perspectiveElem.style.transform=e.perspectiveElem.style.webkitTransform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)")},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r,n,i,o,s=this._isFirstFrame;if(this.hierarchy)for(u=this.hierarchy.length,h=0;h<u;h+=1)s=this.hierarchy[h].finalTransform.mProp._mdf||s;if(s||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(h=u=this.hierarchy.length-1;0<=h;--h){var a=this.hierarchy[h].finalTransform.mProp;this.mat.translate(-a.p.v[0],-a.p.v[1],a.p.v[2]),this.mat.rotateX(-a.or.v[0]).rotateY(-a.or.v[1]).rotateZ(a.or.v[2]),this.mat.rotateX(-a.rx.v).rotateY(-a.ry.v).rotateZ(a.rz.v),this.mat.scale(1/a.s.v[0],1/a.s.v[1],1/a.s.v[2]),this.mat.translate(a.a.v[0],a.a.v[1],a.a.v[2])}this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a&&(e=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]],t=Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2)),r=[e[0]/t,e[1]/t,e[2]/t],n=Math.sqrt(r[2]*r[2]+r[0]*r[0]),i=Math.atan2(r[1],n),o=Math.atan2(r[0],-r[2]),this.mat.rotateY(o).rotateX(-i)),this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var l=!this._prevMat.equals(this.mat);if((l||this.pe._mdf)&&this.comp.threeDElements){for(var A,u=this.comp.threeDElements.length,h=0;h<u;h+=1)"3d"===(A=this.comp.threeDElements[h]).type&&(l&&(A.container.style.transform=A.container.style.webkitTransform=this.mat.toCSS()),this.pe._mdf&&(A.perspectiveElem.style.perspective=A.perspectiveElem.style.webkitPerspective=this.pe.v+"px"));this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},HEffects.prototype.renderFrame=function(){};var animationManager=(o3c={},p3c=[],q3c=0,r3c=0,s3c=0,t3c=!0,u3c=!1,o3c.registerAnimation=w3c,o3c.loadAnimation=function(e){var t=new AnimationItem;return z3c(t,null),t.setParams(e),t},o3c.setSpeed=function(e,t){for(var r=0;r<r3c;r+=1)p3c[r].animation.setSpeed(e,t)},o3c.setDirection=function(e,t){for(var r=0;r<r3c;r+=1)p3c[r].animation.setDirection(e,t)},o3c.play=function(e){for(var t=0;t<r3c;t+=1)p3c[t].animation.play(e)},o3c.pause=function(e){for(var t=0;t<r3c;t+=1)p3c[t].animation.pause(e)},o3c.stop=function(e){for(var t=0;t<r3c;t+=1)p3c[t].animation.stop(e)},o3c.togglePause=function(e){for(var t=0;t<r3c;t+=1)p3c[t].animation.togglePause(e)},o3c.searchAnimations=function(e,t,r){for(var n,i,o=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=o.length,a=0;a<s;a+=1)r&&o[a].setAttribute("data-bm-type",r),w3c(o[a],e);t&&0===s&&(r=r||"svg",(n=document.getElementsByTagName("body")[0]).innerHTML="",(i=createTag("div")).style.width="100%",i.style.height="100%",i.setAttribute("data-bm-type",r),n.appendChild(i),w3c(i,e))},o3c.resize=function(){for(var e=0;e<r3c;e+=1)p3c[e].animation.resize()},o3c.goToAndStop=function(e,t,r){for(var n=0;n<r3c;n+=1)p3c[n].animation.goToAndStop(e,t,r)},o3c.destroy=function(e){for(var t=r3c-1;0<=t;--t)p3c[t].animation.destroy(e)},o3c.freeze=function(){u3c=!0},o3c.unfreeze=function(){u3c=!1,C3c()},o3c.getRegisteredAnimations=function(){for(var e=p3c.length,t=[],r=0;r<e;r+=1)t.push(p3c[r].animation);return t},o3c),AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.subframeEnabled=subframeEnabled,this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader},o3c,p3c,q3c,r3c,s3c,t3c,u3c;function v3c(e){for(var t=0,r=e.target;t<r3c;)p3c[t].animation===r&&(p3c.splice(t,1),--t,--r3c,r.isPaused||y3c()),t+=1}function w3c(e,t){if(!e)return null;for(var r=0;r<r3c;){if(p3c[r].elem==e&&null!==p3c[r].elem)return p3c[r].animation;r+=1}var n=new AnimationItem;return z3c(n,e),n.setData(e,t),n}function x3c(){s3c+=1,C3c()}function y3c(){--s3c}function z3c(e,t){e.addEventListener("destroy",v3c),e.addEventListener("_active",x3c),e.addEventListener("_idle",y3c),p3c.push({elem:t,animation:e}),r3c+=1}function A3c(e){for(var t=e-q3c,r=0;r<r3c;r+=1)p3c[r].animation.advanceTime(t);q3c=e,s3c&&!u3c?window.requestAnimationFrame(A3c):t3c=!0}function B3c(e){q3c=e,window.requestAnimationFrame(A3c)}function C3c(){!u3c&&s3c&&t3c&&(window.requestAnimationFrame(B3c),t3c=!1)}extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){e.context&&(this.context=e.context),(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t=e.animType?e.animType:e.renderer?e.renderer:"svg";switch(t){case"canvas":this.renderer=new CanvasRenderer(this,e.rendererSettings);break;case"svg":this.renderer=new SVGRenderer(this,e.rendererSettings);break;default:this.renderer=new HybridRenderer(this,e.rendererSettings)}this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||(!1===e.loop?this.loop=!1:!0===e.loop?this.loop=!0:this.loop=parseInt(e.loop)),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!e.hasOwnProperty("autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,e.animationData?this.configAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),assetLoader.load(e.path,this.configAnimation.bind(this),function(){this.trigger("data_failed")}.bind(this)))},AnimationItem.prototype.setData=function(e,t){var r={wrapper:e,animationData:t?"object"==typeof t?t:JSON.parse(t):null},n=e.attributes;r.path=n.getNamedItem("data-animation-path")?n.getNamedItem("data-animation-path").value:n.getNamedItem("data-bm-path")?n.getNamedItem("data-bm-path").value:n.getNamedItem("bm-path")?n.getNamedItem("bm-path").value:"",r.animType=n.getNamedItem("data-anim-type")?n.getNamedItem("data-anim-type").value:n.getNamedItem("data-bm-type")?n.getNamedItem("data-bm-type").value:n.getNamedItem("bm-type")?n.getNamedItem("bm-type").value:n.getNamedItem("data-bm-renderer")?n.getNamedItem("data-bm-renderer").value:n.getNamedItem("bm-renderer")?n.getNamedItem("bm-renderer").value:"canvas";var i=n.getNamedItem("data-anim-loop")?n.getNamedItem("data-anim-loop").value:n.getNamedItem("data-bm-loop")?n.getNamedItem("data-bm-loop").value:n.getNamedItem("bm-loop")?n.getNamedItem("bm-loop").value:"";""===i||(r.loop="false"!==i&&("true"===i||parseInt(i)));var o=n.getNamedItem("data-anim-autoplay")?n.getNamedItem("data-anim-autoplay").value:n.getNamedItem("data-bm-autoplay")?n.getNamedItem("data-bm-autoplay").value:!n.getNamedItem("bm-autoplay")||n.getNamedItem("bm-autoplay").value;r.autoplay="false"!==o,r.name=n.getNamedItem("data-name")?n.getNamedItem("data-name").value:n.getNamedItem("data-bm-name")?n.getNamedItem("data-bm-name").value:n.getNamedItem("bm-name")?n.getNamedItem("bm-name").value:"","false"===(n.getNamedItem("data-anim-prerender")?n.getNamedItem("data-anim-prerender").value:n.getNamedItem("data-bm-prerender")?n.getNamedItem("data-bm-prerender").value:n.getNamedItem("bm-prerender")?n.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),this.setParams(r)},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));for(var t,r=this.animationData.layers,n=r.length,i=e.layers,o=i.length,s=0;s<o;s+=1)for(t=0;t<n;){if(r[t].id==i[s].id){r[t]=i[s];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(n=e.assets.length,t=0;t<n;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),this.renderer.includeLayers(e.layers),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,assetLoader.load(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.firstFrame=Math.round(this.animationData.ip),this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.loaded()?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){this.isLoaded||!this.renderer.globalData.fontManager.loaded()||!this.imagePreloader.loaded()&&"canvas"===this.renderer.rendererType||(this.isLoaded=!0,dataManager.completeData(this.animationData,this.renderer.globalData.fontManager),expressionsPlugin&&expressionsPlugin.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play())},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(e){this.subframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.subframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame()},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded)try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!=e||!0===this.isPaused&&(this.isPaused=!1,this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!=e||!1===this.isPaused&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"))},AnimationItem.prototype.togglePause=function(e){e&&this.name!=e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!=e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.goToAndStop=function(e,t,r){r&&this.name!=r||(t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier),this.pause())},AnimationItem.prototype.goToAndPlay=function(e,t,r){this.goToAndStop(e,t,r),this.play()},AnimationItem.prototype.advanceTime=function(e){var t,r;!0!==this.isPaused&&!1!==this.isLoaded&&(r=!1,(t=this.currentRawFrame+e*this.frameModifier)>=this.totalFrames-1&&0<this.frameModifier?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete")))},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(0<this.frameModifier&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.timeCompleted=this.totalFrames=e[0]-e[1],this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.timeCompleted=this.totalFrames=e[1]-e[0],this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.timeCompleted=this.totalFrames=t-e,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"==typeof e[0])for(var r=e.length,n=0;n<r;n+=1)this.segments.push(e[n]);else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!=e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=this.onLoopComplete=this.onComplete=this.onSegmentStart=this.onDestroy=null,this.renderer=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t,r="";return e.e?r=e.p:this.assetsPath?(-1!==(t=e.p).indexOf("images/")&&(t=t.split("/")[1]),r=this.assetsPath+t):(r=this.path,r+=e.u?e.u:"",r+=e.p),r},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e==this.assets[t].id)return this.assets[t];t+=1}},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var Expressions=(HW={},HW.initExpressions=function(e){var t=0,r=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==--t&&function(){for(var e=r.length,t=0;t<e;t+=1)r[t].release();r.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===r.indexOf(e)&&r.push(e)}},HW),HW,expressionsPlugin=Expressions,ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null;function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||"boolean"===e||"string"===e||t instanceof Number}function $bm_neg(e){var t=typeof e;if("number"==t||"boolean"==t||e instanceof Number)return-e;if($bm_isInstanceOfArray(e)){for(var r=e.length,n=[],i=0;i<r;i+=1)n[i]=-e[i];return n}return e.propType&&e.v}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=typeof e,n=typeof t;if("string"==r||"string"==n)return e+t;if(isNumerable(r,e)&&isNumerable(n,t))return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]=e[0]+t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var i=0,o=e.length,s=t.length,a=[];i<o||i<s;)("number"==typeof e[i]||e[i]instanceof Number)&&("number"==typeof t[i]||t[i]instanceof Number)?a[i]=e[i]+t[i]:a[i]=void 0===t[i]?e[i]:e[i]||t[i],i+=1;return a}return 0}var add=sum;function sub(e,t){var r=typeof e,n=typeof t;if(isNumerable(r,e)&&isNumerable(n,t))return"string"==r&&(e=parseInt(e)),"string"==n&&(t=parseInt(t)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(n,t))return(e=e.slice(0))[0]=e[0]-t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var i=0,o=e.length,s=t.length,a=[];i<o||i<s;)("number"==typeof e[i]||e[i]instanceof Number)&&("number"==typeof t[i]||t[i]instanceof Number)?a[i]=e[i]-t[i]:a[i]=void 0===t[i]?e[i]:e[i]||t[i],i+=1;return a}return 0}function mul(e,t){var r,n,i,o=typeof e,s=typeof t;if(isNumerable(o,e)&&isNumerable(s,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=e[n]*t;return r}if(isNumerable(o,e)&&$bm_isInstanceOfArray(t)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=e*t[n];return r}return 0}function div(e,t){var r,n,i,o=typeof e,s=typeof t;if(isNumerable(o,e)&&isNumerable(s,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(s,t)){for(i=e.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=e[n]/t;return r}if(isNumerable(o,e)&&$bm_isInstanceOfArray(t)){for(i=t.length,r=createTypedArray("float32",i),n=0;n<i;n+=1)r[n]=e/t[n];return r}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e)),"string"==typeof t&&(t=parseInt(t)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){var n;return r<t&&(n=r,r=t,t=n),Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);t=t||helperLengthArray;for(var r=Math.min(e.length,t.length),n=0,i=0;i<r;i+=1)n+=Math.pow(t[i]-e[i],2);return Math.sqrt(n)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t=e[0],r=e[1],n=e[2],i=Math.max(t,r,n),o=Math.min(t,r,n);if(i==o)0;else{switch(i){case t:0;break;case r:0;break;case n:0}0}return e[3],1}function hue2rgb(e,t,r){return r<0&&(r+=1),1<r&&--r,r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t,r,n=e[0],i=e[1],o=e[2];return 0===i?0:(hue2rgb(r=2*o-(t=o<.5?o*(1+i):o+i-o*i),t,n+1/3),hue2rgb(r,t,n),hue2rgb(r,t,n-1/3)),e[3],1}function linear(e,t,r,n,i){var o;if(void 0!==n&&void 0!==i||(n=t,i=r,t=0,r=1),r<t&&(o=r,r=t,t=o),e<=t)return n;if(r<=e)return i;var s=r===t?0:(e-t)/(r-t);if(!n.length)return n+(i-n)*s;for(var a=n.length,l=createTypedArray("float32",a),A=0;A<a;A+=1)l[A]=n[A]+(i[A]-n[A])*s;return l}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var r=t.length;e=e||createTypedArray("float32",r);for(var n=createTypedArray("float32",r),i=BMMath.random(),o=0;o<r;o+=1)n[o]=e[o]+i*(t[o]-e[o]);return n}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,n){var i=e.length,o=shape_pool.newElement();o.setPathData(!!n,i);for(var s,a,l=[0,0],A=0;A<i;A+=1)s=t&&t[A]?t[A]:l,a=r&&r[A]?r[A]:l,o.setTripleAt(e[A][0],e[A][1],a[0]+e[A][0],a[1]+e[A][1],s[0]+e[A][0],s[1]+e[A][1],A,!0);return o}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,__expression_functions=[],scoped_bm_rt;if(data.xf)for(var i,len=data.xf.length,i=0;i<len;i+=1)__expression_functions[i]=eval("(function(){ return "+data.xf[i]+"}())");var expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){for(var r,n=this.pv.length?this.pv.length:1,i=createTypedArray("float32",n),o=Math.floor(5*time),s=r=0;r<o;){for(s=0;s<n;s+=1)i[s]+=-t+2*t*BMMath.random();r+=1}var a=5*time,l=a-Math.floor(a),A=createTypedArray("float32",n);if(1<n){for(s=0;s<n;s+=1)A[s]=this.pv[s]+i[s]+(-t+2*t*BMMath.random())*l;return A}return this.pv+i[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]];Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]));return Math.atan2(r[1],r[2]),1}function easeOut(e,t,r,n,i){return applyEase(easeOutBez,e,t,r,n,i)}function easeIn(e,t,r,n,i){return applyEase(easeInBez,e,t,r,n,i)}function ease(e,t,r,n,i){return applyEase(easeInOutBez,e,t,r,n,i)}function applyEase(e,t,r,n,i,o){void 0===i?(i=r,o=n):t=(t-r)/(n-r);var s=e(t=1<t?1:t<0?0:t);if($bm_isInstanceOfArray(i)){for(var a=i.length,l=createTypedArray("float32",a),A=0;A<a;A+=1)l[A]=(o[A]-i[A])*s+i[A];return l}return(o-i)*s+i}function nearestKey(e){var t,r,n,i=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,n=data.k[0].t;else{for(t=0;t<i-1;t+=1){if(e===data.k[t].t){r=t+1,n=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){n=e-data.k[t].t>data.k[t+1].t-e?(r=t+2,data.k[t+1].t):(r=t+1,data.k[t].t);break}}-1===r&&(r=t+1,n=data.k[t].t)}else n=r=0;var o={};return o.index=r,o.time=n/elem.comp.globalData.frameRate,o}function key(e){var t;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);--e,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};for(var r=data.k[e].hasOwnProperty("s")?data.k[e].s:data.k[e-1].e,n=r.length,i=0;i<n;i+=1)t[i]=r[i],t.value[i]=r[i];return t}function framesToTime(e,t){return e/(t=t||elem.comp.globalData.frameRate)}function timeToFrames(e,t){return e||0===e||(e=time),e*(t=t||elem.comp.globalData.frameRate)}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value&&(void 0===t?value.substring(e):value.substring(e,t))}function substr(e,t){return"string"==typeof value&&(void 0===t?value.substr(e):value.substr(e,t))}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,_needsRandom&&seedRandom(randSeed),this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),($bm_transform=transform)&&(anchorPoint=transform.anchorPoint)),4!==elemType||content||(content=thisLayer("ADBE Root Vectors Group")),effect=effect||thisLayer(4),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,"shape"===scoped_bm_rt.propType&&(scoped_bm_rt=scoped_bm_rt.v),scoped_bm_rt)}return executeExpression}return ob.initiateExpression=initiateExpression,ob}(),expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),n=0;if(t.length){for(var i=0;i<t.length;i+=1)n+=Math.pow(r[i]-t[i],2);n=100*Math.sqrt(n)}else n=0;return n},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,r,n=this.getValueAtTime(e),i=this.getValueAtTime(e+-.001);if(n.length)for(t=createTypedArray("float32",n.length),r=0;r<n.length;r+=1)t[r]=(i[r]-n[r])/-.001;else t=(i-n)/-.001;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};!function(){function a(e,t,r){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var n,i,o,s,a,l=this.comp.renderedFrame,A=this.keyframes,u=A[A.length-1].t;if(l<=u)return this.pv;if(r?i=u-(n=t?Math.abs(u-elem.comp.globalData.frameRate*t):Math.max(0,u-this.elem.data.ip)):((!t||t>A.length-1)&&(t=A.length-1),n=u-(i=A[A.length-1-t].t)),"pingpong"===e){if(Math.floor((l-i)/n)%2!=0)return this.getValueAtTime((n-(l-i)%n+i)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(i/this.comp.globalData.frameRate,0),c=this.getValueAtTime(u/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-i)%n+i)/this.comp.globalData.frameRate,0),d=Math.floor((l-i)/n);if(this.pv.length){for(s=(a=new Array(h.length)).length,o=0;o<s;o+=1)a[o]=(c[o]-h[o])*d+p[o];return a}return(c-h)*d+p}if("continue"===e){var f=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(f.length)).length,o=0;o<s;o+=1)a[o]=f[o]+(f[o]-g[o])*((l-u)/this.comp.globalData.frameRate)/5e-4;return a}return f+(l-u)/.001*(f-g)}}return this.getValueAtTime(((l-i)%n+i)/this.comp.globalData.frameRate,0)}function l(e,t,r){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var n,i,o,s,a,l=this.comp.renderedFrame,A=this.keyframes,u=A[0].t;if(u<=l)return this.pv;if(r?i=u+(n=t?Math.abs(elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-u)):((!t||t>A.length-1)&&(t=A.length-1),n=(i=A[t].t)-u),"pingpong"===e){if(Math.floor((u-l)/n)%2==0)return this.getValueAtTime(((u-l)%n+u)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var h=this.getValueAtTime(u/this.comp.globalData.frameRate,0),c=this.getValueAtTime(i/this.comp.globalData.frameRate,0),p=this.getValueAtTime((n-(u-l)%n+u)/this.comp.globalData.frameRate,0),d=Math.floor((u-l)/n)+1;if(this.pv.length){for(s=(a=new Array(h.length)).length,o=0;o<s;o+=1)a[o]=p[o]-(c[o]-h[o])*d;return a}return p-(c-h)*d}if("continue"===e){var f=this.getValueAtTime(u/this.comp.globalData.frameRate,0),g=this.getValueAtTime((u+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(s=(a=new Array(f.length)).length,o=0;o<s;o+=1)a[o]=f[o]+(f[o]-g[o])*(u-l)/.001;return a}return f+(f-g)*(u-l)/.001}}return this.getValueAtTime((n-(u-l)%n+u)/this.comp.globalData.frameRate,0)}function A(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;for(var r,n=this.comp.renderedFrame/this.comp.globalData.frameRate,i=n-e,o=1<t?(n+e-i)/(t-1):1,s=0,a=0,l=this.pv.length?createTypedArray("float32",this.pv.length):0;s<t;){if(r=this.getValueAtTime(i+s*o),this.pv.length)for(a=0;a<this.pv.length;a+=1)l[a]+=r[a];else l+=r;s+=1}if(this.pv.length)for(a=0;a<this.pv.length;a+=1)l[a]/=t;else l/=t;return l}var i=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,r){var n=i(e,t,r);return n.dynamicProperties.length?n.getValueAtTime=function(e){console.warn("Transform at time not supported")}.bind(n):n.getValueAtTime=function(e){}.bind(n),n.setGroupProperty=expressionHelpers.setGroupProperty,n};var u=PropertyFactory.getProp;PropertyFactory.getProp=function(e,t,r,n,i){var o=u(e,t,r,n,i);o.kf?o.getValueAtTime=expressionHelpers.getValueAtTime.bind(o):o.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(o),o.setGroupProperty=expressionHelpers.setGroupProperty,o.loopOut=a,o.loopIn=l,o.smooth=A,o.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(o),o.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(o),o.numKeys=1===t.a?t.k.length:0,o.propertyIndex=t.ix;var s=0;return 0!==r&&(s=createTypedArray("float32",1===t.a?t.k[0].s.length:t.k.length)),o._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:s},expressionHelpers.searchExpressions(e,t,o),o.k&&i.addDynamicProperty(o),o};var e=ShapePropertyFactory.getConstructorFunction(),t=ShapePropertyFactory.getKeyframedConstructorFunction();function r(){}r.prototype={vertices:function(e,t){this.k&&this.getValue();var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0));for(var n=r._length,i=r[e],o=r.v,s=createSizedArray(n),a=0;a<n;a+=1)s[a]="i"===e||"o"===e?[i[a][0]-o[a][0],i[a][1]-o[a][1]]:[i[a][0],i[a][1]];return s},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var n=this._segmentsLength,i=n.lengths,o=n.totalLength*e,s=0,a=i.length,l=0;s<a;){if(l+i[s].addedLength>o){var A=r.c&&s===a-1?0:s+1,u=(o-l)/i[s].addedLength,h=bez.getPointInSegment(r.v[s],r.v[A],r.o[s],r.i[A],u,i[s]);break}l+=i[s].addedLength,s+=1}return h=h||(r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]])},vectorOnPath:function(e,t,r){e=1==e?this.v.c?0:.999:e;var n=this.pointOnPath(e,t),i=this.pointOnPath(e+.001,t),o=i[0]-n[0],s=i[1]-n[1],a=Math.sqrt(Math.pow(o,2)+Math.pow(s,2));return 0===a?[0,0]:"tangent"===r?[o/a,s/a]:[-s/a,o/a]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([r],e),extendPrototype([r],t),t.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shape_pool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},t.prototype.initiateExpression=ExpressionManager.initiateExpression;var s=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,r,n,i){var o=s(e,t,r,n,i);return o.propertyIndex=t.ix,o.lock=!1,3===r?expressionHelpers.searchExpressions(e,t.pt,o):4===r&&expressionHelpers.searchExpressions(e,t.ks,o),o.k&&e.addDynamicProperty(o),o}}(),TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t===r)return e;var n={};return this.copyData(n,e),n.t=r.toString(),n.__complete=!1,n},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){if(this.data.d.x)return this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0};var ShapeExpressionInterface=function(e,t,r){var n;function i(e){if("number"==typeof e)return n[e-1];for(var t=0,r=n.length;t<r;){if(n[t]._name===e)return n[t];t+=1}}return i.propertyGroup=r,n=gbd(e,t,i),i.numProperties=n.length,i},TextExpressionInterface=function(t){var r;function e(){}return Object.defineProperty(e,"sourceText",{get:function(){t.textProperty.getValue();var e=t.textProperty.currentData.t;return void 0!==e&&(t.textProperty.currentData.t=void 0,(r=new String(e)).value=e||new String(e)),r}}),e},LayerExpressionInterface=function(t){var r;function n(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return n.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return r;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return n.effect}}n.toWorld=xdd,n.fromWorld=ydd,n.toComp=xdd,n.fromComp=zdd,n.sampleImage=Add,n.sourceRectAtTime=t.sourceRectAtTime.bind(t);var e=getDescriptor(r=TransformExpressionInterface((n._elem=t).finalTransform.mProp),"anchorPoint");return Object.defineProperties(n,{hasParent:{get:function(){return t.hierarchy.length}},parent:{get:function(){return t.hierarchy[0].layerInterface}},rotation:getDescriptor(r,"rotation"),scale:getDescriptor(r,"scale"),position:getDescriptor(r,"position"),opacity:getDescriptor(r,"opacity"),anchorPoint:e,anchor_point:e,transform:{get:function(){return r}},active:{get:function(){return t.isInRange}}}),n.startTime=t.data.st,n.index=t.data.ind,n.source=t.data.refId,n.height=0===t.data.ty?t.data.h:100,n.width=0===t.data.ty?t.data.w:100,n.inPoint=t.data.ip/t.comp.globalData.frameRate,n.outPoint=t.data.op/t.comp.globalData.frameRate,n._name=t.data.nm,n.registerMaskInterface=function(e){n.mask=new MaskManagerInterface(e,t)},n.registerEffectsInterface=function(e){n.effect=e},n},CompExpressionInterface=function(n){function e(e){for(var t=0,r=n.layers.length;t<r;){if(n.layers[t].nm===e||n.layers[t].ind===e)return n.elements[t].layerInterface;t+=1}return null}return Object.defineProperty(e,"_name",{value:n.data.nm}),(e.layer=e).pixelAspect=1,e.height=n.data.h||n.globalData.compSize.h,e.width=n.data.w||n.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/n.globalData.frameRate,e.displayStartTime=0,e.numLayers=n.layers.length,e},TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity}}var r;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p&&(r=ExpressionPropertyInterface(e.p)),Object.defineProperty(t,"position",{get:function(){return e.p?r():[e.px.v,e.py.v,e.pz?e.pz.v:0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},ProjectInterface=function(){function e(e){for(var t=0,r=this.compositions.length;t<r;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}}return e.compositions=[],e.currentFrame=0,e.registerComposition=ded,e},EffectsExpressionInterface={createEffectsInterface:function(i,e){if(i.effectsManager){for(var o=[],t=i.data.ef,r=i.effectsManager.effectElements.length,n=0;n<r;n+=1)o.push(jed(t[n],i.effectsManager.effectElements[n],e,i));return function(e){for(var t=i.data.ef||[],r=0,n=t.length;r<n;){if(e===t[r].nm||e===t[r].mn||e===t[r].ix)return o[r];r+=1}}}}},MaskManagerInterface=(Object.defineProperty(Oed.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(Oed.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t,e){for(var r=createSizedArray(t.viewData.length),n=t.viewData.length,i=0;i<n;i+=1)r[i]=new Oed(t.viewData[i],t.masksProperties[i]);return function(e){for(i=0;i<n;){if(t.masksProperties[i].nm===e)return r[i];i+=1}}}),ExpressionPropertyInterface=(Xed={pv:0,v:0,mult:1},Yed={pv:[0,0,0],v:[0,0,0],mult:1},function(e){return e?("unidimensional"===e.propType?function(e){e&&"pv"in e||(e=Xed);var t=1/e.mult,r=e.pv*t,n=new Number(r);return n.value=r,Zed(n,e,"unidimensional"),function(){return e.k&&e.getValue(),r=e.v*t,n.value!==r&&((n=new Number(r)).value=r,Zed(n,e,"unidimensional")),n}}:function(t){t&&"pv"in t||(t=Yed);var r=1/t.mult,n=t.pv.length,i=createTypedArray("float32",n),o=createTypedArray("float32",n);return i.value=o,Zed(i,t,"multidimensional"),function(){t.k&&t.getValue();for(var e=0;e<n;e+=1)i[e]=o[e]=t.v[e]*r;return i}})(e):$ed}),q5,r5,Xed,Yed;function Zed(n,i,o){Object.defineProperty(n,"velocity",{get:function(){return i.getVelocityAtTime(i.comp.currentFrame)}}),n.numKeys=i.keyframes?i.keyframes.length:0,n.key=function(e){if(n.numKeys){var t="s"in i.keyframes[e-1]?i.keyframes[e-1].s:"e"in i.keyframes[e-2]?i.keyframes[e-2].e:i.keyframes[e-2].s,r="unidimensional"===o?new Number(t):Object.assign({},t);return r.time=i.keyframes[e-1].t/i.elem.comp.globalData.frameRate,r}return 0},n.valueAtTime=i.getValueAtTime,n.speedAtTime=i.getSpeedAtTime,n.velocityAtTime=i.getVelocityAtTime,n.propertyGroup=i.propertyGroup}function $ed(){return Xed}function Oed(e,t){this._mask=e,this._data=t}function jed(i,e,t,r){for(var o=[],n=i.ef.length,s=0;s<n;s+=1)5===i.ef[s].ty?o.push(jed(i.ef[s],e.effectElements[s],e.effectElements[s].propertyGroup,r)):o.push(function(e,t,r,n){var i=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(n),function(){return 10===t?r.comp.compInterface(e.p.v):i()}}(e.effectElements[s],i.ef[s].ty,r,a));function a(e){return 1===e?l:t(e-1)}var l=function(e){for(var t=i.ef,r=0,n=t.length;r<n;){if(e===t[r].nm||e===t[r].mn||e===t[r].ix)return 5===t[r].ty?o[r]:o[r]();r+=1}return o[0]()};return l.propertyGroup=a,"ADBE Color Control"===i.mn&&Object.defineProperty(l,"color",{get:function(){return o[0]()}}),Object.defineProperty(l,"numProperties",{get:function(){return i.np}}),l.active=l.enabled=0!==i.en,l}function ded(e){this.compositions.push(e)}function xdd(e,t){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){for(var n=this._elem.hierarchy.length,i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.applyToPointArray(e[0],e[1],e[2]||0)}return r.applyToPointArray(e[0],e[1],e[2]||0)}function ydd(e,t){var r=new Matrix;if(r.reset(),this._elem.finalTransform.mProp.applyToMatrix(r),this._elem.hierarchy&&this._elem.hierarchy.length){for(var n=this._elem.hierarchy.length,i=0;i<n;i+=1)this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(r);return r.inversePoint(e)}return r.inversePoint(e)}function zdd(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){for(var r=this._elem.hierarchy.length,n=0;n<r;n+=1)this._elem.hierarchy[n].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function Add(){return[1,1,1,1]}function gbd(e,t,r){for(var n,i,o,s=[],a=e?e.length:0,l=0;l<a;l+=1)"gr"==e[l].ty?s.push(function(e,t,r){var n=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=function(e){return 1===e?n:r(e-1)};var i,o,s,a,l,A=(i=e,o=t,s=n.propertyGroup,(l=function(e){for(var t=0,r=a.length;t<r;){if(a[t]._name===e||a[t].mn===e||a[t].propertyIndex===e||a[t].ix===e||a[t].ind===e)return a[t];t+=1}if("number"==typeof e)return a[e-1]}).propertyGroup=function(e){return 1===e?l:s(e-1)},a=gbd(i.it,o.it,l.propertyGroup),l.numProperties=a.length,l.propertyIndex=i.cix,l._name=i.nm,l),u=function(t,e,r){function n(e){return 1==e?i:r(--e)}function i(e){return t.a.ix===e||"Anchor Point"===e?i.anchorPoint:t.o.ix===e||"Opacity"===e?i.opacity:t.p.ix===e||"Position"===e?i.position:t.r.ix===e||"Rotation"===e||"ADBE Vector Rotation"===e?i.rotation:t.s.ix===e||"Scale"===e?i.scale:t.sk&&t.sk.ix===e||"Skew"===e?i.skew:t.sa&&t.sa.ix===e||"Skew Axis"===e?i.skewAxis:void 0}return e.transform.mProps.o.setGroupProperty(n),e.transform.mProps.p.setGroupProperty(n),e.transform.mProps.a.setGroupProperty(n),e.transform.mProps.s.setGroupProperty(n),e.transform.mProps.r.setGroupProperty(n),e.transform.mProps.sk&&(e.transform.mProps.sk.setGroupProperty(n),e.transform.mProps.sa.setGroupProperty(n)),e.transform.op.setGroupProperty(n),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(e.transform.mProps.o)},position:{get:ExpressionPropertyInterface(e.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(e.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(e.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(e.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(e.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(e.transform.mProps.sa)},_name:{value:t.nm}}),i.ty="tr",i.mn=t.mn,i.propertyGroup=r,i}(e.it[e.it.length-1],t.it[t.it.length-1],n.propertyGroup);return n.content=A,n.transform=u,Object.defineProperty(n,"_name",{get:function(){return e.nm}}),n.numProperties=e.np,n.propertyIndex=e.ix,n.nm=e.nm,n.mn=e.mn,n}(e[l],t[l],r)):"fl"==e[l].ty?s.push((n=e[l],i=t[l],o=r,Object.defineProperties(A,{color:{get:ExpressionPropertyInterface(i.c)},opacity:{get:ExpressionPropertyInterface(i.o)},_name:{value:n.nm},mn:{value:n.mn}}),i.c.setGroupProperty(o),i.o.setGroupProperty(o),A)):"st"==e[l].ty?s.push(function(e,t,r){function n(e){return 1===e?ob:r(e-1)}function i(e){return 1===e?a:n(e-1)}var o,s=e.d?e.d.length:0,a={};for(o=0;o<s;o+=1)Object.defineProperty(a,e.d[o].nm,{get:ExpressionPropertyInterface(t.d.dataProps[o].p)}),t.d.dataProps[o].p.setGroupProperty(i);function l(e){return"Color"===e||"color"===e?l.color:"Opacity"===e||"opacity"===e?l.opacity:"Stroke Width"===e||"stroke width"===e?l.strokeWidth:void 0}return Object.defineProperties(l,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return a}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(n),t.o.setGroupProperty(n),t.w.setGroupProperty(n),l}(e[l],t[l],r)):"tm"==e[l].ty?s.push(function(t,e,r){function n(e){return 1==e?i:r(--e)}function i(e){return e===t.e.ix||"End"===e||"end"===e?i.end:e===t.s.ix?i.start:e===t.o.ix?i.offset:void 0}return i.propertyIndex=t.ix,e.s.setGroupProperty(n),e.e.setGroupProperty(n),e.o.setGroupProperty(n),i.propertyIndex=t.ix,i.propertyGroup=r,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(e.s)},end:{get:ExpressionPropertyInterface(e.e)},offset:{get:ExpressionPropertyInterface(e.o)},_name:{value:t.nm}}),i.mn=t.mn,i}(e[l],t[l],r)):"tr"==e[l].ty||("el"==e[l].ty?s.push(function(t,e,r){function n(e){return 1==e?o:r(--e)}o.propertyIndex=t.ix;var i="tm"===e.sh.ty?e.sh.prop:e.sh;function o(e){return t.p.ix===e?o.position:t.s.ix===e?o.size:void 0}return i.s.setGroupProperty(n),i.p.setGroupProperty(n),Object.defineProperties(o,{size:{get:ExpressionPropertyInterface(i.s)},position:{get:ExpressionPropertyInterface(i.p)},_name:{value:t.nm}}),o.mn=t.mn,o}(e[l],t[l],r)):"sr"==e[l].ty?s.push(function(t,e,r){function n(e){return 1==e?o:r(--e)}var i="tm"===e.sh.ty?e.sh.prop:e.sh;function o(e){return t.p.ix===e?o.position:t.r.ix===e?o.rotation:t.pt.ix===e?o.points:t.or.ix===e||"ADBE Vector Star Outer Radius"===e?o.outerRadius:t.os.ix===e?o.outerRoundness:!t.ir||t.ir.ix!==e&&"ADBE Vector Star Inner Radius"!==e?t.is&&t.is.ix===e?o.innerRoundness:void 0:o.innerRadius}return o.propertyIndex=t.ix,i.or.setGroupProperty(n),i.os.setGroupProperty(n),i.pt.setGroupProperty(n),i.p.setGroupProperty(n),i.r.setGroupProperty(n),t.ir&&(i.ir.setGroupProperty(n),i.is.setGroupProperty(n)),Object.defineProperties(o,{position:{get:ExpressionPropertyInterface(i.p)},rotation:{get:ExpressionPropertyInterface(i.r)},points:{get:ExpressionPropertyInterface(i.pt)},outerRadius:{get:ExpressionPropertyInterface(i.or)},outerRoundness:{get:ExpressionPropertyInterface(i.os)},innerRadius:{get:ExpressionPropertyInterface(i.ir)},innerRoundness:{get:ExpressionPropertyInterface(i.is)},_name:{value:t.nm}}),o.mn=t.mn,o}(e[l],t[l],r)):"sh"==e[l].ty?s.push(function(e,t,r){var n=t.sh;function i(e){if("Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e)return i.path}return n.setGroupProperty(function(e){return 1==e?i:r(--e)}),Object.defineProperties(i,{path:{get:function(){return n.k&&n.getValue(),n}},shape:{get:function(){return n.k&&n.getValue(),n}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn}}),i}(e[l],t[l],r)):"rc"==e[l].ty?s.push(function(t,e,r){function n(e){return 1==e?o:r(--e)}var i="tm"===e.sh.ty?e.sh.prop:e.sh;function o(e){return t.p.ix===e?o.position:t.r.ix===e?o.roundness:t.s.ix===e||"Size"===e||"ADBE Vector Rect Size"===e?o.size:void 0}return o.propertyIndex=t.ix,i.p.setGroupProperty(n),i.s.setGroupProperty(n),i.r.setGroupProperty(n),Object.defineProperties(o,{position:{get:ExpressionPropertyInterface(i.p)},roundness:{get:ExpressionPropertyInterface(i.r)},size:{get:ExpressionPropertyInterface(i.s)},_name:{value:t.nm}}),o.mn=t.mn,o}(e[l],t[l],r)):"rd"==e[l].ty?s.push(function(t,e,r){var n=e;function i(e){if(t.r.ix===e||"Round Corners 1"===e)return i.radius}return i.propertyIndex=t.ix,n.rd.setGroupProperty(function(e){return 1==e?i:r(--e)}),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(n.rd)},_name:{value:t.nm}}),i.mn=t.mn,i}(e[l],t[l],r)):"rp"==e[l].ty&&s.push(function(t,e,r){function n(e){return 1==e?o:r(--e)}var i=e;function o(e){return t.c.ix===e||"Copies"===e?o.copies:t.o.ix===e||"Offset"===e?o.offset:void 0}return o.propertyIndex=t.ix,i.c.setGroupProperty(n),i.o.setGroupProperty(n),Object.defineProperties(o,{copies:{get:ExpressionPropertyInterface(i.c)},offset:{get:ExpressionPropertyInterface(i.o)},_name:{value:t.nm}}),o.mn=t.mn,o}(e[l],t[l],r)));function A(e){return"Color"===e||"color"===e?A.color:"Opacity"===e||"opacity"===e?A.opacity:void 0}return s}function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(){}function EffectsManager(e,t){var r=e.ef||[];this.effectElements=[];for(var n,i=r.length,o=0;o<i;o++)n=new GroupEffect(r[o],t),this.effectElements.push(n)}function GroupEffect(e,t){this.init(e,t)}function Tfd(e,t){return this.textIndex=e+1,this.textTotal=t,this.v=this.getValue()*this.mult,this.v}q5=function(e,t){this.pv=1,this.comp=e.comp,this.elem=e,this.mult=.01,this.propType="textSelector",this.textTotal=t.totalChars,this.selectorValue=100,this.lastValue=[1,1,1],this.k=!0,this.x=!0,this.getValue=ExpressionManager.initiateExpression.bind(this)(e,t,this),this.getMult=Tfd,this.getVelocityAtTime=expressionHelpers.getVelocityAtTime,this.kf?this.getValueAtTime=expressionHelpers.getValueAtTime.bind(this):this.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(this),this.setGroupProperty=expressionHelpers.setGroupProperty},r5=TextSelectorProp.getTextSelectorProp,TextSelectorProp.getTextSelectorProp=function(e,t,r){return 1===t.t?new q5(e,t,r):r5(e,t,r)},extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);for(var r,n=this.data.ef.length,i=this.data.ef,o=0;o<n;o+=1){switch(r=null,i[o].ty){case 0:r=new SliderEffect(i[o],t,this);break;case 1:r=new AngleEffect(i[o],t,this);break;case 2:r=new ColorEffect(i[o],t,this);break;case 3:r=new PointEffect(i[o],t,this);break;case 4:case 7:r=new CheckboxEffect(i[o],t,this);break;case 10:r=new LayerIndexEffect(i[o],t,this);break;case 11:r=new MaskIndexEffect(i[o],t,this);break;case 5:r=new EffectsManager(i[o],t,this);break;default:r=new NoValueEffect(i[o],t,this)}r&&this.effectElements.push(r)}};var lottie={},_isFrozen=!1;function setLocationHref(e){locationHref=e}function searchAnimations(){!0===standalone?animationManager.searchAnimations(animationData,standalone,renderer):animationManager.searchAnimations()}function setSubframeRendering(e){subframeEnabled=e}function loadAnimation(e){return!0===standalone&&(e.animationData=JSON.parse(animationData)),animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":defaultCurveSegments=200;break;case"medium":defaultCurveSegments=50;break;case"low":defaultCurveSegments=10}else!isNaN(e)&&1<e&&(defaultCurveSegments=e);roundValues(!(50<=defaultCurveSegments))}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&(expressionsPlugin=t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r++){var n=t[r].split("=");if(decodeURIComponent(n[0])==e)return decodeURIComponent(n[1])}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocationHref,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.__getFactory=getFactory,lottie.version="5.6.4";var standalone="__[STANDALONE]__",animationData="__[ANIMATIONDATA]__",renderer="",scripts,index,myScript,queryString,renderer;standalone&&(scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""},queryString=myScript.src.replace(/^[^\?]+\??/,""),renderer=getQueryVariable("renderer"));var readyStateCheckInterval=setInterval(checkReady,100);return lottie});var mpf=33,splinePrecision=25,svgns="http://www.w3.org/2000/svg",smilanimns="http://www.w3.org/2001/smil-animation",smil2ns="http://www.w3.org/2001/SMIL20",smil21ns="http://www.w3.org/2005/SMIL21",smil3ns="http://www.w3.org/ns/SMIL30",timesheetns="http://www.w3.org/2007/07/SMIL30/Timesheets",xlinkns="http://www.w3.org/1999/xlink",animators=new Array,id2anim=new Object,animations=new Array,timeZero;function initSMIL(){if("fake"!=document.documentElement.getAttribute("smiling")){document.documentElement.setAttribute("smiling","fake"),smile(document),timeZero=new Date;for(var e=0,t=animators.length;e<t;++e)animators[e].register();window.setInterval(animate,mpf)}}function getURLCallback(e){e.success&&smile(parseXML(e.content,document))}function xhrCallback(){4==this.readyState&&200==this.status&&null!=this.responseXML&&smile(this.responseXML)}function smile(e){for(var t=null,r=e.getElementsByTagName("*"),n=0,i=r.length;n<i;++n){var o=r.item(n),s=o.namespaceURI,a=o.localName;if("link"==a.toLowerCase()&&"timesheet"==o.getAttribute("rel")&&"application/smil+xml"==o.getAttribute("type")||(s==timesheetns||s==smil3ns)&&"timesheet"==a){var l=o.getAttribute("timesheet"==a?"src":"href");l&&0<l.length&&(t||(t=window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("MSXML2.XMLHTTP.3.0"):null)&&(t.overrideMimeType&&t.overrideMimeType("text/xml"),t.onreadystatechange=xhrCallback),t?(t.open("GET",l,!1),t.send(null)):window.getURL&&window.parseXML&&getURL(l,getURLCallback))}else{var A=document.implementation;if((s==svgns&&!A.hasFeature("http://www.w3.org/TR/SVG11/feature#Animation","1.1")||s==smilanimns&&!A.hasFeature(smilanimns,"1.1")||s==smil2ns&&!A.hasFeature(smil2ns,"2.0")||s==smil21ns&&!A.hasFeature(smil21ns,"2.1")||s==smil3ns&&!A.hasFeature(smil3ns,"3.0")||s==timesheetns&&!A.hasFeature(timesheetns,"1.0"))&&("set"==a||"animate"==a||"animateColor"==a||"animateMotion"==a||"animateTransform"==a)){for(var u=getTargets(o),h=new Array,c=0;c<u.length;++c){var p=new Animator(o,u[c],c);animators.push(p),h[c]=p}o.animators=h;var d=o.getAttribute("id");d&&(id2anim[d]=o)}}}}function getTargets(e){if(e.hasAttribute("select"))return select(e);var t=e.getAttributeNS(xlinkns,"href");if(null!=t&&""!=t)return[document.getElementById(t.substring(1))];var r=e.parentNode;return"item"!=r.localName||r.namespaceURI!=timesheetns&&r.namespaceURI!=smil3ns?[r]:select(r)}function select(e){for(var t=e.getAttribute("select"),r=e.parentNode;r&&1==r.nodeType;)"item"!=r.localName||r.namespaceURI!=timesheetns&&r.namespaceURI!=smil3ns||(t=r.getAttribute("select")+" "+t),r=r.parentNode;return document.querySelectorAll(t)}function getEventTargetsById(e,t){var r=null;if("prev"==e)for(r=t.previousSibling;r&&1!=r.nodeType;)r=r.previousSibling;return null==r&&(r=document.getElementById(e)),null==r&&(r=id2anim[e]),null==r?null:r.animators?r.animators:[r]}function Animator(e,t,r){if(this.anim=e,this.target=t,this.index=r,e.targetElement=t,this.attributeType=e.getAttribute("attributeType"),this.attributeName=e.getAttribute("attributeName"),"CSS"!=this.attributeType&&"XML"!=this.attributeType&&(propDefaults[this.attributeName]&&this.target.style.getPropertyValue(this.attributeName)?this.attributeType="CSS":this.attributeType="XML"),"XML"==this.attributeType&&this.attributeName){this.namespace=null;var n=this.attributeName.indexOf(":");if(-1!=n){var i=this.attributeName.substring(0,n);this.attributeName=this.attributeName.substring(n+1);for(var o=t;o&&1==o.nodeType;){var s=o.getAttributeNS("http://www.w3.org/2000/xmlns/",i);if(s){this.namespace=s;break}o=o.parentNode}}}if("d"==this.attributeName?this.d():"points"==this.attributeName&&(this.isInterpolable=function(e,t){return!0},this.interpolate=function(e,t,r){for(var n,i,o,s,a=new Array,l=0;l<e.length&&l<t.length;++l)n=e[l].split(","),i=t[l].split(","),o=parseFloat(n[0])+(parseFloat(i[0])-n[0])*r,s=parseFloat(n[1])+(parseFloat(i[1])-n[1])*r,a.push(o+","+s);return a.join(" ")},this.normalize=function(e){for(var t=e.split(" "),r=t.length-1;0<=r;--r)""==t[r]&&t.splice(r,1);return t}),this.from=e.getAttribute("from"),this.to=e.getAttribute("to"),this.by=e.getAttribute("by"),this.values=e.getAttribute("values"),this.values&&(this.values=this.values.trim(),";"==this.values.substring(this.values.length-1)&&(this.values=this.values.substring(0,this.values.length-1))),this.calcMode=e.getAttribute("calcMode"),this.keyTimes=e.getAttribute("keyTimes"),this.keyTimes){this.keyTimes=this.keyTimes.split(";");for(var a=0;a<this.keyTimes.length;++a)this.keyTimes[a]=parseFloat(this.keyTimes[a]);if(this.keyPoints=e.getAttribute("keyPoints"),this.keyPoints){this.keyPoints=this.keyPoints.split(";");for(a=0;a<this.keyPoints.length;++a)this.keyPoints[a]=parseFloat(this.keyPoints[a])}}if(this.keySplines=e.getAttribute("keySplines"),this.keySplines){this.keySplines=this.keySplines.split(";");for(a=0;a<this.keySplines.length;++a)this.keySplines[a]=createPath("M 0 0 C "+this.keySplines[a]+" 1 1")}this.dur=e.getAttribute("dur"),this.dur&&"indefinite"!=this.dur&&(this.computedDur=toMillis(this.dur)),this.max=e.getAttribute("max"),this.max&&"indefinite"!=this.max&&(this.computedMax=toMillis(this.max),!isNaN(this.computedMax)&&0<this.computedMax&&(!this.computedDur||this.computedDur>this.computedMax)&&(this.computedDur=this.computedMax)),this.min=e.getAttribute("min"),this.min&&(this.computedMin=toMillis(this.min),(!this.computedDur||this.computedDur<this.computedMin)&&(this.computedDur=this.computedMin)),this.fill=e.getAttribute("fill"),this.type=e.getAttribute("type"),this.repeatCount=e.getAttribute("repeatCount"),this.repeatDur=e.getAttribute("repeatDur"),this.accumulate=e.getAttribute("accumulate"),this.additive=e.getAttribute("additive"),this.restart=e.getAttribute("restart"),this.restart||(this.restart="always"),this.beginListeners=new Array,this.endListeners=new Array,this.repeatListeners=new Array,this.repeatIterations=new Array;var l=e.localName;if("animateColor"==l)this.color();else if("animateMotion"==l)this.isInterpolable=function(e,t){return!0},this.getCurVal=function(){var e=this.target.transform;return e&&0<e.animVal.numberOfItems?decompose(e.animVal.getItem(0).matrix,"translate"):"0,0"},this.path=this.getPath(),this.path?this.valueAt=function(e){var t=this.path.getTotalLength(),r=this.path.getPointAtLength(e*t);return r.x+","+r.y}:this.translation(),this.freeze=function(){var e=this.valueAt(1);this.step(e)},this.keyPoints&&this.keyTimes&&(this.pathKeyTimes=this.keyTimes,this.keyTimes=null,this.superValueAt=this.valueAt,this.valueAt=function(e){for(var t=1;t<this.keyPoints.length;++t){var r=this.keyPoints[this.keyPoints.length-1];if(this.pathKeyTimes[t]>e){var n,i=this.keyPoints[t-1],r="discrete"==this.calcMode?i:(e=(e-(n=this.pathKeyTimes[t-1]))/(this.pathKeyTimes[t]-n),i+(this.keyPoints[t]-i)*e);break}}return this.superValueAt(r)}),this.step=function(e){this.attributeName;e="translate("+e+")",this.target.setAttribute("transform",e)};else if("animateTransform"==l){if(this.isInterpolable=function(e,t){return!0},this.getCurVal=function(){var e=this.type,t=this.target.transform;return t&&0<t.animVal.numberOfItems?decompose(t.animVal.getItem(0).matrix,e):"scale"==e?"1,1":"translate"==e?"0,0":"rotate"==e?"0,0,0":0},"scale"==this.type?(this.normalize=function(e){var t=(e=e.replace(/,/g," ")).split(" ");return 1==t.length&&(t[1]=t[0]),t[0]=parseFloat(t[0]),t[1]=parseFloat(t[1]),t},this.add=function(e,t){for(var r=new Array,n=0;n<e.length;++n)r.push(e[n]*t[n]);return r.join(",")}):"translate"==this.type?this.translation():"rotate"==this.type&&(this.normalize=function(e){var t=(e=e.replace(/,/g," ")).split(" ");return t.length<3?(t[0]=parseFloat(t[0]),t[1]=0,t[2]=0):(t[0]=parseFloat(t[0]),t[1]=parseFloat(t[1]),t[2]=parseFloat(t[2])),t},this.add=function(e,t){for(var r=new Array,n=0;n<e.length;++n)r.push(e[n]+t[n]);return r.join(",")}),"scale"==this.type||"rotate"==this.type){if(this.from&&(this.from=this.normalize(this.from).join(",")),this.to&&(this.to=this.normalize(this.to).join(",")),this.by&&(this.by=this.normalize(this.by).join(",")),this.values){for(var A=this.values.split(";"),a=0;a<A.length;++a)A[a]=this.normalize(A[a]).join(",");this.values=A.join(";")}this.interpolate=function(e,t,r){for(var n=new Array,i=0;i<e.length;++i)n.push(e[i]+(t[i]-e[i])*r);return n.join(",")}}this.step=function(e){var t=this.attributeName;e=this.type+"("+e+")",this.target.setAttribute(t,e)}}var u=this;this.anim.beginElement=function(){return u.begin(),!0},this.anim.beginElementAt=function(e){return u.begin(1e3*e),!0},this.anim.endElement=function(){return u.finish(),!0},this.anim.endElementAt=function(e){return u.finish(1e3*e),!0},this.anim.getStartTime=function(){return parseFloat(u.iterBegin-timeZero)/1e3},this.anim.getCurrentTime=function(){var e=new Date;return parseFloat(e-u.iterBegin)/1e3}}function animate(){for(var e=new Date,t=0,r=animations.length;t<r;++t)try{animations[t].f(e)||(--t,--r)}catch(e){"Component returned failure code: 0x80004005 (NS_ERROR_FAILURE) [nsIDOMSVGPathElement.getTotalLength]"!==e.message&&(window.console&&console.log?console.log(e):alert(e))}}function toMillis(e){var t,r=(e=e.trim()).length;return-1!=e.indexOf(":")?(r=(t=e.split(":")).length,e=0,3==t.length&&(e+=36e5*parseInt(t[0])),e+=6e4*parseInt(t[r-2]),e+=1e3*parseFloat(t[r-1])):2<r&&"ms"==e.substring(r-2)?e=e.substring(0,e.length-2):1<r&&"s"==e.substring(r-1)?(e=e.substring(0,e.length-1),e*=1e3):3<r&&"min"==e.substring(r-3)?(e=e.substring(0,e.length-3),e*=6e4):1<r&&"h"==e.substring(r-1)?(e=e.substring(0,e.length-1),e*=36e5):e*=1e3,parseFloat(e)}function decompose(e,t){if("translate"==t)return e.e+","+e.f;var r=e.a,n=e.b,i=e.c,o=e.d;if("rotate"==t)return Math.atan2(i,r)+",0,0";var s=Math.sqrt(r*r+i*i),a=Math.sqrt(n*n+o*o);if("scale"==t){var l=r*o-n*i;return(0==l?0:l/s)+","+a}var A=r*n+i*o;return 180*(Math.PI/2-Math.acos(0==A?0:A/(a*s)))/Math.PI}function toRGB(e){if("rgb"==e.substring(0,3)){for(var t=(e=(e=(e=e.replace(/ /g,"")).replace("rgb(","")).replace(")","")).split(","),r=0;r<t.length;++r){var n=t[r].length-1;"%"==t[r].substring(n)?t[r]=Math.round(2.55*t[r].substring(0,n)):t[r]=parseInt(t[r])}return t}if("#"!=e.charAt(0))return colors[e];e=e.trim();t=new Array;return 7==e.length?(t[0]=parseInt(e.substring(1,3),16),t[1]=parseInt(e.substring(3,5),16),t[2]=parseInt(e.substring(5,7),16)):(t[0]=e.substring(1,2),t[1]=e.substring(2,3),t[2]=e.substring(3,4),t[0]=parseInt(t[0]+t[0],16),t[1]=parseInt(t[1]+t[1],16),t[2]=parseInt(t[2]+t[2],16)),t}function createPath(e){var t=document.createElementNS(svgns,"path");t.setAttribute("d",e);try{t.normalizedPathSegList&&(t.myNormalizedPathSegList=t.normalizedPathSegList)}catch(e){}return t.myNormalizedPathSegList||(t.myNormalizedPathSegList=t.pathSegList),t}Animator.prototype={register:function(){var e=(e=this.anim.getAttribute("begin"))||"0";this.schedule(e,this.begin);var t=this.anim.getAttribute("end");t&&this.schedule(t,this.finish)},schedule:function(e,t){for(var r=e.split(";"),n=0;n<r.length;++n){var i=r[n].trim();if(11<i.length&&"wallclock("==i.substring(0,10)){var o=new Date;o.setISO8601(i.substring(10,i.length-1));var s=o-new Date;t.call(this,s)}else if(isNaN(parseInt(i))){var a=0,l=i.indexOf("+");-1==l&&(l=i.indexOf("-")),-1!=l&&(a=toMillis(i.substring(l).replace(/ /g,"")),i=i.substring(0,l).trim()),l=i.indexOf(".");for(var A,u=new Array,u=-1==l?[this.target]:(0==(A=i.substring(0,l)).indexOf("index(")&&(A=A.substring(6,A.length-1)+this.index),getEventTargetsById(A,this.anim)),h=i.substring(l+1),c=funk(t,this,a),p=0;p<u.length;++p){var d=u[p];null!=d&&d.addEventListener(h,c,!1)}}else i=toMillis(i),t.call(this,i)}},getCurVal:function(){return"CSS"==this.attributeType?this.target.style.getPropertyValue(this.attributeName):this.target.getAttributeNS(this.namespace,this.attributeName)},begin:function(offset){if(!("never"==this.restart||this.running&&"whenNotActive"==this.restart))if(this.running&&this.finish(),null!=offset&&0<=offset){var me=this,myself=this.begin,call=function(){myself.call(me)};window.setTimeout(call,offset)}else if(this.startTime=new Date,!(offset&&offset<0&&(this.startTime.setTime(this.startTime.getTime()+offset),this.startTime<timeZero))){this.stop(),this.running=!0;var initVal=this.getCurVal();if(this.realInitVal=initVal,!initVal&&propDefaults[this.attributeName]&&(initVal=propDefaults[this.attributeName]),"set"==this.anim.nodeName&&this.step(this.to),this.iteration=0,this.values){this.animVals=this.values.split(";");for(var i=0;i<this.animVals.length;++i)this.animVals[i]=this.animVals[i].trim()}else this.animVals=new Array,this.from?this.animVals[0]=this.from:this.animVals[0]=initVal,this.by&&this.animVals[0]?this.animVals[1]=this.add(this.normalize(this.animVals[0]),this.normalize(this.by)):this.animVals[1]=this.to;if(this.animVals[this.animVals.length-1]&&(this.freezed=this.animVals[this.animVals.length-1],this.animVals[0]))if(("#"==this.animVals[0].substring(0,1)||colors[this.animVals[0]]||5<this.animVals[0].length&&"rgb("==this.animVals[0].trim().substring(0,4))&&("#"==this.freezed.substring(0,1)||colors[this.freezed]||5<this.freezed.length&&"rgb("==this.freezed.trim().substring(0,4)))this.color();else{var cp=new Array,oneVal=this.animVals[0],qualified=getUnit(oneVal);cp[0]=qualified[0],this.unit=qualified[1];for(var i=1;i<this.animVals.length;++i){var oneVal=this.animVals[i],qualified=getUnit(oneVal);if(qualified[1]!=this.unit){cp=this.animVals;break}cp[i]=qualified[0]}this.animVals=cp}this.iterBegin=this.startTime,animations.push(this);for(var i=0;i<this.beginListeners.length;++i)this.beginListeners[i].call();var onbegin=this.anim.getAttribute("onbegin");onbegin&&eval(onbegin)}},normalize:function(e){return e},add:function(e,t){return""+(parseFloat(e)+parseFloat(t))},f:function(e){var t=this.anim,r=this.computedDur;if(isNaN(r))return!0;var n=(e-this.iterBegin)/r;if(1<=n)return this.end();var i,o=parseFloat(this.iteration);if(this.repeatCount&&"indefinite"!=this.repeatCount&&o+n>=this.repeatCount)return"freeze"==this.fill&&(this.freezed=this.valueAt(this.repeatCount-o)),this.end();if(this.repeatDur&&"indefinite"!=this.repeatDur&&e-this.startTime>=toMillis(this.repeatDur))return"freeze"==this.fill&&(i=toMillis(this.repeatDur)/r,this.freezed=this.valueAt(i-Math.floor(i))),this.end();if("set"==t.localName)return!0;var s=this.valueAt(n);return this.step(s),!0},isInterpolable:function(e,t){if(!(i=!isNaN(e)&&!isNaN(t))&&-1!=e.trim().indexOf(" ")&&-1!=t.trim().indexOf(" ")){var r=e.trim().split(" "),n=t.trim().split(" "),i=!0;if(r.length==n.length)for(var o=0;o<n.length;++o)if(!this.isInterpolable(r[o],n[o]))return!1}return i},valueAt:function(e){var t=this.animVals;if(1==e)return t[t.length-1];if("discrete"!=this.calcMode&&this.isInterpolable(t[0],t[1])){if(this.keyTimes){for(o=1;o<this.keyTimes.length;++o)if(this.keyTimes[o]>e){i=o-1;var r=this.keyTimes[i];e=(e-r)/(this.keyTimes[o]-r);break}}else{var n=t.length-1,i=Math.floor(e*n);e=e%(1/n)*n}return"spline"==this.calcMode&&(e=this.spline(e,i)),this.interpolate(this.normalize(t[i]),this.normalize(t[i+1]),e)}if(this.keyTimes){for(var o=1;o<this.keyTimes.length;++o)if(this.keyTimes[o]>e)return t[o-1];return t[t.length-1]}var n=t.length;return t[Math.floor(e*n)]},spline:function(e,t){for(var r=this.keySplines[t],n=r.getTotalLength(),i=n/splinePrecision,o=0;o<=n;o+=i){if((a=r.getPointAtLength(o)).x>e)return e-=(s=r.getPointAtLength(o-i)).x,e/=a.x-s.x,s.y+(a.y-s.y)*e}var s,a=r.getPointAtLength(n);return e-=(s=r.getPointAtLength(n-i)).x,e/=a.x-s.x,s.y+(a.y-s.y)*e},interpolate:function(e,t,r){if(!this.isInterpolable(e,t))return r<.5?e:t;if(-1==e.trim().indexOf(" "))return parseFloat(e)+(t-e)*r;for(var n=e.split(" "),i=t.split(" "),o=new Array,s=0;s<i.length;++s)o[s]=parseFloat(n[s])+(i[s]-n[s])*r;return o.join(" ")},step:function(e){this.unit&&(e+=this.unit);var t=this.attributeName;"CSS"==this.attributeType?("font-size"!=t||isNaN(e)||(e+="px"),this.target.style.setProperty(t,e,"")):this.target.setAttributeNS(this.namespace,t,e)},end:function(){if(!this.repeatCount&&!this.repeatDur)return this.finish();++this.iteration;var now=new Date;if(this.repeatCount&&"indefinite"!=this.repeatCount&&this.iteration>=this.repeatCount)return this.finish();if(this.repeatDur&&"indefinite"!=this.repeatDur&&now-this.startTime>=toMillis(this.repeatDur))return this.finish();if("sum"==this.accumulate){var curVal=this.getCurVal();if(!curVal&&propDefaults[this.attributeName]&&(curVal=propDefaults[this.attributeName]),this.by&&!this.from)this.animVals[0]=curVal,this.animVals[1]=this.add(this.normalize(curVal),this.normalize(this.by));else for(var i=0;i<this.animVals.length;++i)this.animVals[i]=this.add(this.normalize(curVal),this.normalize(this.animVals[i]));this.freezed=this.animVals[this.animVals.length-1]}this.iterBegin=now;for(var i=0;i<this.repeatIterations.length;++i)this.repeatIterations[i]==this.iteration&&this.repeatListeners[i].call();var onrepeat=this.anim.getAttribute("onrepeat");return onrepeat&&eval(onrepeat),!0},finish:function(offset){if(this.min&&"indefinite"!=this.min){var now=new Date;if(now-this.startTime>=toMillis(this.min))return!0}if(offset&&0<offset){var me=this,myself=this.finish,call=function(){myself.call(me)};return window.setTimeout(call,offset),!0}if(offset&&offset<0){var now=new Date;if(now.setTime(now.getTime()+offset),now<this.startTime)return!0}var fill=this.fill,kept=!0;if("freeze"==fill?this.freeze():(this.stop(),this.step(this.realInitVal),kept=!1),this.running){for(var i=0;i<this.endListeners.length;++i)this.endListeners[i].call();var onend=this.anim.getAttribute("onend");onend&&eval(onend),this.running=!1}return kept},stop:function(){for(var e=0,t=animations.length;e<t;++e)if(animations[e]==this){animations.splice(e,1);break}},freeze:function(){this.step(this.freezed)},addEventListener:function(e,t,r){var n;"begin"==e?this.beginListeners.push(t):"end"==e?this.endListeners.push(t):7<e.length&&"repeat"==e.substring(0,6)&&(n=e.substring(7,e.length-1),this.repeatListeners.push(t),this.repeatIterations.push(n))},getPath:function(){var e=this.anim.getElementsByTagNameNS(svgns,"mpath")[0];if(e){var t=e.getAttributeNS(xlinkns,"href");return document.getElementById(t.substring(1))}var r=this.anim.getAttribute("path");return r?createPath(r):null},translation:function(){this.by&&-1==this.by.indexOf(",")&&(this.by=this.by+",0"),this.normalize=function(e){var t=e.replace(/,/g," ").replace(/ +/," ").split(/ /);return 1==t.length&&(t[1]="0"),t[0]=parseFloat(t[0]),t[1]=parseFloat(t[1]),t},this.add=function(e,t){return e[0]+t[0]+","+(e[1]+t[1])},this.isInterpolable=function(e,t){return!0},this.interpolate=function(e,t,r){return e[0]+(t[0]-e[0])*r+","+(e[1]+(t[1]-e[1])*r)}},color:function(){this.isInterpolable=function(e,t){return!0},this.interpolate=function(e,t,r){return"rgb("+Math.round(e[0]+(t[0]-e[0])*r)+","+Math.round(e[1]+(t[1]-e[1])*r)+","+Math.round(e[2]+(t[2]-e[2])*r)+")"},this.normalize=function(e){var t=toRGB(e);return null==t?toRGB(propDefaults[this.attributeName]):t},this.add=function(e,t){for(var r=new Array,n=0;n<e.length;++n)r.push(Math.min(e[n],255)+Math.min(t[n],255));return r.join(",")}},d:function(){this.isInterpolable=function(e,t){return!0},this.interpolate=function(e,t,r){for(var n="",i=e.myNormalizedPathSegList,o=t.myNormalizedPathSegList,s=0;s<i.numberOfItems&&s<o.numberOfItems;++s){var a,l,A=i.getItem(s),u=o.getItem(s);typeFrom=A.pathSegType,typeTo=u.pathSegType,1==typeFrom||1==typeTo?n+=" z ":(a=A.x+(u.x-A.x)*r,l=A.y+(u.y-A.y)*r,2==typeFrom||2==typeTo?n+=" M ":4==typeFrom||4==typeTo?n+=" L ":n+=" C "+(A.x1+(u.x1-A.x1)*r)+","+(A.y1+(u.y1-A.y1)*r)+" "+(A.x2+(u.x2-A.x2)*r)+","+(A.y2+(u.y2-A.y2)*r)+" ",n+=a+","+l)}return n},this.normalize=function(e){return createPath(e)}}};var units=["grad","deg","rad","kHz","Hz","em","em","px","pt","pc","mm","cm","in","ms","s","%"];function getUnit(e){if(e&&e.substring)for(var t=0,r=units.length;t<r;++t){var n=e.length-units[t].length;if(0<n&&e.substring(n)==units[t]){var i=e.substring(0,n);if(!isNaN(i))return[i,units[t]]}}return[e,null]}var colors={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},propDefaults={font:"see individual properties","font-family":"Arial","font-size":"medium","font-size-adjust":"none","font-stretch":"normal","font-style":"normal","font-variant":"normal","font-weight":"normal",direction:"ltr","letter-spacing":"normal","text-decoration":"none","unicode-bidi":"normal","word-spacing":"normal",clip:"auto",color:"depends on user agent",cursor:"auto",display:"inline",overflow:"hidden",visibility:"visible","clip-path":"none","clip-rule":"nonzero",mask:"none",opacity:"1","enable-background":"accumulate",filter:"none","flood-color":"black","flood-opacity":"1","lighting-color":"white","stop-color":"black","stop-opacity":"1","pointer-events":"visiblePainted","color-interpolation":"sRGB","color-interpolation-filters":"linearRGB","color-profile":"auto","color-rendering":"auto",fill:"black","fill-opacity":"1","fill-rule":"nonzero","image-rendering":"auto","marker-end":"none","marker-mid":"none","marker-start":"none","shape-rendering":"auto",stroke:"none","stroke-dasharray":"none","stroke-dashoffset":"0","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-opacity":"1","stroke-width":"1","text-rendering":"auto","alignment-baseline":"0","baseline-shift":"baseline","dominant-baseline":"auto","glyph-orientation-horizontal":"0","glyph-orientation-vertical":"auto",kerning:"auto","text-anchor":"start","writing-mode":"lr-tb"};function funk(e,t,r){return function(){e.call(t,r)}}"function"!=typeof String.prototype.trim&&(window._trimRegExp=new RegExp("^\\s+|\\s+$","g"),String.prototype.trim=function(){return this.replace(window._trimRegExp,"")}),isNaN(Date.parse("2012-04-22T19:53:32Z"))?(window._setISO8601RegExp=new RegExp("([0-9]{4})(-([0-9]{2})(-([0-9]{2})(T([0-9]{2}):([0-9]{2})(:([0-9]{2})(.([0-9]+))?)?(Z|(([-+])([0-9]{2}):([0-9]{2})))?)?)?)?"),Date.prototype.setISO8601=function(e){var t=window._setISO8601RegExp.exec(e),r=0,n=new Date(t[1],0,1);t[3]&&n.setMonth(t[3]-1),t[5]&&n.setDate(t[5]),t[7]&&n.setHours(t[7]),t[8]&&n.setMinutes(t[8]),t[10]&&n.setSeconds(t[10]),t[12]&&n.setMilliseconds(1e3*Number("0."+t[12])),t[14]&&(r=60*Number(t[16])+Number(t[17]),r*="-"==t[15]?1:-1),r-=n.getTimezoneOffset(),time=Number(n)+60*r*1e3,this.setTime(Number(time))}):Date.prototype.setISO8601=function(e){this.setTime(Date.parse(e))};try{window.addEventListener("load",initSMIL,!1)}catch(e){}!function(t,r){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("jquery")):t.jQueryBridget=r(t,t.jQuery)}(window,function(e,t){"use strict";var h=Array.prototype.slice,r=e.console,c=void 0===r?function(){}:function(e){r.error(e)};function n(A,i,u){(u=u||t||e.jQuery)&&(i.prototype.option||(i.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))}),u.fn[A]=function(e){if("string"!=typeof e)return n=e,this.each(function(e,t){var r=u.data(t,A);r?(r.option(n),r._init()):(r=new i(t,n),u.data(t,A,r))}),this;var t,o,s,a,l,n,r=h.call(arguments,1);return s=r,l="$()."+A+'("'+(o=e)+'")',(t=this).each(function(e,t){var r,n,i=u.data(t,A);i?(r=i[o])&&"_"!=o.charAt(0)?(n=r.apply(i,s),a=void 0===a?n:a):c(l+" is not a valid method"):c(A+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:t},o(u))}function o(e){!e||e&&e.bridget||(e.bridget=n)}return o(t||e.jQuery),n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function _(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var r="undefined"==typeof console?function(){}:function(e){console.error(e)},E=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],w=E.length;function b(e){var t=getComputedStyle(e);return t||r("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}var B,C=!1;function S(e){var t,r,n;if(C||(C=!0,(t=document.createElement("div")).style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box",(r=document.body||document.documentElement).appendChild(t),n=b(t),S.isBoxSizeOuter=B=200==_(n.width),r.removeChild(t)),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=b(e);if("none"==i.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<w;t++){e[E[t]]=0}return e}();var o={};o.width=e.offsetWidth,o.height=e.offsetHeight;for(var s=o.isBorderBox="border-box"==i.boxSizing,a=0;a<w;a++){var l=E[a],A=i[l],u=parseFloat(A);o[l]=isNaN(u)?0:u}var h=o.paddingLeft+o.paddingRight,c=o.paddingTop+o.paddingBottom,p=o.marginLeft+o.marginRight,d=o.marginTop+o.marginBottom,f=o.borderLeftWidth+o.borderRightWidth,g=o.borderTopWidth+o.borderBottomWidth,m=s&&B,y=_(i.width);!1!==y&&(o.width=y+(m?0:h+f));var v=_(i.height);return!1!==v&&(o.height=v+(m?0:c+g)),o.innerWidth=o.width-(h+f),o.innerHeight=o.height-(c+g),o.outerWidth=o.width+p,o.outerHeight=o.height+d,o}}return S}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var r=this._events=this._events||{},n=r[e]=r[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var r=this._onceEvents=this._onceEvents||{};return(r[e]=r[e]||{})[t]=!0,this}},t.off=function(e,t){var r=this._events&&this._events[e];if(r&&r.length){var n=r.indexOf(t);return-1!=n&&r.splice(n,1),this}},t.emitEvent=function(e,t){var r=this._events&&this._events[e];if(r&&r.length){r=r.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],i=0;i<r.length;i++){var o=r[i];n&&n[o]&&(this.off(e,o),delete n[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(t,r){"function"==typeof define&&define.amd?define("unipointer/unipointer",["ev-emitter/ev-emitter"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("ev-emitter")):t.Unipointer=r(t,t.EvEmitter)}(window,function(i,e){function t(){}var r=t.prototype=Object.create(e.prototype);r.bindStartEvent=function(e){this._bindStartEvent(e,!0)},r.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},r._bindStartEvent=function(e,t){var r=(t=void 0===t||t)?"addEventListener":"removeEventListener",n="mousedown";i.PointerEvent?n="pointerdown":"ontouchstart"in i&&(n="touchstart"),e[r](n,this)},r.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.getTouch=function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.identifier==this.pointerIdentifier)return r}},r.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},r.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},r.onpointerdown=function(e){this._pointerDown(e,e)},r._pointerDown=function(e,t){e.button||this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},r.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var n={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return r._bindPostStartEvents=function(e){var t;e&&((t=n[e.type]).forEach(function(e){i.addEventListener(e,this)},this),this._boundPointerEvents=t)},r._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){i.removeEventListener(e,this)},this),delete this._boundPointerEvents)},r.onmousemove=function(e){this._pointerMove(e,e)},r.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},r.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},r._pointerMove=function(e,t){this.pointerMove(e,t)},r.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},r.onmouseup=function(e){this._pointerUp(e,e)},r.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},r.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},r._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},r.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},r._pointerDone=function(){this._pointerReset(),this._unbindPostStartEvents(),this.pointerDone()},r._pointerReset=function(){this.isPointerDown=!1,delete this.pointerIdentifier},r.pointerDone=function(){},r.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},r.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},r._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},r.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},t.getPointerPoint=function(e){return{x:e.pageX,y:e.pageY}},t}),function(t,r){"function"==typeof define&&define.amd?define("unidragger/unidragger",["unipointer/unipointer"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("unipointer")):t.Unidragger=r(t,t.Unipointer)}(window,function(o,e){function t(){}var r=t.prototype=Object.create(e.prototype);r.bindHandles=function(){this._bindHandles(!0)},r.unbindHandles=function(){this._bindHandles(!1)},r._bindHandles=function(e){for(var t=(e=void 0===e||e)?"addEventListener":"removeEventListener",r=e?this._touchActionValue:"",n=0;n<this.handles.length;n++){var i=this.handles[n];this._bindStartEvent(i,e),i[t]("click",this),o.PointerEvent&&(i.style.touchAction=r)}},r._touchActionValue="none",r.pointerDown=function(e,t){this.okayPointerDown(e)&&(this.pointerDownPointer=t,e.preventDefault(),this.pointerDownBlur(),this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t]))};var i={TEXTAREA:!0,INPUT:!0,SELECT:!0,OPTION:!0},s={radio:!0,checkbox:!0,button:!0,submit:!0,image:!0,file:!0};return r.okayPointerDown=function(e){var t=i[e.target.nodeName],r=s[e.target.type],n=!t||r;return n||this._pointerReset(),n},r.pointerDownBlur=function(){var e=document.activeElement;e&&e.blur&&e!=document.body&&e.blur()},r.pointerMove=function(e,t){var r=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,r]),this._dragMove(e,t,r)},r._dragPointerMove=function(e,t){var r={x:t.pageX-this.pointerDownPointer.pageX,y:t.pageY-this.pointerDownPointer.pageY};return!this.isDragging&&this.hasDragStarted(r)&&this._dragStart(e,t),r},r.hasDragStarted=function(e){return 3<Math.abs(e.x)||3<Math.abs(e.y)},r.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},r._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},r._dragStart=function(e,t){this.isDragging=!0,this.isPreventingClicks=!0,this.dragStart(e,t)},r.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},r._dragMove=function(e,t,r){this.isDragging&&this.dragMove(e,t,r)},r.dragMove=function(e,t,r){e.preventDefault(),this.emitEvent("dragMove",[e,t,r])},r._dragEnd=function(e,t){this.isDragging=!1,setTimeout(function(){delete this.isPreventingClicks}.bind(this)),this.dragEnd(e,t)},r.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},r.onclick=function(e){this.isPreventingClicks&&e.preventDefault()},r._staticClick=function(e,t){this.isIgnoringMouseUp&&"mouseup"==e.type||(this.staticClick(e,t),"mouseup"!=e.type&&(this.isIgnoringMouseUp=!0,setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)))},r.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},t.getPointerPoint=e.getPointerPoint,t}),function(r,n){"function"==typeof define&&define.amd?define(["get-size/get-size","unidragger/unidragger"],function(e,t){return n(r,e,t)}):"object"==typeof module&&module.exports?module.exports=n(r,require("get-size"),require("unidragger")):r.Draggabilly=n(r,r.getSize,r.Unidragger)}(window,function(o,l,e){function r(e,t){for(var r in t)e[r]=t[r];return e}var n=o.jQuery;function t(e,t){this.element="string"==typeof e?document.querySelector(e):e,n&&(this.$element=n(this.element)),this.options=r({},this.constructor.defaults),this.option(t),this._create()}var i=t.prototype=Object.create(e.prototype);t.defaults={},i.option=function(e){r(this.options,e)};var s={relative:!0,absolute:!0,fixed:!0};function A(e,t,r){return r=r||"round",t?Math[r](e/t)*t:e}return i._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition=r({},this.position);var e=getComputedStyle(this.element);s[e.position]||(this.element.style.position="relative"),this.on("pointerDown",this.onPointerDown),this.on("pointerMove",this.onPointerMove),this.on("pointerUp",this.onPointerUp),this.enable(),this.setHandles()},i.setHandles=function(){this.handles=this.options.handle?this.element.querySelectorAll(this.options.handle):[this.element],this.bindHandles()},i.dispatchEvent=function(e,t,r){var n=[t].concat(r);this.emitEvent(e,n),this.dispatchJQueryEvent(e,t,r)},i.dispatchJQueryEvent=function(e,t,r){var n,i=o.jQuery;i&&this.$element&&((n=i.Event(t)).type=e,this.$element.trigger(n,r))},i._getPosition=function(){var e=getComputedStyle(this.element),t=this._getPositionCoord(e.left,"width"),r=this._getPositionCoord(e.top,"height");this.position.x=isNaN(t)?0:t,this.position.y=isNaN(r)?0:r,this._addTransformPosition(e)},i._getPositionCoord=function(e,t){if(-1==e.indexOf("%"))return parseInt(e,10);var r=l(this.element.parentNode);return r?parseFloat(e)/100*r[t]:0},i._addTransformPosition=function(e){var t,r,n,i,o=e.transform;0===o.indexOf("matrix")&&(t=o.split(","),r=0===o.indexOf("matrix3d")?12:4,n=parseInt(t[r],10),i=parseInt(t[1+r],10),this.position.x+=n,this.position.y+=i)},i.onPointerDown=function(e,t){this.element.classList.add("is-pointer-down"),this.dispatchJQueryEvent("pointerDown",e,[t])},i.dragStart=function(e,t){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add("is-dragging"),this.dispatchEvent("dragStart",e,[t]),this.animate())},i.measureContainment=function(){var e,t,r,n,i,o,s,a=this.getContainer();a&&(e=l(this.element),t=l(a),r=this.element.getBoundingClientRect(),n=a.getBoundingClientRect(),i=t.borderLeftWidth+t.borderRightWidth,o=t.borderTopWidth+t.borderBottomWidth,s=this.relativeStartPosition={x:r.left-(n.left+t.borderLeftWidth),y:r.top-(n.top+t.borderTopWidth)},this.containSize={width:t.width-i-s.x-e.width,height:t.height-o-s.y-e.height})},i.getContainer=function(){var e=this.options.containment;if(e)return e instanceof HTMLElement?e:"string"==typeof e?document.querySelector(e):this.element.parentNode},i.onPointerMove=function(e,t,r){this.dispatchJQueryEvent("pointerMove",e,[t,r])},i.dragMove=function(e,t,r){var n,i,o,s,a;this.isEnabled&&(s=r.x,a=r.y,i=(n=this.options.grid)&&n[0],o=n&&n[1],s=A(s,i),a=A(a,o),s=this.containDrag("x",s,i),a=this.containDrag("y",a,o),s="y"==this.options.axis?0:s,a="x"==this.options.axis?0:a,this.position.x=this.startPosition.x+s,this.position.y=this.startPosition.y+a,this.dragPoint.x=s,this.dragPoint.y=a,this.dispatchEvent("dragMove",e,[t,r]))},i.containDrag=function(e,t,r){if(!this.options.containment)return t;var n="x"==e?"width":"height",i=A(-this.relativeStartPosition[e],r,"ceil"),o=A(o=this.containSize[n],r,"floor");return Math.max(i,Math.min(o,t))},i.onPointerUp=function(e,t){this.element.classList.remove("is-pointer-down"),this.dispatchJQueryEvent("pointerUp",e,[t])},i.dragEnd=function(e,t){this.isEnabled&&(this.element.style.transform="",this.setLeftTop(),this.element.classList.remove("is-dragging"),this.dispatchEvent("dragEnd",e,[t]))},i.animate=function(){var e;this.isDragging&&(this.positionDrag(),e=this,requestAnimationFrame(function(){e.animate()}))},i.setLeftTop=function(){this.element.style.left=this.position.x+"px",this.element.style.top=this.position.y+"px"},i.positionDrag=function(){this.element.style.transform="translate3d( "+this.dragPoint.x+"px, "+this.dragPoint.y+"px, 0)"},i.staticClick=function(e,t){this.dispatchEvent("staticClick",e,[t])},i.setPosition=function(e,t){this.position.x=e,this.position.y=t,this.setLeftTop()},i.enable=function(){this.isEnabled=!0},i.disable=function(){this.isEnabled=!1,this.isDragging&&this.dragEnd()},i.destroy=function(){this.disable(),this.element.style.transform="",this.element.style.left="",this.element.style.top="",this.element.style.position="",this.unbindHandles(),this.$element&&this.$element.removeData("draggabilly")},i._init=function(){},n&&n.bridget&&n.bridget("draggabilly",t),t}),function(t,r){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("jquery")):t.jQueryBridget=r(t,t.jQuery)}(window,function(e,t){"use strict";var h=Array.prototype.slice,r=e.console,c=void 0===r?function(){}:function(e){r.error(e)};function n(A,i,u){(u=u||t||e.jQuery)&&(i.prototype.option||(i.prototype.option=function(e){u.isPlainObject(e)&&(this.options=u.extend(!0,this.options,e))}),u.fn[A]=function(e){if("string"!=typeof e)return n=e,this.each(function(e,t){var r=u.data(t,A);r?(r.option(n),r._init()):(r=new i(t,n),u.data(t,A,r))}),this;var t,o,s,a,l,n,r=h.call(arguments,1);return s=r,l="$()."+A+'("'+(o=e)+'")',(t=this).each(function(e,t){var r,n,i=u.data(t,A);i?(r=i[o])&&"_"!=o.charAt(0)?(n=r.apply(i,s),a=void 0===a?n:a):c(l+" is not a valid method"):c(A+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==a?a:t},o(u))}function o(e){!e||e&&e.bridget||(e.bridget=n)}return o(t||e.jQuery),n}),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function _(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var r="undefined"==typeof console?function(){}:function(e){console.error(e)},E=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],w=E.length;function b(e){var t=getComputedStyle(e);return t||r("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}var B,C=!1;function S(e){var t,r,n;if(C||(C=!0,(t=document.createElement("div")).style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box",(r=document.body||document.documentElement).appendChild(t),n=b(t),B=200==Math.round(_(n.width)),S.isBoxSizeOuter=B,r.removeChild(t)),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var i=b(e);if("none"==i.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<w;t++){e[E[t]]=0}return e}();var o={};o.width=e.offsetWidth,o.height=e.offsetHeight;for(var s=o.isBorderBox="border-box"==i.boxSizing,a=0;a<w;a++){var l=E[a],A=i[l],u=parseFloat(A);o[l]=isNaN(u)?0:u}var h=o.paddingLeft+o.paddingRight,c=o.paddingTop+o.paddingBottom,p=o.marginLeft+o.marginRight,d=o.marginTop+o.marginBottom,f=o.borderLeftWidth+o.borderRightWidth,g=o.borderTopWidth+o.borderBottomWidth,m=s&&B,y=_(i.width);!1!==y&&(o.width=y+(m?0:h+f));var v=_(i.height);return!1!==v&&(o.height=v+(m?0:c+g)),o.innerWidth=o.width-(h+f),o.innerHeight=o.height-(c+g),o.outerWidth=o.width+p,o.outerHeight=o.height+d,o}}return S}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var r=this._events=this._events||{},n=r[e]=r[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var r=this._onceEvents=this._onceEvents||{};return(r[e]=r[e]||{})[t]=!0,this}},t.off=function(e,t){var r=this._events&&this._events[e];if(r&&r.length){var n=r.indexOf(t);return-1!=n&&r.splice(n,1),this}},t.emitEvent=function(e,t){var r=this._events&&this._events[e];if(r&&r.length){r=r.slice(0),t=t||[];for(var n=this._onceEvents&&this._onceEvents[e],i=0;i<r.length;i++){var o=r[i];n&&n[o]&&(this.off(e,o),delete n[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var r=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],r=0;r<t.length;r++){var n=t[r]+"MatchesSelector";if(e[n])return n}}();return function(e,t){return e[r](t)}}),function(t,r){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("desandro-matches-selector")):t.fizzyUIUtils=r(t,t.matchesSelector)}(window,function(A,o){var u={extend:function(e,t){for(var r in t)e[r]=t[r];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice;u.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},u.removeFrom=function(e,t){var r=e.indexOf(t);-1!=r&&e.splice(r,1)},u.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,o(e,t))return e},u.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},u.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.filterFindElements=function(e,n){e=u.makeArray(e);var i=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(n){o(e,n)&&i.push(e);for(var t=e.querySelectorAll(n),r=0;r<t.length;r++)i.push(t[r])}else i.push(e)}),i},u.debounceMethod=function(e,t,n){n=n||100;var i=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];clearTimeout(e);var t=arguments,r=this;this[o]=setTimeout(function(){i.apply(r,t),delete r[o]},n)}},u.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},u.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,r){return t+"-"+r}).toLowerCase()};var h=A.console;return u.htmlInit=function(a,l){u.docReady(function(){var e=u.toDashed(l),i="data-"+e,t=document.querySelectorAll("["+i+"]"),r=document.querySelectorAll(".js-"+e),n=u.makeArray(t).concat(u.makeArray(r)),o=i+"-options",s=A.jQuery;n.forEach(function(t){var e,r=t.getAttribute(i)||t.getAttribute(o);try{e=r&&JSON.parse(r)}catch(e){return void(h&&h.error("Error parsing "+i+" on "+t.className+": "+e))}var n=new a(t,e);s&&s.data(t,l,n)})})},u}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))}(window,function(e,t){"use strict";var r=document.documentElement.style,n="string"==typeof r.transition?"transition":"WebkitTransition",i="string"==typeof r.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[n],s={transform:i,transition:n,transitionDuration:n+"Duration",transitionProperty:n+"Property",transitionDelay:n+"Delay"};function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(e.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var r in e){t[s[r]||r]=e[r]}},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),n=e[t?"left":"right"],i=e[r?"top":"bottom"],o=parseFloat(n),s=parseFloat(i),a=this.layout.size;-1!=n.indexOf("%")&&(o=o/100*a.width),-1!=i.indexOf("%")&&(s=s/100*a.height),o=isNaN(o)?0:o,s=isNaN(s)?0:s,o-=t?a.paddingLeft:a.paddingRight,s-=r?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=s},l.layoutPosition=function(){var e=this.layout.size,t={},r=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=r?"paddingLeft":"paddingRight",o=r?"left":"right",s=r?"right":"left",a=this.position.x+e[i];t[o]=this.getXValue(a),t[s]="";var l=n?"paddingTop":"paddingBottom",A=n?"top":"bottom",u=n?"bottom":"top",h=this.position.y+e[l];t[A]=this.getYValue(h),t[u]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var r,n,i,o=this.position.x,s=this.position.y,a=e==this.position.x&&t==this.position.y;this.setPosition(e,t),!a||this.isTransitioning?(r=e-o,n=t-s,(i={}).transform=this.getTranslate(r,n),this.transition({to:i,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})):this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var r in e.onTransitionEnd)t.onEnd[r]=e.onTransitionEnd[r];for(r in e.to)t.ingProperties[r]=!0,e.isCleaning&&(t.clean[r]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var A="opacity,"+i.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});l.enableTransition=function(){var e;this.isTransitioning||(e="number"==typeof(e=this.layout.options.transitionDuration)?e+"ms":e,this.css({transitionProperty:A,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1))},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(e){var t,r;e.target===this.element&&(t=this._transn,r=u[e.propertyName]||e.propertyName,delete t.ingProperties[r],function(e){for(var t in e)return;return 1}(t.ingProperties)&&this.disableTransition(),r in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[r]),r in t.onEnd&&(t.onEnd[r].call(this),delete t.onEnd[r]),this.emitEvent("transitionEnd",[this]))},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var r in e)t[r]="";this.css(t)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(h)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){n&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var r in t)return r},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a}),function(i,o){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(e,t,r,n){return o(i,e,t,r,n)}):"object"==typeof module&&module.exports?module.exports=o(i,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):i.Outlayer=o(i,i.EvEmitter,i.getSize,i.fizzyUIUtils,i.Outlayer.Item)}(window,function(e,t,i,o,n){"use strict";function r(){}var s=e.console,a=e.jQuery,l=0,A={};function u(e,t){var r,n=o.getQueryElement(e);n?(this.element=n,a&&(this.$element=a(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(t),r=++l,this.element.outlayerGUID=r,(A[r]=this)._create(),this._getOption("initLayout")&&this.layout()):s&&s.error("Bad element for "+this.constructor.namespace+": "+(n||e))}u.namespace="outlayer",u.Item=n,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=u.prototype;function c(e){function t(){e.apply(this,arguments)}return(t.prototype=Object.create(e.prototype)).constructor=t}o.extend(h,t.prototype),h.option=function(e){o.extend(this.options,e)},h._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(e){for(var t=this._filterFindItemElements(e),r=this.constructor.Item,n=[],i=0;i<t.length;i++){var o=new r(t[i],this);n.push(o)}return n},h._filterFindItemElements=function(e){return o.filterFindElements(e,this.options.itemSelector)},h.getItemElements=function(){return this.items.map(function(e){return e.element})},h.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=i(this.element)},h._getMeasurement=function(e,t){var r,n=this.options[e];n?("string"==typeof n?r=this.element.querySelector(n):n instanceof HTMLElement&&(r=n),this[e]=r?i(r)[t]:n):this[e]=0},h.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},h._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},h._layoutItems=function(e,r){var n;this._emitCompleteOnItems("layout",e),e&&e.length&&(n=[],e.forEach(function(e){var t=this._getItemLayoutPosition(e);t.item=e,t.isInstant=r||e.isLayoutInstant,n.push(t)},this),this._processLayoutQueue(n))},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},h.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),r=t&&t[1],n=t&&t[2];if(!r.length)return 0;r=parseFloat(r);var i=p[n]||1;return r*i}(e),this.stagger;this.stagger=0},h._positionItem=function(e,t,r,n,i){n?e.goTo(t,r):(e.stagger(i*this.stagger),e.moveTo(t,r))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){var e;!this._getOption("resizeContainer")||(e=this._getContainerSize())&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))},h._getContainerSize=r,h._setContainerMeasure=function(e,t){var r;void 0!==e&&((r=this.size).isBorderBox&&(e+=t?r.paddingLeft+r.paddingRight+r.borderLeftWidth+r.borderRightWidth:r.paddingBottom+r.paddingTop+r.borderTopWidth+r.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px")},h._emitCompleteOnItems=function(t,e){var r=this;function n(){r.dispatchEvent(t+"Complete",null,[e])}var i,o=e.length;function s(){++i==o&&n()}e&&o?(i=0,e.forEach(function(e){e.once(t,s)})):n()},h.dispatchEvent=function(e,t,r){var n,i=t?[t].concat(r):r;this.emitEvent(e,i),a&&(this.$element=this.$element||a(this.element),t?((n=a.Event(t)).type=e,this.$element.trigger(n,r)):this.$element.trigger(e,r))},h.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},h.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},h.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},h.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){o.removeFrom(this.stamps,e),this.unignore(e)},this)},h._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=o.makeArray(e)},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},h._manageStamp=r,h._getElementOffset=function(e){var t=e.getBoundingClientRect(),r=this._boundingRect,n=i(e);return{left:t.left-r.left-n.marginLeft,top:t.top-r.top-n.marginTop,right:r.right-t.right-n.marginRight,bottom:r.bottom-t.bottom-n.marginBottom}},h.handleEvent=o.handleEvent,h.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},o.debounceMethod(u,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var e=i(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},h.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},h.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},h.prepended=function(e){var t,r=this._itemize(e);r.length&&(t=this.items.slice(0),this.items=r.concat(t),this._resetLayout(),this._manageStamps(),this.layoutItems(r,!0),this.reveal(r),this.layoutItems(t))},h.reveal=function(e){var r;this._emitCompleteOnItems("reveal",e),e&&e.length&&(r=this.updateStagger(),e.forEach(function(e,t){e.stagger(t*r),e.reveal()}))},h.hide=function(e){var r;this._emitCompleteOnItems("hide",e),e&&e.length&&(r=this.updateStagger(),e.forEach(function(e,t){e.stagger(t*r),e.hide()}))},h.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},h.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},h.getItem=function(e){for(var t=0;t<this.items.length;t++){var r=this.items[t];if(r.element==e)return r}},h.getItems=function(e){e=o.makeArray(e);var r=[];return e.forEach(function(e){var t=this.getItem(e);t&&r.push(t)},this),r},h.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),o.removeFrom(this.items,e)},this)},h.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete A[t],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=o.getQueryElement(e))&&e.outlayerGUID;return t&&A[t]},u.create=function(e,t){var r=c(u);return r.defaults=o.extend({},u.defaults),o.extend(r.defaults,t),r.compatOptions=o.extend({},u.compatOptions),r.namespace=e,r.data=u.data,r.Item=c(n),o.htmlInit(r,e),a&&a.bridget&&a.bridget(e,r),r};var p={ms:1,s:1e3};return u.Item=n,u}),function(e,t){"function"==typeof define&&define.amd?define("packery/js/rect",t):"object"==typeof module&&module.exports?module.exports=t():(e.Packery=e.Packery||{},e.Packery.Rect=t())}(window,function(){"use strict";function a(e){for(var t in a.defaults)this[t]=a.defaults[t];for(t in e)this[t]=e[t]}a.defaults={x:0,y:0,width:0,height:0};var e=a.prototype;return e.contains=function(e){var t=e.width||0,r=e.height||0;return this.x<=e.x&&this.y<=e.y&&this.x+this.width>=e.x+t&&this.y+this.height>=e.y+r},e.overlaps=function(e){var t=this.x+this.width,r=this.y+this.height,n=e.x+e.width,i=e.y+e.height;return this.x<n&&t>e.x&&this.y<i&&r>e.y},e.getMaximalFreeRects=function(e){if(!this.overlaps(e))return!1;var t,r=[],n=this.x+this.width,i=this.y+this.height,o=e.x+e.width,s=e.y+e.height;return this.y<e.y&&(t=new a({x:this.x,y:this.y,width:this.width,height:e.y-this.y}),r.push(t)),o<n&&(t=new a({x:o,y:this.y,width:n-o,height:this.height}),r.push(t)),s<i&&(t=new a({x:this.x,y:s,width:this.width,height:i-s}),r.push(t)),this.x<e.x&&(t=new a({x:this.x,y:this.y,width:e.x-this.x,height:this.height}),r.push(t)),r},e.canFit=function(e){return this.width>=e.width&&this.height>=e.height},a}),function(e,t){var r;"function"==typeof define&&define.amd?define("packery/js/packer",["./rect"],t):"object"==typeof module&&module.exports?module.exports=t(require("./rect")):(r=e.Packery=e.Packery||{}).Packer=t(r.Rect)}(window,function(t){"use strict";function e(e,t,r){this.width=e||0,this.height=t||0,this.sortDirection=r||"downwardLeftToRight",this.reset()}var r=e.prototype;r.reset=function(){this.spaces=[];var e=new t({x:0,y:0,width:this.width,height:this.height});this.spaces.push(e),this.sorter=n[this.sortDirection]||n.downwardLeftToRight},r.pack=function(e){for(var t=0;t<this.spaces.length;t++){var r=this.spaces[t];if(r.canFit(e)){this.placeInSpace(e,r);break}}},r.columnPack=function(e){for(var t=0;t<this.spaces.length;t++){var r=this.spaces[t];if(r.x<=e.x&&r.x+r.width>=e.x+e.width&&r.height>=e.height-.01){e.y=r.y,this.placed(e);break}}},r.rowPack=function(e){for(var t=0;t<this.spaces.length;t++){var r=this.spaces[t];if(r.y<=e.y&&r.y+r.height>=e.y+e.height&&r.width>=e.width-.01){e.x=r.x,this.placed(e);break}}},r.placeInSpace=function(e,t){e.x=t.x,e.y=t.y,this.placed(e)},r.placed=function(e){for(var t=[],r=0;r<this.spaces.length;r++){var n=this.spaces[r],i=n.getMaximalFreeRects(e);i?t.push.apply(t,i):t.push(n)}this.spaces=t,this.mergeSortSpaces()},r.mergeSortSpaces=function(){e.mergeRects(this.spaces),this.spaces.sort(this.sorter)},r.addSpace=function(e){this.spaces.push(e),this.mergeSortSpaces()},e.mergeRects=function(e){var t=0,r=e[t];e:for(;r;){for(var n=0,i=e[t+n];i;){if(i==r)n++;else{if(i.contains(r)){e.splice(t,1),r=e[t];continue e}r.contains(i)?e.splice(t+n,1):n++}i=e[t+n]}r=e[++t]}return e};var n={downwardLeftToRight:function(e,t){return e.y-t.y||e.x-t.x},rightwardTopToBottom:function(e,t){return e.x-t.x||e.y-t.y}};return e}),function(e,t){"function"==typeof define&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("./rect")):e.Packery.Item=t(e.Outlayer,e.Packery.Rect)}(window,function(e,t){"use strict";function r(){e.Item.apply(this,arguments)}var n="string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform",i=r.prototype=Object.create(e.Item.prototype),o=i._create;i._create=function(){o.call(this),this.rect=new t};var s=i.moveTo;return i.moveTo=function(e,t){var r=Math.abs(this.position.x-e),n=Math.abs(this.position.y-t);this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&r<1&&n<1?this.goTo(e,t):s.apply(this,arguments)},i.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&n&&(this.element.style[n]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},i.disablePlacing=function(){this.isPlacing=!1},i.removeElem=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},i.showDropPlaceholder=function(){var e=this.dropPlaceholder;e||((e=this.dropPlaceholder=document.createElement("div")).className="packery-drop-placeholder",e.style.position="absolute"),e.style.width=this.size.width+"px",e.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(e)},i.positionDropPlaceholder=function(){this.dropPlaceholder.style[n]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},i.hideDropPlaceholder=function(){var e=this.dropPlaceholder.parentNode;e&&e.removeChild(this.dropPlaceholder)},r}),function(e,t){"function"==typeof define&&define.amd?define(["get-size/get-size","outlayer/outlayer","packery/js/rect","packery/js/packer","packery/js/item"],t):"object"==typeof module&&module.exports?module.exports=t(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):e.Packery=t(e.getSize,e.Outlayer,e.Packery.Rect,e.Packery.Packer,e.Packery.Item)}(window,function(u,e,f,t,r){"use strict";f.prototype.canFit=function(e){return this.width>=e.width-1&&this.height>=e.height-1};var n=e.create("packery");n.Item=r;var i=n.prototype;function o(e,t){return e.position.y-t.position.y||e.position.x-t.position.x}function s(e,t){return e.position.x-t.position.x||e.position.y-t.position.y}i._create=function(){e.prototype._create.call(this),this.packer=new t,this.shiftPacker=new t,this.isEnabled=!0,this.dragItemCount=0;var r=this;this.handleDraggabilly={dragStart:function(){r.itemDragStart(this.element)},dragMove:function(){r.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){r.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(e,t){t&&r.itemDragStart(e.currentTarget)},drag:function(e,t){t&&r.itemDragMove(e.currentTarget,t.position.left,t.position.top)},stop:function(e,t){t&&r.itemDragEnd(e.currentTarget)}}},i._resetLayout=function(){var e,t,r;this.getSize(),this._getMeasurements(),r=this._getOption("horizontal")?(e=1/0,t=this.size.innerHeight+this.gutter,"rightwardTopToBottom"):(e=this.size.innerWidth+this.gutter,t=1/0,"downwardLeftToRight"),this.packer.width=this.shiftPacker.width=e,this.packer.height=this.shiftPacker.height=t,this.packer.sortDirection=this.shiftPacker.sortDirection=r,this.packer.reset(),this.maxY=0,this.maxX=0},i._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},i._getItemLayoutPosition=function(e){var t;return this._setRectSize(e.element,e.rect),this.isShifting||0<this.dragItemCount?(t=this._getPackMethod(),this.packer[t](e.rect)):this.packer.pack(e.rect),this._setMaxXY(e.rect),e.rect},i.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},i._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},i._setMaxXY=function(e){this.maxX=Math.max(e.x+e.width,this.maxX),this.maxY=Math.max(e.y+e.height,this.maxY)},i._setRectSize=function(e,t){var r=u(e),n=r.outerWidth,i=r.outerHeight;(n||i)&&(n=this._applyGridGutter(n,this.columnWidth),i=this._applyGridGutter(i,this.rowHeight)),t.width=Math.min(n,this.packer.width),t.height=Math.min(i,this.packer.height)},i._applyGridGutter=function(e,t){if(!t)return e+this.gutter;var r=e%(t+=this.gutter);return e=Math[r&&r<1?"round":"ceil"](e/t)*t},i._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},i._manageStamp=function(e){var t,r,n=this.getItem(e);r=n&&n.isPlacing?n.rect:(t=this._getElementOffset(e),new f({x:this._getOption("originLeft")?t.left:t.right,y:this._getOption("originTop")?t.top:t.bottom})),this._setRectSize(e,r),this.packer.placed(r),this._setMaxXY(r)},i.sortItemsByPosition=function(){var e=this._getOption("horizontal")?s:o;this.items.sort(e)},i.fit=function(e,t,r){var n=this.getItem(e);n&&(this.stamp(n.element),n.enablePlacing(),this.updateShiftTargets(n),t=void 0===t?n.rect.x:t,r=void 0===r?n.rect.y:r,this.shift(n,t,r),this._bindFitEvents(n),n.moveTo(n.rect.x,n.rect.y),this.shiftLayout(),this.unstamp(n.element),this.sortItemsByPosition(),n.disablePlacing())},i._bindFitEvents=function(e){var t=this,r=0;function n(){2==++r&&t.dispatchEvent("fitComplete",null,[e])}e.once("layout",n),this.once("layoutComplete",n)},i.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},i.needsResizeLayout=function(){var e=u(this.element),t=this._getOption("horizontal")?"innerHeight":"innerWidth";return e[t]!=this.size[t]},i.resizeShiftPercentLayout=function(){var r,t,n,e=this._getItemsForLayout(this.items),i=this._getOption("horizontal"),o=i?"y":"x",s=i?"height":"width",a=i?"rowHeight":"columnWidth",l=i?"innerHeight":"innerWidth",A=this[a];(A=A&&A+this.gutter)?(this._getMeasurements(),r=this[a]+this.gutter,e.forEach(function(e){var t=Math.round(e.rect[o]/A);e.rect[o]=t*r})):(t=u(this.element)[l]+this.gutter,n=this.packer[s],e.forEach(function(e){e.rect[o]=e.rect[o]/n*t})),this.shiftLayout()},i.itemDragStart=function(e){var t;this.isEnabled&&(this.stamp(e),(t=this.getItem(e))&&(t.enablePlacing(),t.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(t)))},i.updateShiftTargets=function(e){this.shiftPacker.reset(),this._getBoundingRect();var i=this._getOption("originLeft"),o=this._getOption("originTop");this.stamps.forEach(function(e){var t,r,n=this.getItem(e);n&&n.isPlacing||(t=this._getElementOffset(e),r=new f({x:i?t.left:t.right,y:o?t.top:t.bottom}),this._setRectSize(e,r),this.shiftPacker.placed(r))},this);var l=this._getOption("horizontal"),t=l?"rowHeight":"columnWidth",A=l?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var u=this[t];if(u=u&&u+this.gutter)for(var r=Math.ceil(e.rect[A]/u),n=Math.floor((this.shiftPacker[A]+this.gutter)/u),h=(n-r)*u,s=0;s<n;s++){var a=l?0:s*u,c=l?s*u:0;this._addShiftTarget(a,c,h)}else h=this.shiftPacker[A]+this.gutter-e.rect[A],this._addShiftTarget(0,0,h);var p=this._getItemsForLayout(this.items),d=this._getPackMethod();p.forEach(function(e){var t=e.rect;this._setRectSize(e.element,t),this.shiftPacker[d](t),this._addShiftTarget(t.x,t.y,h);var r=l?t.x+t.width:t.x,n=l?t.y:t.y+t.height;if(this._addShiftTarget(r,n,h),u)for(var i=Math.round(t[A]/u),o=1;o<i;o++){var s=l?r:t.x+u*o,a=l?t.y+u*o:n;this._addShiftTarget(s,a,h)}},this)},i._addShiftTarget=function(e,t,r){var n,i=this._getOption("horizontal")?t:e;0!==i&&r<i||(n=e+","+t,-1!=this.shiftTargetKeys.indexOf(n)||(this.shiftTargetKeys.push(n),this.shiftTargets.push({x:e,y:t})))},i.shift=function(e,t,r){var s,a=1/0,l={x:t,y:r};this.shiftTargets.forEach(function(e){var t,r,n,i,o=(n=(r=l).x-(t=e).x,i=r.y-t.y,Math.sqrt(n*n+i*i));o<a&&(s=e,a=o)}),e.rect.x=s.x,e.rect.y=s.y};i.itemDragMove=function(e,t,r){var n,i,o=this.isEnabled&&this.getItem(e);function s(){n.shift(o,t,r),o.positionDropPlaceholder(),n.layout()}o&&(t-=this.size.paddingLeft,r-=this.size.paddingTop,n=this,i=new Date,this._itemDragTime&&i-this._itemDragTime<120?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(s,120)):(s(),this._itemDragTime=i))},i.itemDragEnd=function(e){var t,r,n=this.isEnabled&&this.getItem(e);function i(){2==++t&&(n.element.classList.remove("is-positioning-post-drag"),n.hideDropPlaceholder(),r.dispatchEvent("dragItemPositioned",null,[n]))}n&&(clearTimeout(this.dragTimeout),n.element.classList.add("is-positioning-post-drag"),t=0,r=this,n.once("layout",i),this.once("layoutComplete",i),n.moveTo(n.rect.x,n.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),n.disablePlacing(),this.unstamp(n.element))},i.bindDraggabillyEvents=function(e){this._bindDraggabillyEvents(e,"on")},i.unbindDraggabillyEvents=function(e){this._bindDraggabillyEvents(e,"off")},i._bindDraggabillyEvents=function(e,t){var r=this.handleDraggabilly;e[t]("dragStart",r.dragStart),e[t]("dragMove",r.dragMove),e[t]("dragEnd",r.dragEnd)},i.bindUIDraggableEvents=function(e){this._bindUIDraggableEvents(e,"on")},i.unbindUIDraggableEvents=function(e){this._bindUIDraggableEvents(e,"off")},i._bindUIDraggableEvents=function(e,t){var r=this.handleUIDraggable;e[t]("dragstart",r.start)[t]("drag",r.drag)[t]("dragstop",r.stop)};var a=i.destroy;return i.destroy=function(){a.apply(this,arguments),this.isEnabled=!1},n.Rect=f,n.Packer=t,n}),$(function(){$.widget("custom.iconselectmenu",$.ui.selectmenu,{_renderItem:function(e,t){var r=$("<li>"),n=$("<div>",{text:t.label});return t.disabled&&r.addClass("ui-state-disabled"),$("<span>",{style:t.element.attr("data-style"),class:"ui-icon "+t.element.attr("data-class")}).appendTo(n),r.append(n).appendTo(e)}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).html2canvas=t()}(this,function(){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function e(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var S=function(){return(S=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function A(o,s,a,l){return new(a=a||Promise)(function(e,t){function r(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new a(function(e){e(t.value)}).then(r,n)}i((l=l.apply(o,s||[])).next())})}function R(r,n){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,o=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=n.call(r,a)}catch(e){t=[6,e],o=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}var P=(i.prototype.add=function(e,t,r,n){return new i(this.left+e,this.top+t,this.width+r,this.height+n)},i.fromClientRect=function(e){return new i(e.left,e.top,e.width,e.height)},i);function i(e,t,r,n){this.left=e,this.top=t,this.width=r,this.height=n}for(var F=function(e){return P.fromClientRect(e.getBoundingClientRect())},u=function(e){for(var t=[],r=0,n=e.length;r<n;){var i,o=e.charCodeAt(r++);55296<=o&&o<=56319&&r<n?56320==(64512&(i=e.charCodeAt(r++)))?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--):t.push(o)}return t},f=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],i=-1,o="";++i<r;){var s=e[i];s<=65535?n.push(s):(s-=65536,n.push(55296+(s>>10),s%1024+56320)),(i+1===r||16384<n.length)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"==typeof Uint8Array?[]:new Uint8Array(256),r=0;r<t.length;r++)h[t.charCodeAt(r)]=r;function o(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))}var s=(a.prototype.get=function(e){var t;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},a);function a(e,t,r,n,i,o){this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=o}function g(e,t,r,n){var i=n[r];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=r;o<=n.length;){if((a=n[++o])===t)return 1;if(a!==b)break}if(i===b)for(o=r;0<o;){var s=n[--o];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a,l=r;l<=n.length;){if((a=n[++l])===t)return 1;if(a!==b)break}if(s!==b)break}}function m(e,t){for(var r=e;0<=r;){var n=t[r];if(n!==b)return n;r--}return 0}function c(r,e){var t=function(e,i){void 0===i&&(i="strict");var o=[],s=[],a=[];return e.forEach(function(e,t){var r=Y.get(e);if(50<r?(a.push(!0),r-=50):a.push(!1),-1!==["normal","auto","loose"].indexOf(i)&&-1!==[8208,8211,12316,12448].indexOf(e))return s.push(t),o.push(16);if(4!==r&&11!==r)return s.push(t),31===r?o.push("strict"===i?D:G):r===J||29===r?o.push(L):43===r?131072<=e&&e<=196605||196608<=e&&e<=262141?o.push(G):o.push(L):void o.push(r);if(0===t)return s.push(t),o.push(L);var n=o[t-1];return-1===re.indexOf(n)?(s.push(s[t-1]),o.push(n)):(s.push(t),o.push(L))}),[s,o,a]}(r,(e=e||{lineBreak:"normal",wordBreak:"normal"}).lineBreak),n=t[0],i=t[1],o=t[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(i=i.map(function(e){return-1!==[k,L,J].indexOf(e)?G:e})),[n,i,"keep-all"===e.wordBreak?o.map(function(e,t){return e&&19968<=r[t]&&r[t]<=40959}):void 0]}var l,p,d,y,v,_,E,w,b=10,B=13,C=15,x=17,T=18,U=19,Q=20,D=21,M=22,I=24,k=25,N=26,O=27,H=28,L=30,z=32,K=33,V=34,j=35,G=37,q=38,W=39,X=40,J=42,Y=(y=function(e){var t,r,n,i,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);for(var l=new("undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?ArrayBuffer:Array)(o),A=Array.isArray(l)?l:new Uint8Array(l),u=0;u<s;u+=4)t=h[e.charCodeAt(u)],r=h[e.charCodeAt(u+1)],n=h[e.charCodeAt(u+2)],i=h[e.charCodeAt(u+3)],A[a++]=t<<2|r>>4,A[a++]=(15&r)<<4|n>>2,A[a++]=(3&n)<<6|63&i;return l}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),v=Array.isArray(y)?function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r}(y):new Uint32Array(y),_=Array.isArray(y)?function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r}(y):new Uint16Array(y),E=o(_,12,v[4]/2),w=2===v[5]?o(_,(24+v[4])/2):(l=v,p=Math.ceil((24+v[4])/4),l.slice?l.slice(p,d):new Uint32Array(Array.prototype.slice.call(l,p,d))),new s(v[0],v[1],v[2],v[3],E,w)),Z=[L,36],$=[1,2,3,5],ee=[b,8],te=[O,N],re=$.concat(ee),ne=[q,W,X,V,j],ie=[C,B],oe=(se.prototype.slice=function(){return f.apply(void 0,this.codePoints.slice(this.start,this.end))},se);function se(e,t,r,n){this.codePoints=e,this.required="!"===t,this.start=r,this.end=n}function ae(e,t){var r=u(e),n=c(r,t),i=n[0],o=n[1],s=n[2],a=r.length,l=0,A=0;return{next:function(){if(a<=A)return{done:!0,value:null};for(var e="×";A<a&&"×"===(e=function(e,t,r,n,i){if(0===r[n])return"×";var o=n-1;if(Array.isArray(i)&&!0===i[o])return"×";var s=o-1,a=1+o,l=t[o],A=0<=s?t[s]:0,u=t[a];if(2===l&&3===u)return"×";if(-1!==$.indexOf(l))return"!";if(-1!==$.indexOf(u))return"×";if(-1!==ee.indexOf(u))return"×";if(8===m(o,t))return"÷";if(11===Y.get(e[o])&&(u===G||u===z||u===K))return"×";if(7===l||7===u)return"×";if(9===l)return"×";if(-1===[b,B,C].indexOf(l)&&9===u)return"×";if(-1!==[x,T,U,I,H].indexOf(u))return"×";if(m(o,t)===M)return"×";if(g(23,M,o,t))return"×";if(g([x,T],D,o,t))return"×";if(g(12,12,o,t))return"×";if(l===b)return"÷";if(23===l||23===u)return"×";if(16===u||16===l)return"÷";if(-1!==[B,C,D].indexOf(u)||14===l)return"×";if(36===A&&-1!==ie.indexOf(l))return"×";if(l===H&&36===u)return"×";if(u===Q&&-1!==Z.concat(Q,U,k,G,z,K).indexOf(l))return"×";if(-1!==Z.indexOf(u)&&l===k||-1!==Z.indexOf(l)&&u===k)return"×";if(l===O&&-1!==[G,z,K].indexOf(u)||-1!==[G,z,K].indexOf(l)&&u===N)return"×";if(-1!==Z.indexOf(l)&&-1!==te.indexOf(u)||-1!==te.indexOf(l)&&-1!==Z.indexOf(u))return"×";if(-1!==[O,N].indexOf(l)&&(u===k||-1!==[M,C].indexOf(u)&&t[1+a]===k)||-1!==[M,C].indexOf(l)&&u===k||l===k&&-1!==[k,H,I].indexOf(u))return"×";if(-1!==[k,H,I,x,T].indexOf(u))for(var h=o;0<=h;){if((c=t[h])===k)return"×";if(-1===[H,I].indexOf(c))break;h--}if(-1!==[O,N].indexOf(u))for(var c,h=-1!==[x,T].indexOf(l)?s:o;0<=h;){if((c=t[h])===k)return"×";if(-1===[H,I].indexOf(c))break;h--}if(q===l&&-1!==[q,W,V,j].indexOf(u)||-1!==[W,V].indexOf(l)&&-1!==[W,X].indexOf(u)||-1!==[X,j].indexOf(l)&&u===X)return"×";if(-1!==ne.indexOf(l)&&-1!==[Q,N].indexOf(u)||-1!==ne.indexOf(u)&&l===O)return"×";if(-1!==Z.indexOf(l)&&-1!==Z.indexOf(u))return"×";if(l===I&&-1!==Z.indexOf(u))return"×";if(-1!==Z.concat(k).indexOf(l)&&u===M||-1!==Z.concat(k).indexOf(u)&&l===T)return"×";if(41===l&&41===u){for(var p=r[o],d=1;0<p&&41===t[--p];)d++;if(d%2!=0)return"×"}return l===z&&u===K?"×":"÷"}(r,o,i,++A,s)););if("×"===e&&A!==a)return{done:!0,value:null};var t=new oe(r,e,l,A);return l=A,{value:t,done:!1}}}}var le,Ae;(Ae=le=le||{})[Ae.STRING_TOKEN=0]="STRING_TOKEN",Ae[Ae.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",Ae[Ae.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",Ae[Ae.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",Ae[Ae.COMMA_TOKEN=4]="COMMA_TOKEN",Ae[Ae.HASH_TOKEN=5]="HASH_TOKEN",Ae[Ae.DELIM_TOKEN=6]="DELIM_TOKEN",Ae[Ae.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",Ae[Ae.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",Ae[Ae.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",Ae[Ae.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",Ae[Ae.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",Ae[Ae.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",Ae[Ae.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",Ae[Ae.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",Ae[Ae.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",Ae[Ae.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",Ae[Ae.NUMBER_TOKEN=17]="NUMBER_TOKEN",Ae[Ae.FUNCTION=18]="FUNCTION",Ae[Ae.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",Ae[Ae.IDENT_TOKEN=20]="IDENT_TOKEN",Ae[Ae.COLUMN_TOKEN=21]="COLUMN_TOKEN",Ae[Ae.URL_TOKEN=22]="URL_TOKEN",Ae[Ae.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",Ae[Ae.CDC_TOKEN=24]="CDC_TOKEN",Ae[Ae.CDO_TOKEN=25]="CDO_TOKEN",Ae[Ae.COLON_TOKEN=26]="COLON_TOKEN",Ae[Ae.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",Ae[Ae.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",Ae[Ae.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",Ae[Ae.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",Ae[Ae.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",Ae[Ae.EOF_TOKEN=32]="EOF_TOKEN";function ue(e){return 48<=e&&e<=57}function he(e){return ue(e)||65<=e&&e<=70||97<=e&&e<=102}function ce(e){return 10===e||9===e||32===e}function pe(e){return 97<=(n=t=e)&&n<=122||65<=(r=t)&&r<=90||128<=e||95===e;var t,r,n}function de(e){return pe(e)||ue(e)||45===e}function fe(e,t){return 92===e&&10!==t}function ge(e,t,r){return 45===e?pe(t)||fe(t,r):!!pe(e)||!(92!==e||!fe(e,t))}function me(e,t,r){return 43===e||45===e?!!ue(t)||46===t&&ue(r):ue(46===e?t:e)}var ye={type:le.LEFT_PARENTHESIS_TOKEN},ve={type:le.RIGHT_PARENTHESIS_TOKEN},_e={type:le.COMMA_TOKEN},Ee={type:le.SUFFIX_MATCH_TOKEN},we={type:le.PREFIX_MATCH_TOKEN},be={type:le.COLUMN_TOKEN},Be={type:le.DASH_MATCH_TOKEN},Ce={type:le.INCLUDE_MATCH_TOKEN},Se={type:le.LEFT_CURLY_BRACKET_TOKEN},Pe={type:le.RIGHT_CURLY_BRACKET_TOKEN},Fe={type:le.SUBSTRING_MATCH_TOKEN},xe={type:le.BAD_URL_TOKEN},Te={type:le.BAD_STRING_TOKEN},Ue={type:le.CDO_TOKEN},Qe={type:le.CDC_TOKEN},De={type:le.COLON_TOKEN},Me={type:le.SEMICOLON_TOKEN},Ie={type:le.LEFT_SQUARE_BRACKET_TOKEN},Re={type:le.RIGHT_SQUARE_BRACKET_TOKEN},ke={type:le.WHITESPACE_TOKEN},Ne={type:le.EOF_TOKEN},Oe=(He.prototype.write=function(e){this._value=this._value.concat(u(e))},He.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Ne;)e.push(t),t=this.consumeToken();return e},He.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(de(t)||fe(r,n)){var i=ge(t,r,n)?2:1,o=this.consumeName();return{type:le.HASH_TOKEN,value:o,flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ee;break;case 39:return this.consumeStringToken(39);case 40:return ye;case 41:return ve;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Fe;break;case 43:if(me(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return _e;case 45:var s=e,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(me(s,a,l))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ge(s,a,l))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===a&&62===l)return this.consumeCodePoint(),this.consumeCodePoint(),Qe;break;case 46:if(me(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(42===A&&47===(A=this.consumeCodePoint()))return this.consumeToken();if(-1===A)return this.consumeToken()}break;case 58:return De;case 59:return Me;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Ue;break;case 64:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),c=this.peekCodePoint(2);if(ge(u,h,c)){o=this.consumeName();return{type:le.AT_KEYWORD_TOKEN,value:o}}break;case 91:return Ie;case 92:if(fe(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Re;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),we;break;case 123:return Se;case 125:return Pe;case 117:case 85:var p=this.peekCodePoint(0),d=this.peekCodePoint(1);return 43!==p||!he(d)&&63!==d||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Be;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),be;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ce;break;case-1:return Ne}return ce(e)?(this.consumeWhiteSpace(),ke):ue(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):pe(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:le.DELIM_TOKEN,value:f(e)}},He.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},He.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},He.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},He.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();he(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var r=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(f.apply(void 0,e.map(function(e){return 63===e?48:e})),16),i=parseInt(f.apply(void 0,e.map(function(e){return 63===e?70:e})),16);return{type:le.UNICODE_RANGE_TOKEN,start:n,end:i}}var o=parseInt(f.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&he(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];he(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();i=parseInt(f.apply(void 0,s),16);return{type:le.UNICODE_RANGE_TOKEN,start:o,end:i}}return{type:le.UNICODE_RANGE_TOKEN,start:o,end:o}},He.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:le.FUNCTION_TOKEN,value:e}):{type:le.IDENT_TOKEN,value:e}},He.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:le.URL_TOKEN,value:""};var t,r=this.peekCodePoint(0);if(39===r||34===r){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===le.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:le.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),xe)}for(;;){var i=this.consumeCodePoint();if(-1===i||41===i)return{type:le.URL_TOKEN,value:f.apply(void 0,e)};if(ce(i))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:le.URL_TOKEN,value:f.apply(void 0,e)}):(this.consumeBadUrlRemnants(),xe);if(34===i||39===i||40===i||(0<=(t=i)&&t<=8||11===t||14<=t&&t<=31||127===t))return this.consumeBadUrlRemnants(),xe;if(92===i){if(!fe(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),xe;e.push(this.consumeEscapedCodePoint())}else e.push(i)}},He.prototype.consumeWhiteSpace=function(){for(;ce(this.peekCodePoint(0));)this.consumeCodePoint()},He.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;fe(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},He.prototype.consumeStringSlice=function(e){for(var t="";0<e;){var r=Math.min(6e4,e);t+=f.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),t},He.prototype.consumeStringToken=function(e){for(var t="",r=0;;){var n,i=this._value[r];if(-1===i||void 0===i||i===e)return t+=this.consumeStringSlice(r),{type:le.STRING_TOKEN,value:t};if(10===i)return this._value.splice(0,r),Te;92!==i||-1!==(n=this._value[r+1])&&void 0!==n&&(10===n?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):fe(i,n)&&(t+=this.consumeStringSlice(r),t+=f(this.consumeEscapedCodePoint()),r=-1)),r++}},He.prototype.consumeNumber=function(){var e=[],t=4,r=this.peekCodePoint(0);for(43!==r&&45!==r||e.push(this.consumeCodePoint());ue(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(46===r&&ue(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ue(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===r||101===r)&&((43===n||45===n)&&ue(i)||ue(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ue(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[function(e){var t=0,r=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(r=-1),t++);for(var n=[];ue(e[t]);)n.push(e[t++]);var i=n.length?parseInt(f.apply(void 0,n),10):0;46===e[t]&&t++;for(var o=[];ue(e[t]);)o.push(e[t++]);var s=o.length,a=s?parseInt(f.apply(void 0,o),10):0;69!==e[t]&&101!==e[t]||t++;var l=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(l=-1),t++);for(var A=[];ue(e[t]);)A.push(e[t++]);var u=A.length?parseInt(f.apply(void 0,A),10):0;return r*(i+a*Math.pow(10,-s))*Math.pow(10,l*u)}(e),t]},He.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],r=e[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(ge(n,i,o)){var s=this.consumeName();return{type:le.DIMENSION_TOKEN,number:t,flags:r,unit:s}}return 37===n?(this.consumeCodePoint(),{type:le.PERCENTAGE_TOKEN,number:t,flags:r}):{type:le.NUMBER_TOKEN,number:t,flags:r}},He.prototype.consumeEscapedCodePoint=function(){var e,t=this.consumeCodePoint();if(he(t)){for(var r=f(t);he(this.peekCodePoint(0))&&r.length<6;)r+=f(this.consumeCodePoint());ce(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return 0===n||55296<=(e=n)&&e<=57343||1114111<n?65533:n}return-1===t?65533:t},He.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(de(t))e+=f(t);else{if(!fe(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=f(this.consumeEscapedCodePoint())}}},He);function He(){this._value=[]}var Le=(ze.create=function(e){var t=new Oe;return t.write(e),new ze(t.read())},ze.parseValue=function(e){return ze.create(e).parseComponentValue()},ze.parseValues=function(e){return ze.create(e).parseComponentValues()},ze.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===le.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===le.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);for(var t=this.consumeComponentValue();(e=this.consumeToken()).type===le.WHITESPACE_TOKEN;);if(e.type===le.EOF_TOKEN)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},ze.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===le.EOF_TOKEN)return e;e.push(t),e.push()}},ze.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case le.LEFT_CURLY_BRACKET_TOKEN:case le.LEFT_SQUARE_BRACKET_TOKEN:case le.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case le.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},ze.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},r=this.consumeToken();;){if(r.type===le.EOF_TOKEN||at(r,e))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},ze.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:le.FUNCTION};;){var r=this.consumeToken();if(r.type===le.EOF_TOKEN||r.type===le.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},ze.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Ne:e},ze.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},ze);function ze(e){this._tokens=e}function Ke(e){return e.type===le.DIMENSION_TOKEN}function Ve(e){return e.type===le.NUMBER_TOKEN}function je(e){return e.type===le.IDENT_TOKEN}function Ge(e){return e.type===le.STRING_TOKEN}function qe(e,t){return je(e)&&e.value===t}function We(e){return e.type!==le.WHITESPACE_TOKEN}function Xe(e){return e.type!==le.WHITESPACE_TOKEN&&e.type!==le.COMMA_TOKEN}function Je(e){var t=[],r=[];return e.forEach(function(e){if(e.type===le.COMMA_TOKEN){if(0===r.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(r),void(r=[])}e.type!==le.WHITESPACE_TOKEN&&r.push(e)}),r.length&&t.push(r),t}function Ye(e){return e.type===le.NUMBER_TOKEN||e.type===le.DIMENSION_TOKEN}function Ze(e){return e.type===le.PERCENTAGE_TOKEN||Ye(e)}function $e(e){return 1<e.length?[e[0],e[1]]:[e[0]]}function et(e,t,r){var n=e[0],i=e[1];return[ht(n,t),ht(void 0!==i?i:n,r)]}function tt(e){return e.type===le.DIMENSION_TOKEN&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)}function rt(e){switch(e.filter(je).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[lt,lt];case"to top":case"bottom":return pt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[lt,ut];case"to right":case"left":return pt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ut,ut];case"to bottom":case"top":return pt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ut,lt];case"to left":case"right":return pt(270)}return 0}function nt(e){return 0==(255&e)}function it(e){var t=255&e,r=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+r+","+t/255+")":"rgb("+i+","+n+","+r+")"}function ot(e,t){if(e.type===le.NUMBER_TOKEN)return e.number;if(e.type!==le.PERCENTAGE_TOKEN)return 0;var r=3===t?1:255;return 3===t?e.number/100*r:Math.round(e.number/100*r)}function st(e){var t=e.filter(Xe);if(3===t.length){var r=t.map(ot),n=r[0],i=r[1],o=r[2];return ft(n,i,o,1)}if(4!==t.length)return 0;var s=t.map(ot),n=s[0],i=s[1],o=s[2],a=s[3];return ft(n,i,o,a)}var at=function(e,t){return t===le.LEFT_CURLY_BRACKET_TOKEN&&e.type===le.RIGHT_CURLY_BRACKET_TOKEN||(t===le.LEFT_SQUARE_BRACKET_TOKEN&&e.type===le.RIGHT_SQUARE_BRACKET_TOKEN||t===le.LEFT_PARENTHESIS_TOKEN&&e.type===le.RIGHT_PARENTHESIS_TOKEN)},lt={type:le.NUMBER_TOKEN,number:0,flags:4},At={type:le.PERCENTAGE_TOKEN,number:50,flags:4},ut={type:le.PERCENTAGE_TOKEN,number:100,flags:4},ht=function(e,t){if(e.type===le.PERCENTAGE_TOKEN)return e.number/100*t;if(Ke(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},ct=function(e){if(e.type===le.DIMENSION_TOKEN)switch(e.unit){case"deg":return Math.PI*e.number/180;case"grad":return Math.PI/200*e.number;case"rad":return e.number;case"turn":return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},pt=function(e){return Math.PI*e/180},dt=function(e){if(e.type===le.FUNCTION){var t=wt[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(e.values)}if(e.type===le.HASH_TOKEN){if(3===e.value.length){var r=e.value.substring(0,1),n=e.value.substring(1,2),i=e.value.substring(2,3);return ft(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(4===e.value.length){var r=e.value.substring(0,1),n=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return ft(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===e.value.length){r=e.value.substring(0,2),n=e.value.substring(2,4),i=e.value.substring(4,6);return ft(parseInt(r,16),parseInt(n,16),parseInt(i,16),1)}if(8===e.value.length){r=e.value.substring(0,2),n=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return ft(parseInt(r,16),parseInt(n,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===le.IDENT_TOKEN){var s=bt[e.value.toUpperCase()];if(void 0!==s)return s}return bt.TRANSPARENT},ft=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(255*n)<<0)>>>0};function gt(e,t,r){return r<0&&(r+=1),1<=r&&--r,r<1/6?(t-e)*r*6+e:r<.5?t:r<2/3?6*(t-e)*(2/3-r)+e:e}function mt(e){var t=e.filter(Xe),r=t[0],n=t[1],i=t[2],o=t[3],s=(r.type===le.NUMBER_TOKEN?pt(r.number):ct(r))/(2*Math.PI),a=Ze(n)?n.number/100:0,l=Ze(i)?i.number/100:0,A=void 0!==o&&Ze(o)?ht(o,1):1;if(0==a)return ft(255*l,255*l,255*l,1);var u=l<=.5?l*(1+a):l+a-l*a,h=2*l-u,c=gt(h,u,s+1/3),p=gt(h,u,s),d=gt(h,u,s-1/3);return ft(255*c,255*p,255*d,A)}var yt,vt,_t,Et,wt={hsl:mt,hsla:mt,rgb:st,rgba:st},bt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(vt=yt=yt||{})[vt.VALUE=0]="VALUE",vt[vt.LIST=1]="LIST",vt[vt.IDENT_VALUE=2]="IDENT_VALUE",vt[vt.TYPE_VALUE=3]="TYPE_VALUE",vt[vt.TOKEN_VALUE=4]="TOKEN_VALUE",(Et=_t=_t||{})[Et.BORDER_BOX=0]="BORDER_BOX",Et[Et.PADDING_BOX=1]="PADDING_BOX";function Bt(e){var t=dt(e[0]),r=e[1];return r&&Ze(r)?{color:t,stop:r}:{color:t,stop:null}}function Ct(e,r){var t=e[0],n=e[e.length-1];null===t.stop&&(t.stop=lt),null===n.stop&&(n.stop=ut);for(var i=[],o=0,s=0;s<e.length;s++){var a,l=e[s].stop;null!==l?(o<(a=ht(l,r))?i.push(a):i.push(o),o=a):i.push(null)}for(var A=null,s=0;s<i.length;s++){var u=i[s];if(null===u)null===A&&(A=s);else if(null!==A){for(var h=s-A,c=(u-i[A-1])/(1+h),p=1;p<=h;p++)i[A+p-1]=c*p;A=null}}return e.map(function(e,t){return{color:e.color,stop:Math.max(Math.min(1,i[t]/r),0)}})}function St(e,t,r){var n,i,o,s,a,l,A,u="number"==typeof e?e:(s=(i=t)/2,a=(o=r)/2,l=ht((n=e)[0],i)-s,A=a-ht(n[1],o),(Math.atan2(A,l)+2*Math.PI)%(2*Math.PI)),h=Math.abs(t*Math.sin(u))+Math.abs(r*Math.cos(u)),c=t/2,p=r/2,d=h/2,f=Math.sin(u-Math.PI/2)*d,g=Math.cos(u-Math.PI/2)*d;return[h,c-g,c+g,p-f,p+f]}function Pt(e,t){return Math.sqrt(e*e+t*t)}function Ft(e,t,o,s,a){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var r=t[0],n=t[1],i=Pt(o-r,s-n);return(a?i<e.optimumDistance:i>e.optimumDistance)?{optimumCorner:t,optimumDistance:i}:e},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner}function xt(e){var i=pt(180),o=[];return Je(e).forEach(function(e,t){if(0===t){var r=e[0];if(r.type===le.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(i=rt(e));if(tt(r))return void(i=(ct(r)+pt(270))%pt(360))}var n=Bt(e);o.push(n)}),{angle:i,stops:o,type:Kt.LINEAR_GRADIENT}}function Tt(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]}var Ut={name:"background-clip",initialValue:"border-box",prefix:!(Et[Et.CONTENT_BOX=2]="CONTENT_BOX"),type:yt.LIST,parse:function(e){return e.map(function(e){if(je(e))switch(e.value){case"padding-box":return _t.PADDING_BOX;case"content-box":return _t.CONTENT_BOX}return _t.BORDER_BOX})}},Qt={name:"background-color",initialValue:"transparent",prefix:!1,type:yt.TYPE_VALUE,format:"color"},Dt=function(e,t,r,n,i){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(i),s},Mt=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(n))})},It={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height="123px",r.style.display="block",e.body.appendChild(r),t.selectNode(r);var n=t.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(r),123===i)return!0}}return!1}(document);return Object.defineProperty(It,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(It,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(n){var e=n.createElement("canvas");e.width=100,e.height=100;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,100,100);var t=new Image,o=e.toDataURL();t.src=o;var r=Dt(100,100,0,0,t);return i.fillStyle="red",i.fillRect(0,0,100,100),Mt(r).then(function(e){i.drawImage(e,0,0);var t=i.getImageData(0,0,100,100).data;i.fillStyle="red",i.fillRect(0,0,100,100);var r=n.createElement("div");return r.style.backgroundImage="url("+o+")",r.style.height="100px",Tt(t)?Mt(Dt(100,100,0,0,r)):Promise.reject(!1)}).then(function(e){return i.drawImage(e,0,0),Tt(i.getImageData(0,0,100,100).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(It,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(It,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(It,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(It,"SUPPORT_CORS_XHR",{value:e}),e}},Rt=(kt.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},kt.prototype.getTime=function(){return Date.now()-this.start},kt.create=function(e){kt.instances[e.id]=new kt(e)},kt.destroy=function(e){delete kt.instances[e]},kt.getInstance=function(e){var t=kt.instances[e];if(void 0===t)throw new Error("No logger instance found with id "+e);return t},kt.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(e))},kt.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(e)):this.info.apply(this,e))},kt.instances={},kt);function kt(e){var t=e.id,r=e.enabled;this.id=t,this.enabled=r,this.start=Date.now()}var Nt=(Ot.create=function(e,t){return Ot._caches[e]=new Ht(e,t)},Ot.destroy=function(e){delete Ot._caches[e]},Ot.open=function(e){var t=Ot._caches[e];if(void 0!==t)return t;throw new Error('Cache with key "'+e+'" not found')},Ot.getOrigin=function(e){var t=Ot._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},Ot.isSameOrigin=function(e){return Ot.getOrigin(e)===Ot._origin},Ot.setContext=function(e){Ot._link=e.document.createElement("a"),Ot._origin=Ot.getOrigin(e.location.href)},Ot.getInstance=function(){var e=Ot._current;if(null===e)throw new Error("No cache instance attached");return e},Ot.attachInstance=function(e){Ot._current=e},Ot.detachInstance=function(){Ot._current=null},Ot._caches={},Ot._origin="about:blank",Ot._current=null,Ot);function Ot(){}var Ht=(Lt.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(Yt(e)||Wt(e))&&(this._cache[e]=this.loadImage(e)),t},Lt.prototype.match=function(e){return this._cache[e]},Lt.prototype.loadImage=function(s){return A(this,void 0,void 0,function(){var t,n,r,i,o=this;return R(this,function(e){switch(e.label){case 0:return(t=Nt.isSameOrigin(s),n=!Xt(s)&&!0===this._options.useCORS&&It.SUPPORT_CORS_IMAGES&&!t,r=!Xt(s)&&!t&&"string"==typeof this._options.proxy&&It.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||Xt(s)||r||n)?(i=s,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=e.sent(),e.label=2;case 2:return Rt.getInstance(this.id).debug("Added image "+s.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(Jt(i)||n)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout(function(){return e(r)},500),0<o._options.imageTimeout&&setTimeout(function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,e.sent()]}})})},Lt.prototype.has=function(e){return void 0!==this._cache[e]},Lt.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},Lt.prototype.proxy=function(o){var s=this,a=this._options.proxy;if(!a)throw new Error("No proxy defined");var l=o.substring(0,256);return new Promise(function(t,r){var e,n=It.SUPPORT_RESPONSE_TYPE?"blob":"text",i=new XMLHttpRequest;i.onload=function(){var e;200===i.status?"text"==n?t(i.response):((e=new FileReader).addEventListener("load",function(){return t(e.result)},!1),e.addEventListener("error",function(e){return r(e)},!1),e.readAsDataURL(i.response)):r("Failed to proxy resource "+l+" with status code "+i.status)},i.onerror=r,i.open("GET",a+"?url="+encodeURIComponent(o)+"&responseType="+n),"text"!=n&&i instanceof XMLHttpRequest&&(i.responseType=n),s._options.imageTimeout&&(e=s._options.imageTimeout,i.timeout=e,i.ontimeout=function(){return r("Timed out ("+e+"ms) proxying "+l)}),i.send()})},Lt);function Lt(e,t){this.id=e,this._options=t,this._cache={}}function zt(e){var i=nr.CIRCLE,o=or.FARTHEST_CORNER,s=[],a=[];return Je(e).forEach(function(e,t){var r,n=!0;0===t?n=e.reduce(function(e,t){if(je(t))switch(t.value){case"center":return a.push(At),!1;case"top":case"left":return a.push(lt),!1;case"right":case"bottom":return a.push(ut),!1}else if(Ze(t)||Ye(t))return a.push(t),!1;return e},n):1===t&&(n=e.reduce(function(e,t){if(je(t))switch(t.value){case"circle":return i=nr.CIRCLE,!1;case"ellipse":return i=nr.ELLIPSE,!1;case"contain":case $t:return o=or.CLOSEST_SIDE,!1;case er:return o=or.FARTHEST_SIDE,!1;case tr:return o=or.CLOSEST_CORNER,!1;case"cover":case rr:return o=or.FARTHEST_CORNER,!1}else if(Ye(t)||Ze(t))return Array.isArray(o)||(o=[]),o.push(t),!1;return e},n)),n&&(r=Bt(e),s.push(r))}),{size:o,shape:i,stops:s,position:a,type:Kt.RADIAL_GRADIENT}}var Kt,Vt,jt=/^data:image\/svg\+xml/i,Gt=/^data:image\/.*;base64,/i,qt=/^data:image\/.*/i,Wt=function(e){return It.SUPPORT_SVG_DRAWING||!Zt(e)},Xt=function(e){return qt.test(e)},Jt=function(e){return Gt.test(e)},Yt=function(e){return"blob"===e.substr(0,4)},Zt=function(e){return"svg"===e.substr(-3).toLowerCase()||jt.test(e)},$t="closest-side",er="farthest-side",tr="closest-corner",rr="farthest-corner";(Vt=Kt=Kt||{})[Vt.URL=0]="URL",Vt[Vt.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",Vt[Vt.RADIAL_GRADIENT=2]="RADIAL_GRADIENT";var nr,ir,or,sr;(ir=nr=nr||{})[ir.CIRCLE=0]="CIRCLE",ir[ir.ELLIPSE=1]="ELLIPSE",(sr=or=or||{})[sr.CLOSEST_SIDE=0]="CLOSEST_SIDE",sr[sr.FARTHEST_SIDE=1]="FARTHEST_SIDE",sr[sr.CLOSEST_CORNER=2]="CLOSEST_CORNER",sr[sr.FARTHEST_CORNER=3]="FARTHEST_CORNER";var ar=function(e){if(e.type===le.URL_TOKEN){var t={url:e.value,type:Kt.URL};return Nt.getInstance().addImage(e.value),t}if(e.type!==le.FUNCTION)throw new Error("Unsupported image type");var r=ur[e.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(e.values)};var lr,Ar,ur={"linear-gradient":function(e){var i=pt(180),o=[];return Je(e).forEach(function(e,t){if(0===t){var r=e[0];if(r.type===le.IDENT_TOKEN&&"to"===r.value)return void(i=rt(e));if(tt(r))return void(i=ct(r))}var n=Bt(e);o.push(n)}),{angle:i,stops:o,type:Kt.LINEAR_GRADIENT}},"-moz-linear-gradient":xt,"-ms-linear-gradient":xt,"-o-linear-gradient":xt,"-webkit-linear-gradient":xt,"radial-gradient":function(e){var o=nr.CIRCLE,s=or.FARTHEST_CORNER,a=[],l=[];return Je(e).forEach(function(e,t){var r,n,i=!0;0===t&&(r=!1,i=e.reduce(function(e,t){if(r)if(je(t))switch(t.value){case"center":return l.push(At),e;case"top":case"left":return l.push(lt),e;case"right":case"bottom":return l.push(ut),e}else(Ze(t)||Ye(t))&&l.push(t);else if(je(t))switch(t.value){case"circle":return o=nr.CIRCLE,!1;case"ellipse":return o=nr.ELLIPSE,!1;case"at":return!(r=!0);case $t:return s=or.CLOSEST_SIDE,!1;case"cover":case er:return s=or.FARTHEST_SIDE,!1;case"contain":case tr:return s=or.CLOSEST_CORNER,!1;case rr:return s=or.FARTHEST_CORNER,!1}else if(Ye(t)||Ze(t))return Array.isArray(s)||(s=[]),s.push(t),!1;return e},i)),i&&(n=Bt(e),a.push(n))}),{size:s,shape:o,stops:a,position:l,type:Kt.RADIAL_GRADIENT}},"-moz-radial-gradient":zt,"-ms-radial-gradient":zt,"-o-radial-gradient":zt,"-webkit-radial-gradient":zt,"-webkit-gradient":function(e){var t=pt(180),s=[],a=Kt.LINEAR_GRADIENT,r=nr.CIRCLE,n=or.FARTHEST_CORNER;return Je(e).forEach(function(e,t){var r,n,i,o=e[0];if(0===t){if(je(o)&&"linear"===o.value)return void(a=Kt.LINEAR_GRADIENT);if(je(o)&&"radial"===o.value)return void(a=Kt.RADIAL_GRADIENT)}o.type===le.FUNCTION&&("from"===o.name?(n=dt(o.values[0]),s.push({stop:lt,color:n})):"to"===o.name?(n=dt(o.values[0]),s.push({stop:ut,color:n})):"color-stop"!==o.name||2===(r=o.values.filter(Xe)).length&&(n=dt(r[1]),i=r[0],Ve(i)&&s.push({stop:{type:le.PERCENTAGE_TOKEN,number:100*i.number,flags:i.flags},color:n})))}),a===Kt.LINEAR_GRADIENT?{angle:(t+pt(180))%pt(360),stops:s,type:a}:{size:n,shape:r,stops:s,position:[],type:a}}},hr={name:"background-image",initialValue:"none",type:yt.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===le.IDENT_TOKEN&&"none"===t.value?[]:e.filter(function(e){return Xe(e)&&((t=e).type!==le.FUNCTION||ur[t.name]);var t}).map(ar)}},cr={name:"background-origin",initialValue:"border-box",prefix:!1,type:yt.LIST,parse:function(e){return e.map(function(e){if(je(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pr={name:"background-position",initialValue:"0% 0%",type:yt.LIST,prefix:!1,parse:function(e){return Je(e).map(function(e){return e.filter(Ze)}).map($e)}};(Ar=lr=lr||{})[Ar.REPEAT=0]="REPEAT",Ar[Ar.NO_REPEAT=1]="NO_REPEAT",Ar[Ar.REPEAT_X=2]="REPEAT_X";var dr,fr,gr={name:"background-repeat",initialValue:"repeat",prefix:!(Ar[Ar.REPEAT_Y=3]="REPEAT_Y"),type:yt.LIST,parse:function(e){return Je(e).map(function(e){return e.filter(je).map(function(e){return e.value}).join(" ")}).map(mr)}},mr=function(e){switch(e){case"no-repeat":return lr.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return lr.REPEAT_X;case"repeat-y":case"no-repeat repeat":return lr.REPEAT_Y;case"repeat":default:return lr.REPEAT}};(fr=dr=dr||{}).AUTO="auto",fr.CONTAIN="contain";function yr(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:yt.TYPE_VALUE,format:"color"}}function vr(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:yt.LIST,parse:function(e){return $e(e.filter(Ze))}}}var _r,Er,wr={name:"background-size",initialValue:"0",prefix:!(fr.COVER="cover"),type:yt.LIST,parse:function(e){return Je(e).map(function(e){return e.filter(br)})}},br=function(e){return je(e)||Ze(e)},Br=yr("top"),Cr=yr("right"),Sr=yr("bottom"),Pr=yr("left"),Fr=vr("top-left"),xr=vr("top-right"),Tr=vr("bottom-right"),Ur=vr("bottom-left");(Er=_r=_r||{})[Er.NONE=0]="NONE",Er[Er.SOLID=1]="SOLID";function Qr(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:yt.IDENT_VALUE,parse:function(e){switch(e){case"none":return _r.NONE}return _r.SOLID}}}function Dr(e){return{name:"border-"+e+"-width",initialValue:"0",type:yt.VALUE,prefix:!1,parse:function(e){return Ke(e)?e.number:0}}}var Mr,Ir,Rr=Qr("top"),kr=Qr("right"),Nr=Qr("bottom"),Or=Qr("left"),Hr=Dr("top"),Lr=Dr("right"),zr=Dr("bottom"),Kr=Dr("left"),Vr={name:"color",initialValue:"transparent",prefix:!1,type:yt.TYPE_VALUE,format:"color"},jr={name:"display",initialValue:"inline-block",prefix:!1,type:yt.LIST,parse:function(e){return e.filter(je).reduce(function(e,t){return e|Gr(t.value)},0)}},Gr=function(e){switch(e){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};(Ir=Mr=Mr||{})[Ir.NONE=0]="NONE",Ir[Ir.LEFT=1]="LEFT",Ir[Ir.RIGHT=2]="RIGHT",Ir[Ir.INLINE_START=3]="INLINE_START";var qr,Wr,Xr,Jr,Yr={name:"float",initialValue:"none",prefix:!(Ir[Ir.INLINE_END=4]="INLINE_END"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"left":return Mr.LEFT;case"right":return Mr.RIGHT;case"inline-start":return Mr.INLINE_START;case"inline-end":return Mr.INLINE_END}return Mr.NONE}},Zr={name:"letter-spacing",initialValue:"0",prefix:!1,type:yt.VALUE,parse:function(e){return!(e.type===le.IDENT_TOKEN&&"normal"===e.value||e.type!==le.NUMBER_TOKEN&&e.type!==le.DIMENSION_TOKEN)?e.number:0}},$r={name:"line-break",initialValue:(Wr=qr=qr||{}).NORMAL="normal",prefix:!(Wr.STRICT="strict"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"strict":return qr.STRICT;case"normal":default:return qr.NORMAL}}},en={name:"line-height",initialValue:"normal",prefix:!1,type:yt.TOKEN_VALUE},tn={name:"list-style-image",initialValue:"none",type:yt.VALUE,prefix:!1,parse:function(e){return e.type===le.IDENT_TOKEN&&"none"===e.value?null:ar(e)}};(Jr=Xr=Xr||{})[Jr.INSIDE=0]="INSIDE";var rn,nn,on={name:"list-style-position",initialValue:"outside",prefix:!(Jr[Jr.OUTSIDE=1]="OUTSIDE"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"inside":return Xr.INSIDE;case"outside":default:return Xr.OUTSIDE}}};(nn=rn=rn||{})[nn.NONE=-1]="NONE",nn[nn.DISC=0]="DISC",nn[nn.CIRCLE=1]="CIRCLE",nn[nn.SQUARE=2]="SQUARE",nn[nn.DECIMAL=3]="DECIMAL",nn[nn.CJK_DECIMAL=4]="CJK_DECIMAL",nn[nn.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",nn[nn.LOWER_ROMAN=6]="LOWER_ROMAN",nn[nn.UPPER_ROMAN=7]="UPPER_ROMAN",nn[nn.LOWER_GREEK=8]="LOWER_GREEK",nn[nn.LOWER_ALPHA=9]="LOWER_ALPHA",nn[nn.UPPER_ALPHA=10]="UPPER_ALPHA",nn[nn.ARABIC_INDIC=11]="ARABIC_INDIC",nn[nn.ARMENIAN=12]="ARMENIAN",nn[nn.BENGALI=13]="BENGALI",nn[nn.CAMBODIAN=14]="CAMBODIAN",nn[nn.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",nn[nn.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",nn[nn.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",nn[nn.DEVANAGARI=18]="DEVANAGARI",nn[nn.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",nn[nn.GEORGIAN=20]="GEORGIAN",nn[nn.GUJARATI=21]="GUJARATI",nn[nn.GURMUKHI=22]="GURMUKHI",nn[nn.HEBREW=22]="HEBREW",nn[nn.HIRAGANA=23]="HIRAGANA",nn[nn.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",nn[nn.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",nn[nn.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",nn[nn.KANNADA=27]="KANNADA",nn[nn.KATAKANA=28]="KATAKANA",nn[nn.KATAKANA_IROHA=29]="KATAKANA_IROHA",nn[nn.KHMER=30]="KHMER",nn[nn.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",nn[nn.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",nn[nn.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",nn[nn.LAO=34]="LAO",nn[nn.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",nn[nn.MALAYALAM=36]="MALAYALAM",nn[nn.MONGOLIAN=37]="MONGOLIAN",nn[nn.MYANMAR=38]="MYANMAR",nn[nn.ORIYA=39]="ORIYA",nn[nn.PERSIAN=40]="PERSIAN",nn[nn.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",nn[nn.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",nn[nn.TAMIL=43]="TAMIL",nn[nn.TELUGU=44]="TELUGU",nn[nn.THAI=45]="THAI",nn[nn.TIBETAN=46]="TIBETAN",nn[nn.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",nn[nn.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",nn[nn.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",nn[nn.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN";function sn(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:yt.TOKEN_VALUE}}var an,ln,An={name:"list-style-type",initialValue:"none",prefix:!(nn[nn.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"disc":return rn.DISC;case"circle":return rn.CIRCLE;case"square":return rn.SQUARE;case"decimal":return rn.DECIMAL;case"cjk-decimal":return rn.CJK_DECIMAL;case"decimal-leading-zero":return rn.DECIMAL_LEADING_ZERO;case"lower-roman":return rn.LOWER_ROMAN;case"upper-roman":return rn.UPPER_ROMAN;case"lower-greek":return rn.LOWER_GREEK;case"lower-alpha":return rn.LOWER_ALPHA;case"upper-alpha":return rn.UPPER_ALPHA;case"arabic-indic":return rn.ARABIC_INDIC;case"armenian":return rn.ARMENIAN;case"bengali":return rn.BENGALI;case"cambodian":return rn.CAMBODIAN;case"cjk-earthly-branch":return rn.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return rn.CJK_HEAVENLY_STEM;case"cjk-ideographic":return rn.CJK_IDEOGRAPHIC;case"devanagari":return rn.DEVANAGARI;case"ethiopic-numeric":return rn.ETHIOPIC_NUMERIC;case"georgian":return rn.GEORGIAN;case"gujarati":return rn.GUJARATI;case"gurmukhi":return rn.GURMUKHI;case"hebrew":return rn.HEBREW;case"hiragana":return rn.HIRAGANA;case"hiragana-iroha":return rn.HIRAGANA_IROHA;case"japanese-formal":return rn.JAPANESE_FORMAL;case"japanese-informal":return rn.JAPANESE_INFORMAL;case"kannada":return rn.KANNADA;case"katakana":return rn.KATAKANA;case"katakana-iroha":return rn.KATAKANA_IROHA;case"khmer":return rn.KHMER;case"korean-hangul-formal":return rn.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return rn.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return rn.KOREAN_HANJA_INFORMAL;case"lao":return rn.LAO;case"lower-armenian":return rn.LOWER_ARMENIAN;case"malayalam":return rn.MALAYALAM;case"mongolian":return rn.MONGOLIAN;case"myanmar":return rn.MYANMAR;case"oriya":return rn.ORIYA;case"persian":return rn.PERSIAN;case"simp-chinese-formal":return rn.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return rn.SIMP_CHINESE_INFORMAL;case"tamil":return rn.TAMIL;case"telugu":return rn.TELUGU;case"thai":return rn.THAI;case"tibetan":return rn.TIBETAN;case"trad-chinese-formal":return rn.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return rn.TRAD_CHINESE_INFORMAL;case"upper-armenian":return rn.UPPER_ARMENIAN;case"disclosure-open":return rn.DISCLOSURE_OPEN;case"disclosure-closed":return rn.DISCLOSURE_CLOSED;case"none":default:return rn.NONE}}},un=sn("top"),hn=sn("right"),cn=sn("bottom"),pn=sn("left");(ln=an=an||{})[ln.VISIBLE=0]="VISIBLE",ln[ln.HIDDEN=1]="HIDDEN",ln[ln.SCROLL=2]="SCROLL";function dn(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:yt.TYPE_VALUE,format:"length-percentage"}}var fn,gn,mn,yn,vn={name:"overflow",initialValue:"visible",prefix:!(ln[ln.AUTO=3]="AUTO"),type:yt.LIST,parse:function(e){return e.filter(je).map(function(e){switch(e.value){case"hidden":return an.HIDDEN;case"scroll":return an.SCROLL;case"auto":return an.AUTO;case"visible":default:return an.VISIBLE}})}},_n={name:"overflow-wrap",initialValue:(gn=fn=fn||{}).NORMAL="normal",prefix:!(gn.BREAK_WORD="break-word"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"break-word":return fn.BREAK_WORD;case"normal":default:return fn.NORMAL}}},En=dn("top"),wn=dn("right"),bn=dn("bottom"),Bn=dn("left");(yn=mn=mn||{})[yn.LEFT=0]="LEFT",yn[yn.CENTER=1]="CENTER";var Cn,Sn,Pn={name:"text-align",initialValue:"left",prefix:!(yn[yn.RIGHT=2]="RIGHT"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"right":return mn.RIGHT;case"center":case"justify":return mn.CENTER;case"left":default:return mn.LEFT}}};(Sn=Cn=Cn||{})[Sn.STATIC=0]="STATIC",Sn[Sn.RELATIVE=1]="RELATIVE",Sn[Sn.ABSOLUTE=2]="ABSOLUTE",Sn[Sn.FIXED=3]="FIXED";var Fn,xn,Tn={name:"position",initialValue:"static",prefix:!(Sn[Sn.STICKY=4]="STICKY"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"relative":return Cn.RELATIVE;case"absolute":return Cn.ABSOLUTE;case"fixed":return Cn.FIXED;case"sticky":return Cn.STICKY}return Cn.STATIC}},Un={name:"text-shadow",initialValue:"none",type:yt.LIST,prefix:!1,parse:function(e){return 1===e.length&&qe(e[0],"none")?[]:Je(e).map(function(e){for(var t={color:bt.TRANSPARENT,offsetX:lt,offsetY:lt,blur:lt},r=0,n=0;n<e.length;n++){var i=e[n];Ye(i)?(0===r?t.offsetX=i:1===r?t.offsetY=i:t.blur=i,r++):t.color=dt(i)}return t})}};(xn=Fn=Fn||{})[xn.NONE=0]="NONE",xn[xn.LOWERCASE=1]="LOWERCASE",xn[xn.UPPERCASE=2]="UPPERCASE";var Qn,Dn,Mn={name:"text-transform",initialValue:"none",prefix:!(xn[xn.CAPITALIZE=3]="CAPITALIZE"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"uppercase":return Fn.UPPERCASE;case"lowercase":return Fn.LOWERCASE;case"capitalize":return Fn.CAPITALIZE}return Fn.NONE}},In={name:"transform",initialValue:"none",prefix:!0,type:yt.VALUE,parse:function(e){if(e.type===le.IDENT_TOKEN&&"none"===e.value)return null;if(e.type!==le.FUNCTION)return null;var t=Rn[e.name];if(void 0===t)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}},Rn={matrix:function(e){var t=e.filter(function(e){return e.type===le.NUMBER_TOKEN}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return e.type===le.NUMBER_TOKEN}).map(function(e){return e.number}),r=t[0],n=t[1],i=(t[2],t[3],t[4]),o=t[5],s=(t[6],t[7],t[8],t[9],t[10],t[11],t[12]),a=t[13];t[14],t[15];return 16===t.length?[r,n,i,o,s,a]:null}},kn={type:le.PERCENTAGE_TOKEN,number:50,flags:4},Nn=[kn,kn],On={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:yt.LIST,parse:function(e){var t=e.filter(Ze);return 2!==t.length?Nn:[t[0],t[1]]}};(Dn=Qn=Qn||{})[Dn.VISIBLE=0]="VISIBLE",Dn[Dn.HIDDEN=1]="HIDDEN";var Hn,Ln,zn={name:"visible",initialValue:"none",prefix:!(Dn[Dn.COLLAPSE=2]="COLLAPSE"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"hidden":return Qn.HIDDEN;case"collapse":return Qn.COLLAPSE;case"visible":default:return Qn.VISIBLE}}};(Ln=Hn=Hn||{}).NORMAL="normal",Ln.BREAK_ALL="break-all";var Kn,Vn,jn={name:"word-break",initialValue:"normal",prefix:!(Ln.KEEP_ALL="keep-all"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"break-all":return Hn.BREAK_ALL;case"keep-all":return Hn.KEEP_ALL;case"normal":default:return Hn.NORMAL}}},Gn={name:"z-index",initialValue:"auto",prefix:!1,type:yt.VALUE,parse:function(e){if(e.type===le.IDENT_TOKEN)return{auto:!0,order:0};if(Ve(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},qn={name:"opacity",initialValue:"1",type:yt.VALUE,prefix:!1,parse:function(e){return Ve(e)?e.number:1}},Wn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:yt.TYPE_VALUE,format:"color"},Xn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:yt.LIST,parse:function(e){return e.filter(je).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},Jn={name:"font-family",initialValue:"",prefix:!1,type:yt.LIST,parse:function(e){var t=[],r=[];return e.forEach(function(e){switch(e.type){case le.IDENT_TOKEN:case le.STRING_TOKEN:t.push(e.value);break;case le.NUMBER_TOKEN:t.push(e.number.toString());break;case le.COMMA_TOKEN:r.push(t.join(" ")),t.length=0}}),t.length&&r.push(t.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},Yn={name:"font-size",initialValue:"0",prefix:!1,type:yt.TYPE_VALUE,format:"length"},Zn={name:"font-weight",initialValue:"normal",type:yt.VALUE,prefix:!1,parse:function(e){if(Ve(e))return e.number;if(je(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},$n={name:"font-variant",initialValue:"none",type:yt.LIST,prefix:!1,parse:function(e){return e.filter(je).map(function(e){return e.value})}};(Vn=Kn=Kn||{}).NORMAL="normal",Vn.ITALIC="italic";function ei(e,t){return 0!=(e&t)}function ti(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""}var ri={name:"font-style",initialValue:"normal",prefix:!(Vn.OBLIQUE="oblique"),type:yt.IDENT_VALUE,parse:function(e){switch(e){case"oblique":return Kn.OBLIQUE;case"italic":return Kn.ITALIC;case"normal":default:return Kn.NORMAL}}},ni={name:"content",initialValue:"none",type:yt.LIST,prefix:!1,parse:function(e){if(0===e.length)return[];var t=e[0];return t.type===le.IDENT_TOKEN&&"none"===t.value?[]:e}},ii={name:"counter-increment",initialValue:"none",prefix:!0,type:yt.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===le.IDENT_TOKEN&&"none"===t.value)return null;for(var r=[],n=e.filter(We),i=0;i<n.length;i++){var o,s=n[i],a=n[i+1];s.type===le.IDENT_TOKEN&&(o=a&&Ve(a)?a.number:1,r.push({counter:s.value,increment:o}))}return r}},oi={name:"counter-reset",initialValue:"none",prefix:!0,type:yt.LIST,parse:function(e){if(0===e.length)return[];for(var t=[],r=e.filter(We),n=0;n<r.length;n++){var i,o=r[n],s=r[n+1];je(o)&&"none"!==o.value&&(i=s&&Ve(s)?s.number:0,t.push({counter:o.value,reset:i}))}return t}},si={name:"quotes",initialValue:"none",prefix:!0,type:yt.LIST,parse:function(e){if(0===e.length)return null;var t=e[0];if(t.type===le.IDENT_TOKEN&&"none"===t.value)return null;var r=[],n=e.filter(Ge);if(n.length%2!=0)return null;for(var i=0;i<n.length;i+=2){var o=n[i].value,s=n[i+1].value;r.push({open:o,close:s})}return r}},ai={name:"box-shadow",initialValue:"none",type:yt.LIST,prefix:!1,parse:function(e){return 1===e.length&&qe(e[0],"none")?[]:Je(e).map(function(e){for(var t={color:255,offsetX:lt,offsetY:lt,blur:lt,spread:lt,inset:!1},r=0,n=0;n<e.length;n++){var i=e[n];qe(i,"inset")?t.inset=!0:Ye(i)?(0===r?t.offsetX=i:1===r?t.offsetY=i:2===r?t.blur=i:t.spread=i,r++):t.color=dt(i)}return t})}},li=(Ai.prototype.isVisible=function(){return 0<this.display&&0<this.opacity&&this.visibility===Qn.VISIBLE},Ai.prototype.isTransparent=function(){return nt(this.backgroundColor)},Ai.prototype.isTransformed=function(){return null!==this.transform},Ai.prototype.isPositioned=function(){return this.position!==Cn.STATIC},Ai.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},Ai.prototype.isFloating=function(){return this.float!==Mr.NONE},Ai.prototype.isInlineLevel=function(){return ei(this.display,4)||ei(this.display,33554432)||ei(this.display,268435456)||ei(this.display,536870912)||ei(this.display,67108864)||ei(this.display,134217728)},Ai);function Ai(e){this.backgroundClip=pi(Ut,e.backgroundClip),this.backgroundColor=pi(Qt,e.backgroundColor),this.backgroundImage=pi(hr,e.backgroundImage),this.backgroundOrigin=pi(cr,e.backgroundOrigin),this.backgroundPosition=pi(pr,e.backgroundPosition),this.backgroundRepeat=pi(gr,e.backgroundRepeat),this.backgroundSize=pi(wr,e.backgroundSize),this.borderTopColor=pi(Br,e.borderTopColor),this.borderRightColor=pi(Cr,e.borderRightColor),this.borderBottomColor=pi(Sr,e.borderBottomColor),this.borderLeftColor=pi(Pr,e.borderLeftColor),this.borderTopLeftRadius=pi(Fr,e.borderTopLeftRadius),this.borderTopRightRadius=pi(xr,e.borderTopRightRadius),this.borderBottomRightRadius=pi(Tr,e.borderBottomRightRadius),this.borderBottomLeftRadius=pi(Ur,e.borderBottomLeftRadius),this.borderTopStyle=pi(Rr,e.borderTopStyle),this.borderRightStyle=pi(kr,e.borderRightStyle),this.borderBottomStyle=pi(Nr,e.borderBottomStyle),this.borderLeftStyle=pi(Or,e.borderLeftStyle),this.borderTopWidth=pi(Hr,e.borderTopWidth),this.borderRightWidth=pi(Lr,e.borderRightWidth),this.borderBottomWidth=pi(zr,e.borderBottomWidth),this.borderLeftWidth=pi(Kr,e.borderLeftWidth),this.boxShadow=pi(ai,e.boxShadow),this.color=pi(Vr,e.color),this.display=pi(jr,e.display),this.float=pi(Yr,e.cssFloat),this.fontFamily=pi(Jn,e.fontFamily),this.fontSize=pi(Yn,e.fontSize),this.fontStyle=pi(ri,e.fontStyle),this.fontVariant=pi($n,e.fontVariant),this.fontWeight=pi(Zn,e.fontWeight),this.letterSpacing=pi(Zr,e.letterSpacing),this.lineBreak=pi($r,e.lineBreak),this.lineHeight=pi(en,e.lineHeight),this.listStyleImage=pi(tn,e.listStyleImage),this.listStylePosition=pi(on,e.listStylePosition),this.listStyleType=pi(An,e.listStyleType),this.marginTop=pi(un,e.marginTop),this.marginRight=pi(hn,e.marginRight),this.marginBottom=pi(cn,e.marginBottom),this.marginLeft=pi(pn,e.marginLeft),this.opacity=pi(qn,e.opacity);var t=pi(vn,e.overflow);this.overflowX=t[0],this.overflowY=t[1<t.length?1:0],this.overflowWrap=pi(_n,e.overflowWrap),this.paddingTop=pi(En,e.paddingTop),this.paddingRight=pi(wn,e.paddingRight),this.paddingBottom=pi(bn,e.paddingBottom),this.paddingLeft=pi(Bn,e.paddingLeft),this.position=pi(Tn,e.position),this.textAlign=pi(Pn,e.textAlign),this.textDecorationColor=pi(Wn,e.textDecorationColor||e.color),this.textDecorationLine=pi(Xn,e.textDecorationLine),this.textShadow=pi(Un,e.textShadow),this.textTransform=pi(Mn,e.textTransform),this.transform=pi(In,e.transform),this.transformOrigin=pi(On,e.transformOrigin),this.visibility=pi(zn,e.visibility),this.wordBreak=pi(jn,e.wordBreak),this.zIndex=pi(Gn,e.zIndex)}var ui,hi=function(e){this.content=pi(ni,e.content),this.quotes=pi(si,e.quotes)},ci=function(e){this.counterIncrement=pi(ii,e.counterIncrement),this.counterReset=pi(oi,e.counterReset)},pi=function(e,t){var r=new Oe,n=null!=t?t.toString():e.initialValue;r.write(n);var i=new Le(r.read());switch(e.type){case yt.IDENT_VALUE:var o=i.parseComponentValue();return e.parse(je(o)?o.value:e.initialValue);case yt.VALUE:return e.parse(i.parseComponentValue());case yt.LIST:return e.parse(i.parseComponentValues());case yt.TOKEN_VALUE:return i.parseComponentValue();case yt.TYPE_VALUE:switch(e.format){case"angle":return ct(i.parseComponentValue());case"color":return dt(i.parseComponentValue());case"image":return ar(i.parseComponentValue());case"length":var s=i.parseComponentValue();return Ye(s)?s:lt;case"length-percentage":var a=i.parseComponentValue();return Ze(a)?a:lt}}throw new Error("Attempting to parse unsupported css format type "+e.format)},di=function(e){this.styles=new li(window.getComputedStyle(e,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&ho(e)&&(e.style.transform="none"),this.bounds=F(e),this.flags=0},fi=function(e,t){this.text=e,this.bounds=t},gi=function(e){var t=e.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var n=e.parentNode;if(n){n.replaceChild(r,e);var i=F(r);return r.firstChild&&n.replaceChild(r.firstChild,r),i}}return new P(0,0,0,0)},mi=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+r),P.fromClientRect(i.getBoundingClientRect())},yi=function(e,t){return 0!==t.letterSpacing?u(e).map(function(e){return f(e)}):vi(e,t)},vi=function(e,t){for(var r,n=ae(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===fn.BREAK_WORD?"break-word":t.wordBreak}),i=[];!(r=n.next()).done;)r.value&&i.push(r.value.slice());return i},_i=function(e,t){var r,n,i,o,s,a;this.text=Ei(e.data,t.textTransform),this.textBounds=(r=this.text,i=e,o=yi(r,n=t),s=[],a=0,o.forEach(function(e){var t;n.textDecorationLine.length||0<e.trim().length?It.SUPPORT_RANGE_BOUNDS?s.push(new fi(e,mi(i,a,e.length))):(t=i.splitText(e.length),s.push(new fi(e,gi(i))),i=t):It.SUPPORT_RANGE_BOUNDS||(i=i.splitText(e.length)),a+=e.length}),s)},Ei=function(e,t){switch(t){case Fn.LOWERCASE:return e.toLowerCase();case Fn.CAPITALIZE:return e.replace(wi,bi);case Fn.UPPERCASE:return e.toUpperCase();default:return e}},wi=/(^|\s|:|-|\(|\))([a-z])/g,bi=function(e,t,r){return 0<e.length?t+r.toUpperCase():e},Bi=(e(Ci,ui=di),Ci);function Ci(e){var t=ui.call(this,e)||this;return t.src=e.currentSrc||e.src,t.intrinsicWidth=e.naturalWidth,t.intrinsicHeight=e.naturalHeight,Nt.getInstance().addImage(t.src),t}var Si,Pi=(e(Fi,Si=di),Fi);function Fi(e){var t=Si.call(this,e)||this;return t.canvas=e,t.intrinsicWidth=e.width,t.intrinsicHeight=e.height,t}var xi,Ti=(e(Ui,xi=di),Ui);function Ui(e){var t=xi.call(this,e)||this,r=new XMLSerializer;return t.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(e)),t.intrinsicWidth=e.width.baseVal.value,t.intrinsicHeight=e.height.baseVal.value,Nt.getInstance().addImage(t.svg),t}var Qi,Di=(e(Mi,Qi=di),Mi);function Mi(e){var t=Qi.call(this,e)||this;return t.value=e.value,t}var Ii,Ri=(e(ki,Ii=di),ki);function ki(e){var t=Ii.call(this,e)||this;return t.start=e.start,t.reversed="boolean"==typeof e.reversed&&!0===e.reversed,t}var Ni,Oi=[{type:le.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],Hi=[{type:le.PERCENTAGE_TOKEN,flags:0,number:50}],Li="checkbox",zi="radio",Ki="password",Vi=(e(ji,Ni=di),ji);function ji(e){var t,r,n,i=Ni.call(this,e)||this;switch(i.type=e.type.toLowerCase(),i.checked=e.checked,i.value=0===(r=(t=e).type===Ki?new Array(t.value.length+1).join("•"):t.value).length?t.placeholder||"":r,i.type!==Li&&i.type!==zi||(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=_r.SOLID,i.styles.backgroundClip=[_t.BORDER_BOX],i.styles.backgroundOrigin=[0],i.bounds=(n=i.bounds).width>n.height?new P(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new P(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n),i.type){case Li:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Oi;break;case zi:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=Hi}return i}var Gi,qi=(e(Wi,Gi=di),Wi);function Wi(e){var t=Gi.call(this,e)||this,r=e.options[e.selectedIndex||0];return t.value=r&&r.text||"",t}var Xi,Ji=(e(Yi,Xi=di),Yi);function Yi(e){var t=Xi.call(this,e)||this;return t.value=e.value,t}function Zi(e){return dt(Le.create(e).parseComponentValue())}var $i,eo=(e(to,$i=di),to);function to(e){var t,r,n=$i.call(this,e)||this;n.src=e.src,n.width=parseInt(e.width,10)||0,n.height=parseInt(e.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement&&(n.tree=so(e.contentWindow.document.documentElement),t=e.contentWindow.document.documentElement?Zi(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):bt.TRANSPARENT,r=e.contentWindow.document.body?Zi(getComputedStyle(e.contentWindow.document.body).backgroundColor):bt.TRANSPARENT,n.backgroundColor=nt(t)?nt(r)?n.styles.backgroundColor:r:t)}catch(e){}return n}function ro(e){return"STYLE"===e.tagName}var no=["OL","UL","MENU"],io=function(e,t,r){for(var n=e.firstChild;n;n=o){var i,o=n.nextSibling;Ao(n)&&0<n.data.trim().length?t.textNodes.push(new _i(n,t.styles)):!uo(n)||(i=oo(n)).styles.isVisible()&&(ao(n,i,r)?i.flags|=4:lo(i.styles)&&(i.flags|=2),-1!==no.indexOf(n.tagName)&&(i.flags|=8),t.elements.push(i),wo(n)||mo(n)||bo(n)||io(n,i,r))}},oo=function(e){return new(_o(e)?Bi:vo(e)?Pi:mo(e)?Ti:po(e)?Di:fo(e)?Ri:go(e)?Vi:bo(e)?qi:wo(e)?Ji:Eo(e)?eo:di)(e)},so=function(e){var t=oo(e);return t.flags|=4,io(e,t,t),t},ao=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||yo(e)&&r.styles.isTransparent()},lo=function(e){return e.isPositioned()||e.isFloating()},Ao=function(e){return e.nodeType===Node.TEXT_NODE},uo=function(e){return e.nodeType===Node.ELEMENT_NODE},ho=function(e){return uo(e)&&void 0!==e.style&&!co(e)},co=function(e){return"object"==typeof e.className},po=function(e){return"LI"===e.tagName},fo=function(e){return"OL"===e.tagName},go=function(e){return"INPUT"===e.tagName},mo=function(e){return"svg"===e.tagName},yo=function(e){return"BODY"===e.tagName},vo=function(e){return"CANVAS"===e.tagName},_o=function(e){return"IMG"===e.tagName},Eo=function(e){return"IFRAME"===e.tagName},wo=function(e){return"TEXTAREA"===e.tagName},bo=function(e){return"SELECT"===e.tagName},Bo=(Co.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},Co.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},Co.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},Co.prototype.parse=function(e){var r=this,t=e.counterIncrement,n=e.counterReset,i=!0;null!==t&&t.forEach(function(e){var t=r.counters[e.counter];t&&0!==e.increment&&(i=!1,t[Math.max(0,t.length-1)]+=e.increment)});var o=[];return i&&n.forEach(function(e){var t=r.counters[e.counter];o.push(e.counter),(t=t||(r.counters[e.counter]=[])).push(e.reset)}),o},Co);function Co(){this.counters={}}function So(n,e,t,i,r,o){return n<e||t<n?ko(n,r,0<o.length):i.integers.reduce(function(e,t,r){for(;t<=n;)n-=t,e+=i.values[r];return e},"")+o}function Po(e,t,r,n){for(var i="";r||e--,i=n(e)+i,t<=(e/=t)*t;);return i}function Fo(e,t,r,n,i){var o=r-t+1;return(e<0?"-":"")+(Po(Math.abs(e),o,n,function(e){return f(Math.floor(e%o)+t)})+i)}function xo(e,t,r){void 0===r&&(r=". ");var n=t.length;return Po(Math.abs(e),n,!1,function(e){return t[Math.floor(e%n)]})+r}function To(e,t,r,n,i,o){if(e<-9999||9999<e)return ko(e,rn.CJK_DECIMAL,0<i.length);var s=Math.abs(e),a=i;if(0===s)return t[0]+a;for(var l=0;0<s&&l<=4;l++){var A=s%10;0==A&&ei(o,1)&&""!==a?a=t[A]+a:1<A||1==A&&0===l||1==A&&1===l&&ei(o,2)||1==A&&1===l&&ei(o,4)&&100<e||1==A&&1<l&&ei(o,8)?a=t[A]+(0<l?r[l-1]:"")+a:1==A&&0<l&&(a=r[l-1]+a),s=Math.floor(s/10)}return(e<0?n:"")+a}var Uo,Qo,Do={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Mo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Io={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Ro={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},ko=function(e,t,r){var n=r?". ":"",i=r?"、":"",o=r?", ":"",s=r?" ":"";switch(t){case rn.DISC:return"•"+s;case rn.CIRCLE:return"◦"+s;case rn.SQUARE:return"◾"+s;case rn.DECIMAL_LEADING_ZERO:var a=Fo(e,48,57,!0,n);return a.length<4?"0"+a:a;case rn.CJK_DECIMAL:return xo(e,"〇一二三四五六七八九",i);case rn.LOWER_ROMAN:return So(e,1,3999,Do,rn.DECIMAL,n).toLowerCase();case rn.UPPER_ROMAN:return So(e,1,3999,Do,rn.DECIMAL,n);case rn.LOWER_GREEK:return Fo(e,945,969,!1,n);case rn.LOWER_ALPHA:return Fo(e,97,122,!1,n);case rn.UPPER_ALPHA:return Fo(e,65,90,!1,n);case rn.ARABIC_INDIC:return Fo(e,1632,1641,!0,n);case rn.ARMENIAN:case rn.UPPER_ARMENIAN:return So(e,1,9999,Mo,rn.DECIMAL,n);case rn.LOWER_ARMENIAN:return So(e,1,9999,Mo,rn.DECIMAL,n).toLowerCase();case rn.BENGALI:return Fo(e,2534,2543,!0,n);case rn.CAMBODIAN:case rn.KHMER:return Fo(e,6112,6121,!0,n);case rn.CJK_EARTHLY_BRANCH:return xo(e,"子丑寅卯辰巳午未申酉戌亥",i);case rn.CJK_HEAVENLY_STEM:return xo(e,"甲乙丙丁戊己庚辛壬癸",i);case rn.CJK_IDEOGRAPHIC:case rn.TRAD_CHINESE_INFORMAL:return To(e,"零一二三四五六七八九","十百千萬","負",i,14);case rn.TRAD_CHINESE_FORMAL:return To(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",i,15);case rn.SIMP_CHINESE_INFORMAL:return To(e,"零一二三四五六七八九","十百千萬","负",i,14);case rn.SIMP_CHINESE_FORMAL:return To(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",i,15);case rn.JAPANESE_INFORMAL:return To(e,"〇一二三四五六七八九","十百千万","マイナス",i,0);case rn.JAPANESE_FORMAL:return To(e,"零壱弐参四伍六七八九","拾百千万","マイナス",i,7);case rn.KOREAN_HANGUL_FORMAL:return To(e,"영일이삼사오육칠팔구","십백천만","마이너스",o,7);case rn.KOREAN_HANJA_INFORMAL:return To(e,"零一二三四五六七八九","十百千萬","마이너스",o,0);case rn.KOREAN_HANJA_FORMAL:return To(e,"零壹貳參四五六七八九","拾百千","마이너스",o,7);case rn.DEVANAGARI:return Fo(e,2406,2415,!0,n);case rn.GEORGIAN:return So(e,1,19999,Ro,rn.DECIMAL,n);case rn.GUJARATI:return Fo(e,2790,2799,!0,n);case rn.GURMUKHI:return Fo(e,2662,2671,!0,n);case rn.HEBREW:return So(e,1,10999,Io,rn.DECIMAL,n);case rn.HIRAGANA:return xo(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case rn.HIRAGANA_IROHA:return xo(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case rn.KANNADA:return Fo(e,3302,3311,!0,n);case rn.KATAKANA:return xo(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case rn.KATAKANA_IROHA:return xo(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case rn.LAO:return Fo(e,3792,3801,!0,n);case rn.MONGOLIAN:return Fo(e,6160,6169,!0,n);case rn.MYANMAR:return Fo(e,4160,4169,!0,n);case rn.ORIYA:return Fo(e,2918,2927,!0,n);case rn.PERSIAN:return Fo(e,1776,1785,!0,n);case rn.TAMIL:return Fo(e,3046,3055,!0,n);case rn.TELUGU:return Fo(e,3174,3183,!0,n);case rn.THAI:return Fo(e,3664,3673,!0,n);case rn.TIBETAN:return Fo(e,3872,3881,!0,n);case rn.DECIMAL:default:return Fo(e,48,57,!0,n)}},No="data-html2canvas-ignore",Oo=(Ho.prototype.toIFrame=function(e,r){var t=this,n=Ko(e,r);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,s=n.contentWindow,a=s.document,l=Vo(n).then(function(){return A(t,void 0,void 0,function(){var t;return R(this,function(e){switch(e.label){case 0:return this.scrolledElements.forEach(Wo),s&&(s.scrollTo(r.left,r.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===r.top&&s.scrollX===r.left||(a.documentElement.style.top=-r.top+"px",a.documentElement.style.left=-r.left+"px",a.documentElement.style.position="absolute")),t=this.options.onclone,void 0===this.clonedReferenceElement?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:e.sent(),e.label=2;case 2:return"function"==typeof t?[2,Promise.resolve().then(function(){return t(a)}).then(function(){return n})]:[2,n]}})})});return a.open(),a.write(Go(document.doctype)+"<html></html>"),qo(this.referenceElement.ownerDocument,i,o),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},Ho.prototype.createElementClone=function(e){if(vo(e))return this.createCanvasClone(e);if(ro(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return _o(t)&&"lazy"===t.loading&&(t.loading="eager"),t},Ho.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e},""),n=e.cloneNode(!1);return n.textContent=r,n}}catch(e){if(Rt.getInstance(this.options.id).error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},Ho.prototype.createCanvasClone=function(e){if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(e){Rt.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var n=e.getContext("2d"),i=r.getContext("2d");return i&&(n?i.putImageData(n.getImageData(0,0,e.width,e.height),0,0):i.drawImage(e,0,0)),r}catch(e){}return r},Ho.prototype.cloneNode=function(e){if(Ao(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(t&&uo(e)&&(ho(e)||co(e))){var r=this.createElementClone(e),n=t.getComputedStyle(e),i=t.getComputedStyle(e,":before"),o=t.getComputedStyle(e,":after");this.referenceElement===e&&ho(r)&&(this.clonedReferenceElement=r),yo(r)&&Zo(r);for(var s=this.counters.parse(new ci(n)),a=this.resolvePseudoContent(e,r,i,Uo.BEFORE),l=e.firstChild;l;l=l.nextSibling)uo(l)&&("SCRIPT"===l.tagName||l.hasAttribute(No)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(l))||this.options.copyStyles&&uo(l)&&ro(l)||r.appendChild(this.cloneNode(l));a&&r.insertBefore(a,r.firstChild);var A=this.resolvePseudoContent(e,r,o,Uo.AFTER);return A&&r.appendChild(A),this.counters.pop(s),n&&(this.options.copyStyles||co(e))&&!Eo(e)&&jo(n,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(wo(e)||bo(e))&&(wo(r)||bo(r))&&(r.value=e.value),r}return e.cloneNode(!1)},Ho.prototype.resolvePseudoContent=function(d,e,t,r){var f=this;if(t){var n=t.content,g=e.ownerDocument;if(g&&n&&"none"!==n&&"-moz-alt-content"!==n&&"none"!==t.display){this.counters.parse(new ci(t));var m=new hi(t),y=g.createElement("html2canvaspseudoelement");jo(t,y),m.content.forEach(function(e){if(e.type===le.STRING_TOKEN)y.appendChild(g.createTextNode(e.value));else if(e.type===le.URL_TOKEN){var t=g.createElement("img");t.src=e.value,t.style.opacity="1",y.appendChild(t)}else if(e.type===le.FUNCTION){var r,n,i,o,s,a,l,A,u,h,c,p;"attr"===e.name?(r=e.values.filter(je)).length&&y.appendChild(g.createTextNode(d.getAttribute(r[0].value)||"")):"counter"===e.name?(a=(n=e.values.filter(Xe))[0],A=n[1],a&&je(a)&&(i=f.counters.getCounterValue(a.value),o=A&&je(A)?An.parse(A.value):rn.DECIMAL,y.appendChild(g.createTextNode(ko(i,o,!1))))):"counters"===e.name&&(a=(s=e.values.filter(Xe))[0],l=s[1],A=s[2],a&&je(a)&&(u=f.counters.getCounterValues(a.value),h=A&&je(A)?An.parse(A.value):rn.DECIMAL,c=l&&l.type===le.STRING_TOKEN?l.value:"",p=u.map(function(e){return ko(e,h,!1)}).join(c),y.appendChild(g.createTextNode(p))))}else if(e.type===le.IDENT_TOKEN)switch(e.value){case"open-quote":y.appendChild(g.createTextNode(ti(m.quotes,f.quoteDepth++,!0)));break;case"close-quote":y.appendChild(g.createTextNode(ti(m.quotes,--f.quoteDepth,!1)));break;default:y.appendChild(g.createTextNode(e.value))}}),y.className=Xo+" "+Jo;var i=r===Uo.BEFORE?" "+Xo:" "+Jo;return co(e)?e.className.baseValue+=i:e.className+=i,y}}},Ho.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},Ho);function Ho(e,t){if(this.options=t,this.scrolledElements=[],this.referenceElement=e,this.counters=new Bo,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}(Qo=Uo=Uo||{})[Qo.BEFORE=0]="BEFORE",Qo[Qo.AFTER=1]="AFTER";var Lo,zo,Ko=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(No,"true"),e.body.appendChild(r),r},Vo=function(i){return new Promise(function(t,e){var r=i.contentWindow;if(!r)return e("No window assigned for iframe");var n=r.document;r.onload=i.onload=n.onreadystatechange=function(){r.onload=i.onload=n.onreadystatechange=null;var e=setInterval(function(){0<n.body.childNodes.length&&"complete"===n.readyState&&(clearInterval(e),t(i))},50)}})},jo=function(e,t){for(var r=e.length-1;0<=r;r--){var n=e.item(r);"content"!==n&&t.style.setProperty(n,e.getPropertyValue(n))}return t},Go=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},qo=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},Wo=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},Xo="___html2canvas___pseudoelement_before",Jo="___html2canvas___pseudoelement_after",Yo='{\n    content: "" !important;\n    display: none !important;\n}',Zo=function(e){$o(e,"."+Xo+":before"+Yo+"\n         ."+Jo+":after"+Yo)},$o=function(e,t){var r,n=e.ownerDocument;n&&((r=n.createElement("style")).textContent=t,e.appendChild(r))};(zo=Lo=Lo||{})[zo.VECTOR=0]="VECTOR",zo[zo.BEZIER_CURVE=1]="BEZIER_CURVE";function es(e,r){return e.length===r.length&&e.some(function(e,t){return e===r[t]})}var ts=(rs.prototype.add=function(e,t){return new rs(this.x+e,this.y+t)},rs);function rs(e,t){this.type=Lo.VECTOR,this.x=e,this.y=t}function ns(e,t,r){return new ts(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)}var is=(os.prototype.subdivide=function(e,t){var r=ns(this.start,this.startControl,e),n=ns(this.startControl,this.endControl,e),i=ns(this.endControl,this.end,e),o=ns(r,n,e),s=ns(n,i,e),a=ns(o,s,e);return t?new os(this.start,r,o,a):new os(a,s,i,this.end)},os.prototype.add=function(e,t){return new os(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},os.prototype.reverse=function(){return new os(this.end,this.endControl,this.startControl,this.start)},os);function os(e,t,r,n){this.type=Lo.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=r,this.end=n}function ss(e){return e.type===Lo.BEZIER_CURVE}var as,ls,As=function(e){var t=e.styles,r=e.bounds,n=et(t.borderTopLeftRadius,r.width,r.height),i=n[0],o=n[1],s=et(t.borderTopRightRadius,r.width,r.height),a=s[0],l=s[1],A=et(t.borderBottomRightRadius,r.width,r.height),u=A[0],h=A[1],c=et(t.borderBottomLeftRadius,r.width,r.height),p=c[0],d=c[1],f=[];f.push((i+a)/r.width),f.push((p+u)/r.width),f.push((o+d)/r.height),f.push((l+h)/r.height);var g=Math.max.apply(Math,f);1<g&&(i/=g,o/=g,a/=g,l/=g,u/=g,h/=g,p/=g,d/=g);var m=r.width-a,y=r.height-h,v=r.width-u,_=r.height-d,E=t.borderTopWidth,w=t.borderRightWidth,b=t.borderBottomWidth,B=t.borderLeftWidth,C=ht(t.paddingTop,e.bounds.width),S=ht(t.paddingRight,e.bounds.width),P=ht(t.paddingBottom,e.bounds.width),F=ht(t.paddingLeft,e.bounds.width);this.topLeftBorderBox=0<i||0<o?cs(r.left,r.top,i,o,as.TOP_LEFT):new ts(r.left,r.top),this.topRightBorderBox=0<a||0<l?cs(r.left+m,r.top,a,l,as.TOP_RIGHT):new ts(r.left+r.width,r.top),this.bottomRightBorderBox=0<u||0<h?cs(r.left+v,r.top+y,u,h,as.BOTTOM_RIGHT):new ts(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=0<p||0<d?cs(r.left,r.top+_,p,d,as.BOTTOM_LEFT):new ts(r.left,r.top+r.height),this.topLeftPaddingBox=0<i||0<o?cs(r.left+B,r.top+E,Math.max(0,i-B),Math.max(0,o-E),as.TOP_LEFT):new ts(r.left+B,r.top+E),this.topRightPaddingBox=0<a||0<l?cs(r.left+Math.min(m,r.width+B),r.top+E,m>r.width+B?0:a-B,l-E,as.TOP_RIGHT):new ts(r.left+r.width-w,r.top+E),this.bottomRightPaddingBox=0<u||0<h?cs(r.left+Math.min(v,r.width-B),r.top+Math.min(y,r.height+E),Math.max(0,u-w),h-b,as.BOTTOM_RIGHT):new ts(r.left+r.width-w,r.top+r.height-b),this.bottomLeftPaddingBox=0<p||0<d?cs(r.left+B,r.top+_,Math.max(0,p-B),d-b,as.BOTTOM_LEFT):new ts(r.left+B,r.top+r.height-b),this.topLeftContentBox=0<i||0<o?cs(r.left+B+F,r.top+E+C,Math.max(0,i-(B+F)),Math.max(0,o-(E+C)),as.TOP_LEFT):new ts(r.left+B+F,r.top+E+C),this.topRightContentBox=0<a||0<l?cs(r.left+Math.min(m,r.width+B+F),r.top+E+C,m>r.width+B+F?0:a-B+F,l-(E+C),as.TOP_RIGHT):new ts(r.left+r.width-(w+S),r.top+E+C),this.bottomRightContentBox=0<u||0<h?cs(r.left+Math.min(v,r.width-(B+F)),r.top+Math.min(y,r.height+E+C),Math.max(0,u-(w+S)),h-(b+P),as.BOTTOM_RIGHT):new ts(r.left+r.width-(w+S),r.top+r.height-(b+P)),this.bottomLeftContentBox=0<p||0<d?cs(r.left+B+F,r.top+_,Math.max(0,p-(B+F)),d-(b+P),as.BOTTOM_LEFT):new ts(r.left+B+F,r.top+r.height-(b+P))};(ls=as=as||{})[ls.TOP_LEFT=0]="TOP_LEFT",ls[ls.TOP_RIGHT=1]="TOP_RIGHT",ls[ls.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",ls[ls.BOTTOM_LEFT=3]="BOTTOM_LEFT";function us(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]}function hs(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]}var cs=function(e,t,r,n,i){var o=(Math.sqrt(2)-1)/3*4,s=r*o,a=n*o,l=e+r,A=t+n;switch(i){case as.TOP_LEFT:return new is(new ts(e,A),new ts(e,A-a),new ts(l-s,t),new ts(l,t));case as.TOP_RIGHT:return new is(new ts(e,t),new ts(e+s,t),new ts(l,A-a),new ts(l,A));case as.BOTTOM_RIGHT:return new is(new ts(l,t),new ts(l,t+a),new ts(e+s,A),new ts(e,A));case as.BOTTOM_LEFT:default:return new is(new ts(l,A),new ts(l-s,A),new ts(e,t+a),new ts(e,t))}},ps=function(e,t,r){this.type=0,this.offsetX=e,this.offsetY=t,this.matrix=r,this.target=6},ds=function(e,t){this.type=1,this.target=t,this.path=e},fs=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},gs=(ms.prototype.getParentEffects=function(){var e,t,r=this.effects.slice(0);return this.container.styles.overflowX!==an.VISIBLE&&(e=us(this.curves),t=hs(this.curves),es(e,t)||r.push(new ds(t,6))),r},ms);function ms(e,t){var r,n,i,o,s;this.container=e,this.effects=t.slice(0),this.curves=new As(e),null!==e.styles.transform&&(r=e.bounds.left+e.styles.transformOrigin[0].number,n=e.bounds.top+e.styles.transformOrigin[1].number,i=e.styles.transform,this.effects.push(new ps(r,n,i))),e.styles.overflowX!==an.VISIBLE&&(o=us(this.curves),s=hs(this.curves),es(o,s)?this.effects.push(new ds(o,6)):(this.effects.push(new ds(o,2)),this.effects.push(new ds(s,4))))}function ys(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))}function vs(e){var t=e.styles,r=e.bounds,n=ht(t.paddingLeft,r.width),i=ht(t.paddingRight,r.width),o=ht(t.paddingTop,r.width),s=ht(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+o+s))}function _s(e,t,r){var n,i,o,s,a=(n=Ps(e.styles.backgroundOrigin,t),i=e,0===n?i.bounds:(2===n?vs:ys)(i)),l=(o=Ps(e.styles.backgroundClip,t),s=e,o===_t.BORDER_BOX?s.bounds:(o===_t.CONTENT_BOX?vs:ys)(s)),A=Ss(Ps(e.styles.backgroundSize,t),r,a),u=A[0],h=A[1],c=et(Ps(e.styles.backgroundPosition,t),a.width-u,a.height-h);return[Fs(Ps(e.styles.backgroundRepeat,t),c,A,a,l),Math.round(a.left+c[0]),Math.round(a.top+c[1]),u,h]}function Es(e){return je(e)&&e.value===dr.AUTO}function ws(e){return"number"==typeof e}var bs=function(u,h,c,p){u.container.elements.forEach(function(e){var t=ei(e.flags,4),r=ei(e.flags,2),n=new gs(e,u.getParentEffects());ei(e.styles.display,2048)&&p.push(n);var i,o,s,a,l,A=ei(e.flags,8)?[]:p;t||r?(i=t||e.styles.isPositioned()?c:h,o=new fs(n),e.styles.isPositioned()||e.styles.opacity<1||e.styles.isTransformed()?(s=e.styles.zIndex.order)<0?(a=0,i.negativeZIndex.some(function(e,t){return s>e.element.container.styles.zIndex.order?(a=t,!1):0<a}),i.negativeZIndex.splice(a,0,o)):0<s?(l=0,i.positiveZIndex.some(function(e,t){return s>=e.element.container.styles.zIndex.order?(l=t+1,!1):0<l}),i.positiveZIndex.splice(l,0,o)):i.zeroOrAutoZIndexOrTransformedOrOpacity.push(o):e.styles.isFloating()?i.nonPositionedFloats.push(o):i.nonPositionedInlineLevel.push(o),bs(n,o,t?o:c,A)):(e.styles.isInlineLevel()?h.inlineLevel.push(n):h.nonInlineLevel.push(n),bs(n,h,c,A)),ei(e.flags,8)&&Bs(e,A)})},Bs=function(e,t){for(var r=e instanceof Ri?e.start:1,n=e instanceof Ri&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof Di&&"number"==typeof o.container.value&&0!==o.container.value&&(r=o.container.value),o.listValue=ko(r,o.container.styles.listStyleType,!0),r+=n?-1:1}},Cs=function(e,t,r,n){var i=[];return ss(e)?i.push(e.subdivide(.5,!1)):i.push(e),ss(r)?i.push(r.subdivide(.5,!0)):i.push(r),ss(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),ss(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Ss=function(e,t,r){var n=t[0],i=t[1],o=t[2],s=e[0],a=e[1];if(Ze(s)&&a&&Ze(a))return[ht(s,r.width),ht(a,r.height)];var l=ws(o);if(je(s)&&(s.value===dr.CONTAIN||s.value===dr.COVER))return ws(o)?r.width/r.height<o!=(s.value===dr.COVER)?[r.width,r.width/o]:[r.height*o,r.height]:[r.width,r.height];var A=ws(n),u=ws(i),h=A||u;if(Es(s)&&(!a||Es(a)))return A&&u?[n,i]:l||h?h&&l?[A?n:i*o,u?i:n/o]:[A?n:r.width,u?i:r.height]:[r.width,r.height];if(l){var c=0,p=0;return Ze(s)?c=ht(s,r.width):Ze(a)&&(p=ht(a,r.height)),Es(s)?c=p*o:a&&!Es(a)||(p=c/o),[c,p]}var d=null,f=null;if(Ze(s)?d=ht(s,r.width):a&&Ze(a)&&(f=ht(a,r.height)),null===d||a&&!Es(a)||(f=A&&u?d/n*i:r.height),null!==f&&Es(s)&&(d=A&&u?f/i*n:r.width),null!==d&&null!==f)return[d,f];throw new Error("Unable to calculate background-size for element")},Ps=function(e,t){var r=e[t];return void 0===r?e[0]:r},Fs=function(e,t,r,n,i){var o=t[0],s=t[1],a=r[0],l=r[1];switch(e){case lr.REPEAT_X:return[new ts(Math.round(n.left),Math.round(n.top+s)),new ts(Math.round(n.left+n.width),Math.round(n.top+s)),new ts(Math.round(n.left+n.width),Math.round(l+n.top+s)),new ts(Math.round(n.left),Math.round(l+n.top+s))];case lr.REPEAT_Y:return[new ts(Math.round(n.left+o),Math.round(n.top)),new ts(Math.round(n.left+o+a),Math.round(n.top)),new ts(Math.round(n.left+o+a),Math.round(n.height+n.top)),new ts(Math.round(n.left+o),Math.round(n.height+n.top))];case lr.NO_REPEAT:return[new ts(Math.round(n.left+o),Math.round(n.top+s)),new ts(Math.round(n.left+o+a),Math.round(n.top+s)),new ts(Math.round(n.left+o+a),Math.round(n.top+s+l)),new ts(Math.round(n.left+o),Math.round(n.top+s+l))];default:return[new ts(Math.round(i.left),Math.round(i.top)),new ts(Math.round(i.left+i.width),Math.round(i.top)),new ts(Math.round(i.left+i.width),Math.round(i.height+i.top)),new ts(Math.round(i.left),Math.round(i.height+i.top))]}},xs="Hidden Text",Ts=(Us.prototype.parseMetrics=function(e,t){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",o.appendChild(r),n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(xs)),r.appendChild(i),r.appendChild(n);var s=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(xs)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:s,middle:a}},Us.prototype.getMetrics=function(e,t){var r=e+" "+t;return void 0===this._data[r]&&(this._data[r]=this.parseMetrics(e,t)),this._data[r]},Us);function Us(e){this._data={},this._document=e}var Qs=(Ds.prototype.applyEffects=function(e,t){for(var r=this;this._activeEffects.length;)this.popEffect();e.filter(function(e){return ei(e.target,t)}).forEach(function(e){return r.applyEffect(e)})},Ds.prototype.applyEffect=function(e){this.ctx.save(),0===e.type&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),1===e.type&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},Ds.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},Ds.prototype.renderStack=function(r){return A(this,void 0,void 0,function(){var t;return R(this,function(e){switch(e.label){case 0:return(t=r.element.container.styles).isVisible()?(this.ctx.globalAlpha=t.opacity,[4,this.renderStackContent(r)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},Ds.prototype.renderNode=function(t){return A(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},Ds.prototype.renderTextWithLetterSpacing=function(r,e){var n=this;0===e?this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+r.bounds.height):u(r.text).map(function(e){return f(e)}).reduce(function(e,t){return n.ctx.fillText(t,e,r.bounds.top+r.bounds.height),e+n.ctx.measureText(t).width},r.bounds.left)},Ds.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),r=e.fontFamily.join(", "),n=Ke(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,n,r].join(" "),r,n]},Ds.prototype.renderTextNode=function(n,a){return A(this,void 0,void 0,function(){var t,r,i,o,s=this;return R(this,function(e){return t=this.createFontStyle(a),r=t[0],i=t[1],o=t[2],this.ctx.font=r,n.textBounds.forEach(function(n){s.ctx.fillStyle=it(a.color),s.renderTextWithLetterSpacing(n,a.letterSpacing);var e=a.textShadow;e.length&&n.text.trim().length&&(e.slice(0).reverse().forEach(function(e){s.ctx.shadowColor=it(e.color),s.ctx.shadowOffsetX=e.offsetX.number*s.options.scale,s.ctx.shadowOffsetY=e.offsetY.number*s.options.scale,s.ctx.shadowBlur=e.blur.number,s.ctx.fillText(n.text,n.bounds.left,n.bounds.top+n.bounds.height)}),s.ctx.shadowColor="",s.ctx.shadowOffsetX=0,s.ctx.shadowOffsetY=0,s.ctx.shadowBlur=0),a.textDecorationLine.length&&(s.ctx.fillStyle=it(a.textDecorationColor||a.color),a.textDecorationLine.forEach(function(e){switch(e){case 1:var t=s.fontMetrics.getMetrics(i,o).baseline;s.ctx.fillRect(n.bounds.left,Math.round(n.bounds.top+t),n.bounds.width,1);break;case 2:s.ctx.fillRect(n.bounds.left,Math.round(n.bounds.top),n.bounds.width,1);break;case 3:var r=s.fontMetrics.getMetrics(i,o).middle;s.ctx.fillRect(n.bounds.left,Math.ceil(n.bounds.top+r),n.bounds.width,1)}}))}),[2]})})},Ds.prototype.renderReplacedElement=function(e,t,r){var n,i;r&&0<e.intrinsicWidth&&0<e.intrinsicHeight&&(n=vs(e),i=hs(t),this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,e.intrinsicWidth,e.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore())},Ds.prototype.renderNodeContent=function(m){return A(this,void 0,void 0,function(){var n,i,o,s,a,l,A,u,h,c,p,d,f,g;return R(this,function(e){switch(e.label){case 0:this.applyEffects(m.effects,4),n=m.container,i=m.curves,o=n.styles,s=0,a=n.textNodes,e.label=1;case 1:return s<a.length?(l=a[s],[4,this.renderTextNode(l,o)]):[3,4];case 2:e.sent(),e.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof Bi))return[3,8];e.label=5;case 5:return e.trys.push([5,7,,8]),[4,this.options.cache.match(n.src)];case 6:return d=e.sent(),this.renderReplacedElement(n,i,d),[3,8];case 7:return e.sent(),Rt.getInstance(this.options.id).error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Pi&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof Ti))return[3,12];e.label=9;case 9:return e.trys.push([9,11,,12]),[4,this.options.cache.match(n.svg)];case 10:return d=e.sent(),this.renderReplacedElement(n,i,d),[3,12];case 11:return e.sent(),Rt.getInstance(this.options.id).error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof eo&&n.tree?[4,new Ds({id:this.options.id,scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:n.width,height:n.height,cache:this.options.cache,windowWidth:n.width,windowHeight:n.height}).render(n.tree)]:[3,14];case 13:A=e.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),e.label=14;case 14:if(n instanceof Vi&&(u=Math.min(n.bounds.width,n.bounds.height),n.type===Li?n.checked&&(this.ctx.save(),this.path([new ts(n.bounds.left+.39363*u,n.bounds.top+.79*u),new ts(n.bounds.left+.16*u,n.bounds.top+.5549*u),new ts(n.bounds.left+.27347*u,n.bounds.top+.44071*u),new ts(n.bounds.left+.39694*u,n.bounds.top+.5649*u),new ts(n.bounds.left+.72983*u,n.bounds.top+.23*u),new ts(n.bounds.left+.84*u,n.bounds.top+.34085*u),new ts(n.bounds.left+.39363*u,n.bounds.top+.79*u)]),this.ctx.fillStyle=it(707406591),this.ctx.fill(),this.ctx.restore()):n.type===zi&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+u/2,n.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=it(707406591),this.ctx.fill(),this.ctx.restore())),Ms(n)&&n.value.length){switch(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=it(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign=Rs(n.styles.textAlign),g=vs(n),h=0,n.styles.textAlign){case mn.CENTER:h+=g.width/2;break;case mn.RIGHT:h+=g.width}c=g.add(h,0,0,-g.height/2+1),this.ctx.save(),this.path([new ts(g.left,g.top),new ts(g.left+g.width,g.top),new ts(g.left+g.width,g.top+g.height),new ts(g.left,g.top+g.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new fi(n.value,c),o.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!ei(n.styles.display,2048))return[3,20];if(null===n.styles.listStyleImage)return[3,19];if((p=n.styles.listStyleImage).type!==Kt.URL)return[3,18];d=void 0,f=p.url,e.label=15;case 15:return e.trys.push([15,17,,18]),[4,this.options.cache.match(f)];case 16:return d=e.sent(),this.ctx.drawImage(d,n.bounds.left-(d.width+10),n.bounds.top),[3,18];case 17:return e.sent(),Rt.getInstance(this.options.id).error("Error loading list-style-image "+f),[3,18];case 18:return[3,20];case 19:m.listValue&&n.styles.listStyleType!==rn.NONE&&(this.ctx.font=this.createFontStyle(o)[0],this.ctx.fillStyle=it(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",g=new P(n.bounds.left,n.bounds.top+ht(n.styles.paddingTop,n.bounds.width),n.bounds.width,(t=o.lineHeight,r=o.fontSize.number,(je(t)&&"normal"===t.value?1.2*r:t.type===le.NUMBER_TOKEN?r*t.number:Ze(t)?ht(t,r):r)/2+1)),this.renderTextWithLetterSpacing(new fi(m.listValue,g),o.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),e.label=20;case 20:return[2]}var t,r})})},Ds.prototype.renderStackContent=function(g){return A(this,void 0,void 0,function(){var t,r,n,i,o,s,a,l,A,u,h,c,p,d,f;return R(this,function(e){switch(e.label){case 0:return[4,this.renderNodeBackgroundAndBorders(g.element)];case 1:e.sent(),t=0,r=g.negativeZIndex,e.label=2;case 2:return t<r.length?(f=r[t],[4,this.renderStack(f)]):[3,5];case 3:e.sent(),e.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(g.element)];case 6:e.sent(),n=0,i=g.nonInlineLevel,e.label=7;case 7:return n<i.length?(f=i[n],[4,this.renderNode(f)]):[3,10];case 8:e.sent(),e.label=9;case 9:return n++,[3,7];case 10:o=0,s=g.nonPositionedFloats,e.label=11;case 11:return o<s.length?(f=s[o],[4,this.renderStack(f)]):[3,14];case 12:e.sent(),e.label=13;case 13:return o++,[3,11];case 14:a=0,l=g.nonPositionedInlineLevel,e.label=15;case 15:return a<l.length?(f=l[a],[4,this.renderStack(f)]):[3,18];case 16:e.sent(),e.label=17;case 17:return a++,[3,15];case 18:A=0,u=g.inlineLevel,e.label=19;case 19:return A<u.length?(f=u[A],[4,this.renderNode(f)]):[3,22];case 20:e.sent(),e.label=21;case 21:return A++,[3,19];case 22:h=0,c=g.zeroOrAutoZIndexOrTransformedOrOpacity,e.label=23;case 23:return h<c.length?(f=c[h],[4,this.renderStack(f)]):[3,26];case 24:e.sent(),e.label=25;case 25:return h++,[3,23];case 26:p=0,d=g.positiveZIndex,e.label=27;case 27:return p<d.length?(f=d[p],[4,this.renderStack(f)]):[3,30];case 28:e.sent(),e.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},Ds.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},Ds.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},Ds.prototype.formatPath=function(e){var n=this;e.forEach(function(e,t){var r=ss(e)?e.start:e;0===t?n.ctx.moveTo(r.x,r.y):n.ctx.lineTo(r.x,r.y),ss(e)&&n.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},Ds.prototype.renderRepeat=function(e,t,r,n){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(r,n),this.ctx.fill(),this.ctx.translate(-r,-n)},Ds.prototype.resizeImage=function(e,t,r){if(e.width===t&&e.height===r)return e;var n=this.canvas.ownerDocument.createElement("canvas");return n.width=t,n.height=r,n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,r),n},Ds.prototype.renderBackgroundImage=function(I){return A(this,void 0,void 0,function(){var D,t,M,r,n,i;return R(this,function(e){switch(e.label){case 0:D=I.styles.backgroundImage.length-1,t=function(t){var r,n,i,o,s,a,l,A,u,h,c,p,d,f,g,m,y,v,_,E,w,b,B,C,S,P,F,x,T,U,Q;return R(this,function(e){switch(e.label){case 0:if(t.type!==Kt.URL)return[3,5];r=void 0,n=t.url,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,M.options.cache.match(n)];case 2:return r=e.sent(),[3,4];case 3:return e.sent(),Rt.getInstance(M.options.id).error("Error loading background-image "+n),[3,4];case 4:return r&&(i=_s(I,D,[r.width,r.height,r.width/r.height]),m=i[0],b=i[1],B=i[2],_=i[3],E=i[4],f=M.ctx.createPattern(M.resizeImage(r,_,E),"repeat"),M.renderRepeat(m,f,b,B)),[3,6];case 5:t.type===Kt.LINEAR_GRADIENT?(o=_s(I,D,[null,null,null]),m=o[0],b=o[1],B=o[2],_=o[3],E=o[4],s=St(t.angle,_,E),a=s[0],l=s[1],A=s[2],u=s[3],h=s[4],(c=document.createElement("canvas")).width=_,c.height=E,p=c.getContext("2d"),d=p.createLinearGradient(l,u,A,h),Ct(t.stops,a).forEach(function(e){return d.addColorStop(e.stop,it(e.color))}),p.fillStyle=d,p.fillRect(0,0,_,E),0<_&&0<E&&(f=M.ctx.createPattern(c,"repeat"),M.renderRepeat(m,f,b,B))):t.type===Kt.RADIAL_GRADIENT&&(g=_s(I,D,[null,null,null]),m=g[0],y=g[1],v=g[2],_=g[3],E=g[4],w=0===t.position.length?[At]:t.position,b=ht(w[0],_),B=ht(w[w.length-1],E),C=function(e,t,r,n,i){var o,s,a,l,A,u=0,h=0;switch(e.size){case or.CLOSEST_SIDE:e.shape===nr.CIRCLE?u=h=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===nr.ELLIPSE&&(u=Math.min(Math.abs(t),Math.abs(t-n)),h=Math.min(Math.abs(r),Math.abs(r-i)));break;case or.CLOSEST_CORNER:e.shape===nr.CIRCLE?u=h=Math.min(Pt(t,r),Pt(t,r-i),Pt(t-n,r),Pt(t-n,r-i)):e.shape===nr.ELLIPSE&&(s=Math.min(Math.abs(r),Math.abs(r-i))/Math.min(Math.abs(t),Math.abs(t-n)),l=(o=Ft(n,i,t,r,!0))[0],A=o[1],h=s*(u=Pt(l-t,(A-r)/s)));break;case or.FARTHEST_SIDE:e.shape===nr.CIRCLE?u=h=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-i)):e.shape===nr.ELLIPSE&&(u=Math.max(Math.abs(t),Math.abs(t-n)),h=Math.max(Math.abs(r),Math.abs(r-i)));break;case or.FARTHEST_CORNER:e.shape===nr.CIRCLE?u=h=Math.max(Pt(t,r),Pt(t,r-i),Pt(t-n,r),Pt(t-n,r-i)):e.shape===nr.ELLIPSE&&(s=Math.max(Math.abs(r),Math.abs(r-i))/Math.max(Math.abs(t),Math.abs(t-n)),l=(a=Ft(n,i,t,r,!1))[0],A=a[1],h=s*(u=Pt(l-t,(A-r)/s)))}return Array.isArray(e.size)&&(u=ht(e.size[0],n),h=2===e.size.length?ht(e.size[1],i):u),[u,h]}(t,b,B,_,E),S=C[0],P=C[1],0<S&&0<S&&(F=M.ctx.createRadialGradient(y+b,v+B,0,y+b,v+B,S),Ct(t.stops,2*S).forEach(function(e){return F.addColorStop(e.stop,it(e.color))}),M.path(m),M.ctx.fillStyle=F,S!==P?(x=I.bounds.left+.5*I.bounds.width,T=I.bounds.top+.5*I.bounds.height,Q=1/(U=P/S),M.ctx.save(),M.ctx.translate(x,T),M.ctx.transform(1,0,0,U,0,0),M.ctx.translate(-x,-T),M.ctx.fillRect(y,Q*(v-T)+T,_,E*Q),M.ctx.restore()):M.ctx.fill())),e.label=6;case 6:return D--,[2]}})},M=this,r=0,n=I.styles.backgroundImage.slice(0).reverse(),e.label=1;case 1:return r<n.length?(i=n[r],[5,t(i)]):[3,4];case 2:e.sent(),e.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},Ds.prototype.renderBorder=function(t,r,n){return A(this,void 0,void 0,function(){return R(this,function(e){return this.path(function(e,t){switch(t){case 0:return Cs(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Cs(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Cs(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return Cs(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}}(n,r)),this.ctx.fillStyle=it(t),this.ctx.fill(),[2]})})},Ds.prototype.renderNodeBackgroundAndBorders=function(u){return A(this,void 0,void 0,function(){var t,r,n,i,o,s,a,l,A=this;return R(this,function(e){switch(e.label){case 0:return(this.applyEffects(u.effects,2),t=u.container.styles,r=!nt(t.backgroundColor)||t.backgroundImage.length,n=[{style:t.borderTopStyle,color:t.borderTopColor},{style:t.borderRightStyle,color:t.borderRightColor},{style:t.borderBottomStyle,color:t.borderBottomColor},{style:t.borderLeftStyle,color:t.borderLeftColor}],i=Is(Ps(t.backgroundClip,0),u.curves),r||t.boxShadow.length)?(this.ctx.save(),this.path(i),this.ctx.clip(),nt(t.backgroundColor)||(this.ctx.fillStyle=it(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(u.container)]):[3,2];case 1:e.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(e){A.ctx.save();var t,r,n,i,o,s=us(u.curves),a=e.inset?0:1e4,l=(t=s,r=-a+(e.inset?1:-1)*e.spread.number,n=(e.inset?1:-1)*e.spread.number,i=e.spread.number*(e.inset?-2:2),o=e.spread.number*(e.inset?-2:2),t.map(function(e,t){switch(t){case 0:return e.add(r,n);case 1:return e.add(r+i,n);case 2:return e.add(r+i,n+o);case 3:return e.add(r,n+o)}return e}));e.inset?(A.path(s),A.ctx.clip(),A.mask(l)):(A.mask(s),A.ctx.clip(),A.path(l)),A.ctx.shadowOffsetX=e.offsetX.number+a,A.ctx.shadowOffsetY=e.offsetY.number,A.ctx.shadowColor=it(e.color),A.ctx.shadowBlur=e.blur.number,A.ctx.fillStyle=e.inset?it(e.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),e.label=2;case 2:s=o=0,a=n,e.label=3;case 3:return s<a.length?(l=a[s]).style===_r.NONE||nt(l.color)?[3,5]:[4,this.renderBorder(l.color,o,u.curves)]:[3,7];case 4:e.sent(),e.label=5;case 5:o++,e.label=6;case 6:return s++,[3,3];case 7:return[2]}})})},Ds.prototype.render=function(i){return A(this,void 0,void 0,function(){return R(this,function(e){switch(e.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=it(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),t=new gs(i,[]),r=new fs(t),bs(t,r,r,n=[]),Bs(t.container,n),[4,this.renderStack(r)];case 1:return e.sent(),this.applyEffects([],2),[2,this.canvas]}var t,r,n})})},Ds);function Ds(e){this._activeEffects=[],this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),(this.options=e).canvas||(this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px"),this.fontMetrics=new Ts(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Rt.getInstance(e.id).debug("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}var Ms=function(e){return e instanceof Ji||(e instanceof qi||e instanceof Vi&&e.type!==zi&&e.type!==Li)},Is=function(e,t){switch(e){case _t.BORDER_BOX:return us(t);case _t.CONTENT_BOX:return[(r=t).topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox];case _t.PADDING_BOX:default:return hs(t)}var r},Rs=function(e){switch(e){case mn.CENTER:return"center";case mn.RIGHT:return"right";case mn.LEFT:default:return"left"}},ks=(Ns.prototype.render=function(n){return A(this,void 0,void 0,function(){var t,r;return R(this,function(e){switch(e.label){case 0:return t=Dt(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,n),[4,Hs(t)];case 1:return r=e.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=it(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},Ns);function Ns(e){this.canvas=e.canvas?e.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x+e.scrollX,-e.y+e.scrollY),Rt.getInstance(e.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+e.scale)}function Os(e){return dt(Le.create(e).parseComponentValue())}var Hs=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(n))})};"undefined"!=typeof window&&Nt.setContext(window);var Ls=function(B,C){return A(void 0,void 0,void 0,function(){var t,r,n,i,o,s,a,l,A,u,h,c,p,d,f,g,m,y,v,_,E,w,b;return R(this,function(e){switch(e.label){case 0:if(!(t=B.ownerDocument))throw new Error("Element is not attached to a Document");if(!(r=t.defaultView))throw new Error("Document is not attached to a Window");return n=(Math.round(1e3*Math.random())+Date.now()).toString(16),i=yo(B)||"HTML"===B.tagName?function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new P(0,0,n,i)}(t):F(B),o=i.width,s=i.height,a=i.left,l=i.top,A=S({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},C),u={backgroundColor:"#ffffff",cache:C.cache?C.cache:Nt.create(n,A),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:r.devicePixelRatio||1,windowWidth:r.innerWidth,windowHeight:r.innerHeight,scrollX:r.pageXOffset,scrollY:r.pageYOffset,x:a,y:l,width:Math.ceil(o),height:Math.ceil(s),id:n},h=S({},u,A,C),c=new P(h.scrollX,h.scrollY,h.windowWidth,h.windowHeight),Rt.create({id:n,enabled:h.logging}),Rt.getInstance(n).debug("Starting document clone"),p=new Oo(B,{id:n,onclone:h.onclone,ignoreElements:h.ignoreElements,inlineImages:h.foreignObjectRendering,copyStyles:h.foreignObjectRendering}),(d=p.clonedReferenceElement)?[4,p.toIFrame(t,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return(f=e.sent(),g=t.documentElement?Os(getComputedStyle(t.documentElement).backgroundColor):bt.TRANSPARENT,m=t.body?Os(getComputedStyle(t.body).backgroundColor):bt.TRANSPARENT,y=C.backgroundColor,v="string"==typeof y?Os(y):null===y?bt.TRANSPARENT:4294967295,_=B===t.documentElement?nt(g)?nt(m)?v:m:g:v,E={id:n,cache:h.cache,canvas:h.canvas,backgroundColor:_,scale:h.scale,x:h.x,y:h.y,scrollX:h.scrollX,scrollY:h.scrollY,width:h.width,height:h.height,windowWidth:h.windowWidth,windowHeight:h.windowHeight},h.foreignObjectRendering)?(Rt.getInstance(n).debug("Document cloned, using foreign object rendering"),[4,new ks(E).render(d)]):[3,3];case 2:return w=e.sent(),[3,5];case 3:return Rt.getInstance(n).debug("Document cloned, using computed rendering"),Nt.attachInstance(h.cache),Rt.getInstance(n).debug("Starting DOM parsing"),b=so(d),Nt.detachInstance(),_===b.styles.backgroundColor&&(b.styles.backgroundColor=bt.TRANSPARENT),Rt.getInstance(n).debug("Starting renderer"),[4,new Qs(E).render(b)];case 4:w=e.sent(),e.label=5;case 5:return!0===h.removeContainer&&(Oo.destroy(f)||Rt.getInstance(n).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Rt.getInstance(n).debug("Finished rendering"),Rt.destroy(n),Nt.destroy(n),[2,w]}})})};return function(e,t){return void 0===t&&(t={}),Ls(e,t)}});var LZString=function(){function r(e,t){if(!o[e]){o[e]={};for(var r=0;r<e.length;r++)o[e][e.charAt(r)]=r}return o[e][t]}var m=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={},s={compressToBase64:function(e){if(null==e)return"";var t=s._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:s._decompress(t.length,32,function(e){return r(n,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":s._compress(e,15,function(e){return m(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:s._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=s.compress(e),r=new Uint8Array(2*t.length),n=0,i=t.length;n<i;n++){var o=t.charCodeAt(n);r[2*n]=o>>>8,r[2*n+1]=o%256}return r},decompressFromUint8Array:function(e){if(null==e)return s.decompress(e);for(var t=new Array(e.length/2),r=0,n=t.length;r<n;r++)t[r]=256*e[2*r]+e[2*r+1];var i=[];return t.forEach(function(e){i.push(m(e))}),s.decompress(i.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":s._compress(e,6,function(e){return i.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),s._decompress(t.length,32,function(e){return r(i,t.charAt(e))}))},compress:function(e){return s._compress(e,16,function(e){return m(e)})},_compress:function(e,t,r){if(null==e)return"";for(var n,i,o,s,a={},l={},A="",u=2,h=3,c=2,p=[],d=0,f=0,g=0;g<e.length;g+=1)if(o=e.charAt(g),Object.prototype.hasOwnProperty.call(a,o)||(a[o]=h++,l[o]=!0),s=A+o,Object.prototype.hasOwnProperty.call(a,s))A=s;else{if(Object.prototype.hasOwnProperty.call(l,A)){if(A.charCodeAt(0)<256){for(n=0;n<c;n++)d<<=1,f==t-1?(f=0,p.push(r(d)),d=0):f++;for(i=A.charCodeAt(0),n=0;n<8;n++)d=d<<1|1&i,f==t-1?(f=0,p.push(r(d)),d=0):f++,i>>=1}else{for(i=1,n=0;n<c;n++)d=d<<1|i,f==t-1?(f=0,p.push(r(d)),d=0):f++,i=0;for(i=A.charCodeAt(0),n=0;n<16;n++)d=d<<1|1&i,f==t-1?(f=0,p.push(r(d)),d=0):f++,i>>=1}0==--u&&(u=Math.pow(2,c),c++),delete l[A]}else for(i=a[A],n=0;n<c;n++)d=d<<1|1&i,f==t-1?(f=0,p.push(r(d)),d=0):f++,i>>=1;0==--u&&(u=Math.pow(2,c),c++),a[s]=h++,A=String(o)}if(""!==A){if(Object.prototype.hasOwnProperty.call(l,A)){if(A.charCodeAt(0)<256){for(n=0;n<c;n++)d<<=1,f==t-1?(f=0,p.push(r(d)),d=0):f++;for(i=A.charCodeAt(0),n=0;n<8;n++)d=d<<1|1&i,f==t-1?(f=0,p.push(r(d)),d=0):f++,i>>=1}else{for(i=1,n=0;n<c;n++)d=d<<1|i,f==t-1?(f=0,p.push(r(d)),d=0):f++,i=0;for(i=A.charCodeAt(0),n=0;n<16;n++)d=d<<1|1&i,f==t-1?(f=0,p.push(r(d)),d=0):f++,i>>=1}0==--u&&(u=Math.pow(2,c),c++),delete l[A]}else for(i=a[A],n=0;n<c;n++)d=d<<1|1&i,f==t-1?(f=0,p.push(r(d)),d=0):f++,i>>=1;0==--u&&(u=Math.pow(2,c),c++)}for(i=2,n=0;n<c;n++)d=d<<1|1&i,f==t-1?(f=0,p.push(r(d)),d=0):f++,i>>=1;for(;;){if(d<<=1,f==t-1){p.push(r(d));break}f++}return p.join("")},decompress:function(t){return null==t?"":""==t?null:s._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,r){for(var n,i,o,s,a,l,A=[],u=4,h=4,c=3,p="",d=[],f={val:r(0),position:t,index:1},g=0;g<3;g+=1)A[g]=g;for(i=0,s=Math.pow(2,2),a=1;a!=s;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=t,f.val=r(f.index++)),i|=(0<o?1:0)*a,a<<=1;switch(i){case 0:for(i=0,s=Math.pow(2,8),a=1;a!=s;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=t,f.val=r(f.index++)),i|=(0<o?1:0)*a,a<<=1;l=m(i);break;case 1:for(i=0,s=Math.pow(2,16),a=1;a!=s;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=t,f.val=r(f.index++)),i|=(0<o?1:0)*a,a<<=1;l=m(i);break;case 2:return""}for(n=A[3]=l,d.push(l);;){if(f.index>e)return"";for(i=0,s=Math.pow(2,c),a=1;a!=s;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=t,f.val=r(f.index++)),i|=(0<o?1:0)*a,a<<=1;switch(l=i){case 0:for(i=0,s=Math.pow(2,8),a=1;a!=s;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=t,f.val=r(f.index++)),i|=(0<o?1:0)*a,a<<=1;A[h++]=m(i),l=h-1,u--;break;case 1:for(i=0,s=Math.pow(2,16),a=1;a!=s;)o=f.val&f.position,f.position>>=1,0==f.position&&(f.position=t,f.val=r(f.index++)),i|=(0<o?1:0)*a,a<<=1;A[h++]=m(i),l=h-1,u--;break;case 2:return d.join("")}if(0==u&&(u=Math.pow(2,c),c++),A[l])p=A[l];else{if(l!==h)return null;p=n+n.charAt(0)}d.push(p),A[h++]=n+p.charAt(0),n=p,0==--u&&(u=Math.pow(2,c),c++)}}};return s}();"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString);